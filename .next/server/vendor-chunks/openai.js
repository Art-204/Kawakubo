"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/openai";
exports.ids = ["vendor-chunks/openai"];
exports.modules = {

/***/ "(rsc)/./node_modules/openai/_shims/MultipartBody.mjs":
/*!******************************************************!*\
  !*** ./node_modules/openai/_shims/MultipartBody.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MultipartBody: () => (/* binding */ MultipartBody)\n/* harmony export */ });\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */ class MultipartBody {\n    constructor(body){\n        this.body = body;\n    }\n    get [Symbol.toStringTag]() {\n        return \"MultipartBody\";\n    }\n} //# sourceMappingURL=MultipartBody.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9NdWx0aXBhcnRCb2R5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0NBRUMsR0FDTSxNQUFNQTtJQUNUQyxZQUFZQyxJQUFJLENBQUU7UUFDZCxJQUFJLENBQUNBLElBQUksR0FBR0E7SUFDaEI7SUFDQSxJQUFJLENBQUNDLE9BQU9DLFdBQVcsQ0FBQyxHQUFHO1FBQ3ZCLE9BQU87SUFDWDtBQUNKLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL011bHRpcGFydEJvZHkubWpzPzdkYWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwYXJ0Qm9keSB7XG4gICAgY29uc3RydWN0b3IoYm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIHJldHVybiAnTXVsdGlwYXJ0Qm9keSc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlwYXJ0Qm9keS5tanMubWFwIl0sIm5hbWVzIjpbIk11bHRpcGFydEJvZHkiLCJjb25zdHJ1Y3RvciIsImJvZHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/_shims/MultipartBody.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/_shims/index.mjs":
/*!**********************************************!*\
  !*** ./node_modules/openai/_shims/index.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blob: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Blob),\n/* harmony export */   File: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.File),\n/* harmony export */   FormData: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.FormData),\n/* harmony export */   Headers: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Headers),\n/* harmony export */   ReadableStream: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.ReadableStream),\n/* harmony export */   Request: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Request),\n/* harmony export */   Response: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Response),\n/* harmony export */   auto: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.auto),\n/* harmony export */   fetch: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.fetch),\n/* harmony export */   fileFromPath: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.fileFromPath),\n/* harmony export */   getDefaultAgent: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.getDefaultAgent),\n/* harmony export */   getMultipartRequestOptions: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions),\n/* harmony export */   isFsReadStream: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.isFsReadStream),\n/* harmony export */   kind: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.kind),\n/* harmony export */   setShims: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.setShims)\n/* harmony export */ });\n/* harmony import */ var _registry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registry.mjs */ \"(rsc)/./node_modules/openai/_shims/registry.mjs\");\n/* harmony import */ var openai_shims_auto_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/_shims/auto/runtime */ \"(rsc)/./node_modules/openai/_shims/node-runtime.mjs\");\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */ \n\nif (!_registry_mjs__WEBPACK_IMPORTED_MODULE_0__.kind) _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.setShims(openai_shims_auto_runtime__WEBPACK_IMPORTED_MODULE_1__.getRuntime(), {\n    auto: true\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUN1QztBQUNXO0FBQ25ELElBQUksQ0FBQ0EsK0NBQVUsRUFBRUEsbURBQWMsQ0FBQ0MsaUVBQWUsSUFBSTtJQUFFQSxNQUFNO0FBQUs7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvaW5kZXgubWpzPzdmOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgKiBhcyBzaGltcyBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG5pbXBvcnQgKiBhcyBhdXRvIGZyb20gJ29wZW5haS9fc2hpbXMvYXV0by9ydW50aW1lJztcbmlmICghc2hpbXMua2luZCkgc2hpbXMuc2V0U2hpbXMoYXV0by5nZXRSdW50aW1lKCksIHsgYXV0bzogdHJ1ZSB9KTtcbmV4cG9ydCAqIGZyb20gJy4vcmVnaXN0cnkubWpzJztcbiJdLCJuYW1lcyI6WyJzaGltcyIsImF1dG8iLCJraW5kIiwic2V0U2hpbXMiLCJnZXRSdW50aW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/_shims/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/_shims/node-runtime.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/openai/_shims/node-runtime.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRuntime: () => (/* binding */ getRuntime)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"(rsc)/./node_modules/node-fetch/lib/index.mjs\");\n/* harmony import */ var formdata_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formdata-node */ \"(rsc)/./node_modules/formdata-node/lib/esm/index.js\");\n/* harmony import */ var agentkeepalive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! agentkeepalive */ \"(rsc)/./node_modules/agentkeepalive/index.js\");\n/* harmony import */ var abort_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! abort-controller */ \"(rsc)/./node_modules/abort-controller/dist/abort-controller.js\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var form_data_encoder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! form-data-encoder */ \"(rsc)/./node_modules/form-data-encoder/lib/esm/index.js\");\n/* harmony import */ var node_stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! node:stream */ \"node:stream\");\n/* harmony import */ var _MultipartBody_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MultipartBody.mjs */ \"(rsc)/./node_modules/openai/_shims/MultipartBody.mjs\");\n/* harmony import */ var node_stream_web__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! node:stream/web */ \"node:stream/web\");\n\n\n\n\n\n\n\n\n\nlet fileFromPathWarned = false;\nasync function fileFromPath(path, ...args) {\n    // this import fails in environments that don't handle export maps correctly, like old versions of Jest\n    const { fileFromPath: _fileFromPath } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/formdata-node\"), __webpack_require__.e(\"vendor-chunks/node-domexception\")]).then(__webpack_require__.bind(__webpack_require__, /*! formdata-node/file-from-path */ \"(rsc)/./node_modules/formdata-node/lib/esm/fileFromPath.js\"));\n    if (!fileFromPathWarned) {\n        console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(path)}) instead`);\n        fileFromPathWarned = true;\n    }\n    // @ts-ignore\n    return await _fileFromPath(path, ...args);\n}\nconst defaultHttpAgent = new agentkeepalive__WEBPACK_IMPORTED_MODULE_2__({\n    keepAlive: true,\n    timeout: 5 * 60 * 1000\n});\nconst defaultHttpsAgent = new agentkeepalive__WEBPACK_IMPORTED_MODULE_2__.HttpsAgent({\n    keepAlive: true,\n    timeout: 5 * 60 * 1000\n});\nasync function getMultipartRequestOptions(form, opts) {\n    const encoder = new form_data_encoder__WEBPACK_IMPORTED_MODULE_5__.FormDataEncoder(form);\n    const readable = node_stream__WEBPACK_IMPORTED_MODULE_6__.Readable.from(encoder);\n    const body = new _MultipartBody_mjs__WEBPACK_IMPORTED_MODULE_8__.MultipartBody(readable);\n    const headers = {\n        ...opts.headers,\n        ...encoder.headers,\n        \"Content-Length\": encoder.contentLength\n    };\n    return {\n        ...opts,\n        body: body,\n        headers\n    };\n}\nfunction getRuntime() {\n    // Polyfill global object if needed.\n    if (typeof AbortController === \"undefined\") {\n        // @ts-expect-error (the types are subtly different, but compatible in practice)\n        globalThis.AbortController = abort_controller__WEBPACK_IMPORTED_MODULE_3__.AbortController;\n    }\n    return {\n        kind: \"node\",\n        fetch: node_fetch__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        Request: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Request,\n        Response: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Response,\n        Headers: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Headers,\n        FormData: formdata_node__WEBPACK_IMPORTED_MODULE_1__.FormData,\n        Blob: formdata_node__WEBPACK_IMPORTED_MODULE_1__.Blob,\n        File: formdata_node__WEBPACK_IMPORTED_MODULE_1__.File,\n        ReadableStream: node_stream_web__WEBPACK_IMPORTED_MODULE_7__.ReadableStream,\n        getMultipartRequestOptions,\n        getDefaultAgent: (url)=>url.startsWith(\"https\") ? defaultHttpsAgent : defaultHttpAgent,\n        fileFromPath,\n        isFsReadStream: (value)=>value instanceof node_fs__WEBPACK_IMPORTED_MODULE_4__.ReadStream\n    };\n} //# sourceMappingURL=node-runtime.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9ub2RlLXJ1bnRpbWUubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDRztBQUNRO0FBQ2tDO0FBQ3pCO0FBQ0Q7QUFDYjtBQUNhO0FBQ0g7QUFDakQsSUFBSVcscUJBQXFCO0FBQ3pCLGVBQWVDLGFBQWFDLElBQUksRUFBRSxHQUFHQyxJQUFJO0lBQ3JDLHVHQUF1RztJQUN2RyxNQUFNLEVBQUVGLGNBQWNHLGFBQWEsRUFBRSxHQUFHLE1BQU0sa1NBQU87SUFDckQsSUFBSSxDQUFDSixvQkFBb0I7UUFDckJLLFFBQVFDLElBQUksQ0FBQyxDQUFDLG9EQUFvRCxFQUFFQyxLQUFLQyxTQUFTLENBQUNOLE1BQU0sU0FBUyxDQUFDO1FBQ25HRixxQkFBcUI7SUFDekI7SUFDQSxhQUFhO0lBQ2IsT0FBTyxNQUFNSSxjQUFjRixTQUFTQztBQUN4QztBQUNBLE1BQU1NLG1CQUFtQixJQUFJbEIsMkNBQWNBLENBQUM7SUFBRW1CLFdBQVc7SUFBTUMsU0FBUyxJQUFJLEtBQUs7QUFBSztBQUN0RixNQUFNQyxvQkFBb0IsSUFBSXJCLHNEQUF5QixDQUFDO0lBQUVtQixXQUFXO0lBQU1DLFNBQVMsSUFBSSxLQUFLO0FBQUs7QUFDbEcsZUFBZUcsMkJBQTJCQyxJQUFJLEVBQUVDLElBQUk7SUFDaEQsTUFBTUMsVUFBVSxJQUFJckIsOERBQWVBLENBQUNtQjtJQUNwQyxNQUFNRyxXQUFXckIsaURBQVFBLENBQUNzQixJQUFJLENBQUNGO0lBQy9CLE1BQU1HLE9BQU8sSUFBSXRCLDZEQUFhQSxDQUFDb0I7SUFDL0IsTUFBTUcsVUFBVTtRQUNaLEdBQUdMLEtBQUtLLE9BQU87UUFDZixHQUFHSixRQUFRSSxPQUFPO1FBQ2xCLGtCQUFrQkosUUFBUUssYUFBYTtJQUMzQztJQUNBLE9BQU87UUFBRSxHQUFHTixJQUFJO1FBQUVJLE1BQU1BO1FBQU1DO0lBQVE7QUFDMUM7QUFDTyxTQUFTRTtJQUNaLG9DQUFvQztJQUNwQyxJQUFJLE9BQU8vQixvQkFBb0IsYUFBYTtRQUN4QyxnRkFBZ0Y7UUFDaEZnQyxXQUFXaEMsZUFBZSxHQUFHQyw2REFBdUJBO0lBQ3hEO0lBQ0EsT0FBTztRQUNIZ0MsTUFBTTtRQUNOQyxPQUFPckMsa0RBQVU7UUFDakJ1QyxTQUFTdkMsK0NBQVU7UUFDbkJ3QyxVQUFVeEMsZ0RBQVc7UUFDckJ5QyxTQUFTekMsK0NBQVU7UUFDbkIwQyxVQUFVekMsbURBQVc7UUFDckIwQyxNQUFNMUMsK0NBQU87UUFDYjJDLE1BQU0zQywrQ0FBTztRQUNiUyxjQUFjQSw2REFBQUE7UUFDZGU7UUFDQW9CLGlCQUFpQixDQUFDQyxNQUFTQSxJQUFJQyxVQUFVLENBQUMsV0FBV3hCLG9CQUFvQkg7UUFDekVSO1FBQ0FvQyxnQkFBZ0IsQ0FBQ0MsUUFBVUEsaUJBQWlCM0MsK0NBQVlBO0lBQzVEO0FBQ0osRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvbm9kZS1ydW50aW1lLm1qcz80YTYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG5mIGZyb20gJ25vZGUtZmV0Y2gnO1xuaW1wb3J0ICogYXMgZmQgZnJvbSAnZm9ybWRhdGEtbm9kZSc7XG5pbXBvcnQgS2VlcEFsaXZlQWdlbnQgZnJvbSAnYWdlbnRrZWVwYWxpdmUnO1xuaW1wb3J0IHsgQWJvcnRDb250cm9sbGVyIGFzIEFib3J0Q29udHJvbGxlclBvbHlmaWxsIH0gZnJvbSAnYWJvcnQtY29udHJvbGxlcic7XG5pbXBvcnQgeyBSZWFkU3RyZWFtIGFzIEZzUmVhZFN0cmVhbSB9IGZyb20gJ25vZGU6ZnMnO1xuaW1wb3J0IHsgRm9ybURhdGFFbmNvZGVyIH0gZnJvbSAnZm9ybS1kYXRhLWVuY29kZXInO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tICdub2RlOnN0cmVhbSc7XG5pbXBvcnQgeyBNdWx0aXBhcnRCb2R5IH0gZnJvbSBcIi4vTXVsdGlwYXJ0Qm9keS5tanNcIjtcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnbm9kZTpzdHJlYW0vd2ViJztcbmxldCBmaWxlRnJvbVBhdGhXYXJuZWQgPSBmYWxzZTtcbmFzeW5jIGZ1bmN0aW9uIGZpbGVGcm9tUGF0aChwYXRoLCAuLi5hcmdzKSB7XG4gICAgLy8gdGhpcyBpbXBvcnQgZmFpbHMgaW4gZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3QgaGFuZGxlIGV4cG9ydCBtYXBzIGNvcnJlY3RseSwgbGlrZSBvbGQgdmVyc2lvbnMgb2YgSmVzdFxuICAgIGNvbnN0IHsgZmlsZUZyb21QYXRoOiBfZmlsZUZyb21QYXRoIH0gPSBhd2FpdCBpbXBvcnQoJ2Zvcm1kYXRhLW5vZGUvZmlsZS1mcm9tLXBhdGgnKTtcbiAgICBpZiAoIWZpbGVGcm9tUGF0aFdhcm5lZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYGZpbGVGcm9tUGF0aCBpcyBkZXByZWNhdGVkOyB1c2UgZnMuY3JlYXRlUmVhZFN0cmVhbSgke0pTT04uc3RyaW5naWZ5KHBhdGgpfSkgaW5zdGVhZGApO1xuICAgICAgICBmaWxlRnJvbVBhdGhXYXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGF3YWl0IF9maWxlRnJvbVBhdGgocGF0aCwgLi4uYXJncyk7XG59XG5jb25zdCBkZWZhdWx0SHR0cEFnZW50ID0gbmV3IEtlZXBBbGl2ZUFnZW50KHsga2VlcEFsaXZlOiB0cnVlLCB0aW1lb3V0OiA1ICogNjAgKiAxMDAwIH0pO1xuY29uc3QgZGVmYXVsdEh0dHBzQWdlbnQgPSBuZXcgS2VlcEFsaXZlQWdlbnQuSHR0cHNBZ2VudCh7IGtlZXBBbGl2ZTogdHJ1ZSwgdGltZW91dDogNSAqIDYwICogMTAwMCB9KTtcbmFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpIHtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IEZvcm1EYXRhRW5jb2Rlcihmb3JtKTtcbiAgICBjb25zdCByZWFkYWJsZSA9IFJlYWRhYmxlLmZyb20oZW5jb2Rlcik7XG4gICAgY29uc3QgYm9keSA9IG5ldyBNdWx0aXBhcnRCb2R5KHJlYWRhYmxlKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRzLmhlYWRlcnMsXG4gICAgICAgIC4uLmVuY29kZXIuaGVhZGVycyxcbiAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogZW5jb2Rlci5jb250ZW50TGVuZ3RoLFxuICAgIH07XG4gICAgcmV0dXJuIHsgLi4ub3B0cywgYm9keTogYm9keSwgaGVhZGVycyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWUoKSB7XG4gICAgLy8gUG9seWZpbGwgZ2xvYmFsIG9iamVjdCBpZiBuZWVkZWQuXG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgKHRoZSB0eXBlcyBhcmUgc3VidGx5IGRpZmZlcmVudCwgYnV0IGNvbXBhdGlibGUgaW4gcHJhY3RpY2UpXG4gICAgICAgIGdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyID0gQWJvcnRDb250cm9sbGVyUG9seWZpbGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6ICdub2RlJyxcbiAgICAgICAgZmV0Y2g6IG5mLmRlZmF1bHQsXG4gICAgICAgIFJlcXVlc3Q6IG5mLlJlcXVlc3QsXG4gICAgICAgIFJlc3BvbnNlOiBuZi5SZXNwb25zZSxcbiAgICAgICAgSGVhZGVyczogbmYuSGVhZGVycyxcbiAgICAgICAgRm9ybURhdGE6IGZkLkZvcm1EYXRhLFxuICAgICAgICBCbG9iOiBmZC5CbG9iLFxuICAgICAgICBGaWxlOiBmZC5GaWxlLFxuICAgICAgICBSZWFkYWJsZVN0cmVhbSxcbiAgICAgICAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIGdldERlZmF1bHRBZ2VudDogKHVybCkgPT4gKHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gZGVmYXVsdEh0dHBzQWdlbnQgOiBkZWZhdWx0SHR0cEFnZW50KSxcbiAgICAgICAgZmlsZUZyb21QYXRoLFxuICAgICAgICBpc0ZzUmVhZFN0cmVhbTogKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEZzUmVhZFN0cmVhbSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9kZS1ydW50aW1lLm1qcy5tYXAiXSwibmFtZXMiOlsibmYiLCJmZCIsIktlZXBBbGl2ZUFnZW50IiwiQWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyUG9seWZpbGwiLCJSZWFkU3RyZWFtIiwiRnNSZWFkU3RyZWFtIiwiRm9ybURhdGFFbmNvZGVyIiwiUmVhZGFibGUiLCJNdWx0aXBhcnRCb2R5IiwiUmVhZGFibGVTdHJlYW0iLCJmaWxlRnJvbVBhdGhXYXJuZWQiLCJmaWxlRnJvbVBhdGgiLCJwYXRoIiwiYXJncyIsIl9maWxlRnJvbVBhdGgiLCJjb25zb2xlIiwid2FybiIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0SHR0cEFnZW50Iiwia2VlcEFsaXZlIiwidGltZW91dCIsImRlZmF1bHRIdHRwc0FnZW50IiwiSHR0cHNBZ2VudCIsImdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zIiwiZm9ybSIsIm9wdHMiLCJlbmNvZGVyIiwicmVhZGFibGUiLCJmcm9tIiwiYm9keSIsImhlYWRlcnMiLCJjb250ZW50TGVuZ3RoIiwiZ2V0UnVudGltZSIsImdsb2JhbFRoaXMiLCJraW5kIiwiZmV0Y2giLCJkZWZhdWx0IiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiSGVhZGVycyIsIkZvcm1EYXRhIiwiQmxvYiIsIkZpbGUiLCJnZXREZWZhdWx0QWdlbnQiLCJ1cmwiLCJzdGFydHNXaXRoIiwiaXNGc1JlYWRTdHJlYW0iLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/_shims/node-runtime.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/_shims/registry.mjs":
/*!*************************************************!*\
  !*** ./node_modules/openai/_shims/registry.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blob: () => (/* binding */ Blob),\n/* harmony export */   File: () => (/* binding */ File),\n/* harmony export */   FormData: () => (/* binding */ FormData),\n/* harmony export */   Headers: () => (/* binding */ Headers),\n/* harmony export */   ReadableStream: () => (/* binding */ ReadableStream),\n/* harmony export */   Request: () => (/* binding */ Request),\n/* harmony export */   Response: () => (/* binding */ Response),\n/* harmony export */   auto: () => (/* binding */ auto),\n/* harmony export */   fetch: () => (/* binding */ fetch),\n/* harmony export */   fileFromPath: () => (/* binding */ fileFromPath),\n/* harmony export */   getDefaultAgent: () => (/* binding */ getDefaultAgent),\n/* harmony export */   getMultipartRequestOptions: () => (/* binding */ getMultipartRequestOptions),\n/* harmony export */   isFsReadStream: () => (/* binding */ isFsReadStream),\n/* harmony export */   kind: () => (/* binding */ kind),\n/* harmony export */   setShims: () => (/* binding */ setShims)\n/* harmony export */ });\nlet auto = false;\nlet kind = undefined;\nlet fetch = undefined;\nlet Request = undefined;\nlet Response = undefined;\nlet Headers = undefined;\nlet FormData = undefined;\nlet Blob = undefined;\nlet File = undefined;\nlet ReadableStream = undefined;\nlet getMultipartRequestOptions = undefined;\nlet getDefaultAgent = undefined;\nlet fileFromPath = undefined;\nlet isFsReadStream = undefined;\nfunction setShims(shims, options = {\n    auto: false\n}) {\n    if (auto) {\n        throw new Error(`you must \\`import 'openai/shims/${shims.kind}'\\` before importing anything else from openai`);\n    }\n    if (kind) {\n        throw new Error(`can't \\`import 'openai/shims/${shims.kind}'\\` after \\`import 'openai/shims/${kind}'\\``);\n    }\n    auto = options.auto;\n    kind = shims.kind;\n    fetch = shims.fetch;\n    Request = shims.Request;\n    Response = shims.Response;\n    Headers = shims.Headers;\n    FormData = shims.FormData;\n    Blob = shims.Blob;\n    File = shims.File;\n    ReadableStream = shims.ReadableStream;\n    getMultipartRequestOptions = shims.getMultipartRequestOptions;\n    getDefaultAgent = shims.getDefaultAgent;\n    fileFromPath = shims.fileFromPath;\n    isFsReadStream = shims.isFsReadStream;\n} //# sourceMappingURL=registry.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9yZWdpc3RyeS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sSUFBSUEsT0FBTyxNQUFNO0FBQ2pCLElBQUlDLE9BQU9DLFVBQVU7QUFDckIsSUFBSUMsUUFBUUQsVUFBVTtBQUN0QixJQUFJRSxVQUFVRixVQUFVO0FBQ3hCLElBQUlHLFdBQVdILFVBQVU7QUFDekIsSUFBSUksVUFBVUosVUFBVTtBQUN4QixJQUFJSyxXQUFXTCxVQUFVO0FBQ3pCLElBQUlNLE9BQU9OLFVBQVU7QUFDckIsSUFBSU8sT0FBT1AsVUFBVTtBQUNyQixJQUFJUSxpQkFBaUJSLFVBQVU7QUFDL0IsSUFBSVMsNkJBQTZCVCxVQUFVO0FBQzNDLElBQUlVLGtCQUFrQlYsVUFBVTtBQUNoQyxJQUFJVyxlQUFlWCxVQUFVO0FBQzdCLElBQUlZLGlCQUFpQlosVUFBVTtBQUMvQixTQUFTYSxTQUFTQyxLQUFLLEVBQUVDLFVBQVU7SUFBRWpCLE1BQU07QUFBTSxDQUFDO0lBQ3JELElBQUlBLE1BQU07UUFDTixNQUFNLElBQUlrQixNQUFNLENBQUMsZ0NBQWdDLEVBQUVGLE1BQU1mLElBQUksQ0FBQyw4Q0FBOEMsQ0FBQztJQUNqSDtJQUNBLElBQUlBLE1BQU07UUFDTixNQUFNLElBQUlpQixNQUFNLENBQUMsNkJBQTZCLEVBQUVGLE1BQU1mLElBQUksQ0FBQyxpQ0FBaUMsRUFBRUEsS0FBSyxHQUFHLENBQUM7SUFDM0c7SUFDQUQsT0FBT2lCLFFBQVFqQixJQUFJO0lBQ25CQyxPQUFPZSxNQUFNZixJQUFJO0lBQ2pCRSxRQUFRYSxNQUFNYixLQUFLO0lBQ25CQyxVQUFVWSxNQUFNWixPQUFPO0lBQ3ZCQyxXQUFXVyxNQUFNWCxRQUFRO0lBQ3pCQyxVQUFVVSxNQUFNVixPQUFPO0lBQ3ZCQyxXQUFXUyxNQUFNVCxRQUFRO0lBQ3pCQyxPQUFPUSxNQUFNUixJQUFJO0lBQ2pCQyxPQUFPTyxNQUFNUCxJQUFJO0lBQ2pCQyxpQkFBaUJNLE1BQU1OLGNBQWM7SUFDckNDLDZCQUE2QkssTUFBTUwsMEJBQTBCO0lBQzdEQyxrQkFBa0JJLE1BQU1KLGVBQWU7SUFDdkNDLGVBQWVHLE1BQU1ILFlBQVk7SUFDakNDLGlCQUFpQkUsTUFBTUYsY0FBYztBQUN6QyxFQUNBLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9yZWdpc3RyeS5tanM/YjRjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IGF1dG8gPSBmYWxzZTtcbmV4cG9ydCBsZXQga2luZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmV0Y2ggPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlcXVlc3QgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBIZWFkZXJzID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGb3JtRGF0YSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgQmxvYiA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgRmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVhZGFibGVTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBnZXREZWZhdWx0QWdlbnQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGZpbGVGcm9tUGF0aCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgaXNGc1JlYWRTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gc2V0U2hpbXMoc2hpbXMsIG9wdGlvbnMgPSB7IGF1dG86IGZhbHNlIH0pIHtcbiAgICBpZiAoYXV0bykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHlvdSBtdXN0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGJlZm9yZSBpbXBvcnRpbmcgYW55dGhpbmcgZWxzZSBmcm9tIG9wZW5haWApO1xuICAgIH1cbiAgICBpZiAoa2luZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbid0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGFmdGVyIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7a2luZH0nXFxgYCk7XG4gICAgfVxuICAgIGF1dG8gPSBvcHRpb25zLmF1dG87XG4gICAga2luZCA9IHNoaW1zLmtpbmQ7XG4gICAgZmV0Y2ggPSBzaGltcy5mZXRjaDtcbiAgICBSZXF1ZXN0ID0gc2hpbXMuUmVxdWVzdDtcbiAgICBSZXNwb25zZSA9IHNoaW1zLlJlc3BvbnNlO1xuICAgIEhlYWRlcnMgPSBzaGltcy5IZWFkZXJzO1xuICAgIEZvcm1EYXRhID0gc2hpbXMuRm9ybURhdGE7XG4gICAgQmxvYiA9IHNoaW1zLkJsb2I7XG4gICAgRmlsZSA9IHNoaW1zLkZpbGU7XG4gICAgUmVhZGFibGVTdHJlYW0gPSBzaGltcy5SZWFkYWJsZVN0cmVhbTtcbiAgICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyA9IHNoaW1zLmdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zO1xuICAgIGdldERlZmF1bHRBZ2VudCA9IHNoaW1zLmdldERlZmF1bHRBZ2VudDtcbiAgICBmaWxlRnJvbVBhdGggPSBzaGltcy5maWxlRnJvbVBhdGg7XG4gICAgaXNGc1JlYWRTdHJlYW0gPSBzaGltcy5pc0ZzUmVhZFN0cmVhbTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJ5Lm1qcy5tYXAiXSwibmFtZXMiOlsiYXV0byIsImtpbmQiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIkhlYWRlcnMiLCJGb3JtRGF0YSIsIkJsb2IiLCJGaWxlIiwiUmVhZGFibGVTdHJlYW0iLCJnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyIsImdldERlZmF1bHRBZ2VudCIsImZpbGVGcm9tUGF0aCIsImlzRnNSZWFkU3RyZWFtIiwic2V0U2hpbXMiLCJzaGltcyIsIm9wdGlvbnMiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/_shims/registry.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/_vendor/partial-json-parser/parser.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/openai/_vendor/partial-json-parser/parser.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MalformedJSON: () => (/* binding */ MalformedJSON),\n/* harmony export */   PartialJSON: () => (/* binding */ PartialJSON),\n/* harmony export */   partialParse: () => (/* binding */ partialParse)\n/* harmony export */ });\nconst STR = 1;\nconst NUM = 2;\nconst ARR = 4;\nconst OBJ = 8;\nconst NULL = 16;\nconst BOOL = 32;\nconst NAN = 64;\nconst INFINITY = 128;\nconst MINUS_INFINITY = 256;\nconst INF = INFINITY | MINUS_INFINITY;\nconst SPECIAL = NULL | BOOL | INF | NAN;\nconst ATOM = STR | NUM | SPECIAL;\nconst COLLECTION = ARR | OBJ;\nconst ALL = ATOM | COLLECTION;\nconst Allow = {\n    STR,\n    NUM,\n    ARR,\n    OBJ,\n    NULL,\n    BOOL,\n    NAN,\n    INFINITY,\n    MINUS_INFINITY,\n    INF,\n    SPECIAL,\n    ATOM,\n    COLLECTION,\n    ALL\n};\n// The JSON string segment was unable to be parsed completely\nclass PartialJSON extends Error {\n}\nclass MalformedJSON extends Error {\n}\n/**\n * Parse incomplete JSON\n * @param {string} jsonString Partial JSON to be parsed\n * @param {number} allowPartial Specify what types are allowed to be partial, see {@link Allow} for details\n * @returns The parsed JSON\n * @throws {PartialJSON} If the JSON is incomplete (related to the `allow` parameter)\n * @throws {MalformedJSON} If the JSON is malformed\n */ function parseJSON(jsonString, allowPartial = Allow.ALL) {\n    if (typeof jsonString !== \"string\") {\n        throw new TypeError(`expecting str, got ${typeof jsonString}`);\n    }\n    if (!jsonString.trim()) {\n        throw new Error(`${jsonString} is empty`);\n    }\n    return _parseJSON(jsonString.trim(), allowPartial);\n}\nconst _parseJSON = (jsonString, allow)=>{\n    const length = jsonString.length;\n    let index = 0;\n    const markPartialJSON = (msg)=>{\n        throw new PartialJSON(`${msg} at position ${index}`);\n    };\n    const throwMalformedError = (msg)=>{\n        throw new MalformedJSON(`${msg} at position ${index}`);\n    };\n    const parseAny = ()=>{\n        skipBlank();\n        if (index >= length) markPartialJSON(\"Unexpected end of input\");\n        if (jsonString[index] === '\"') return parseStr();\n        if (jsonString[index] === \"{\") return parseObj();\n        if (jsonString[index] === \"[\") return parseArr();\n        if (jsonString.substring(index, index + 4) === \"null\" || Allow.NULL & allow && length - index < 4 && \"null\".startsWith(jsonString.substring(index))) {\n            index += 4;\n            return null;\n        }\n        if (jsonString.substring(index, index + 4) === \"true\" || Allow.BOOL & allow && length - index < 4 && \"true\".startsWith(jsonString.substring(index))) {\n            index += 4;\n            return true;\n        }\n        if (jsonString.substring(index, index + 5) === \"false\" || Allow.BOOL & allow && length - index < 5 && \"false\".startsWith(jsonString.substring(index))) {\n            index += 5;\n            return false;\n        }\n        if (jsonString.substring(index, index + 8) === \"Infinity\" || Allow.INFINITY & allow && length - index < 8 && \"Infinity\".startsWith(jsonString.substring(index))) {\n            index += 8;\n            return Infinity;\n        }\n        if (jsonString.substring(index, index + 9) === \"-Infinity\" || Allow.MINUS_INFINITY & allow && 1 < length - index && length - index < 9 && \"-Infinity\".startsWith(jsonString.substring(index))) {\n            index += 9;\n            return -Infinity;\n        }\n        if (jsonString.substring(index, index + 3) === \"NaN\" || Allow.NAN & allow && length - index < 3 && \"NaN\".startsWith(jsonString.substring(index))) {\n            index += 3;\n            return NaN;\n        }\n        return parseNum();\n    };\n    const parseStr = ()=>{\n        const start = index;\n        let escape = false;\n        index++; // skip initial quote\n        while(index < length && (jsonString[index] !== '\"' || escape && jsonString[index - 1] === \"\\\\\")){\n            escape = jsonString[index] === \"\\\\\" ? !escape : false;\n            index++;\n        }\n        if (jsonString.charAt(index) == '\"') {\n            try {\n                return JSON.parse(jsonString.substring(start, ++index - Number(escape)));\n            } catch (e) {\n                throwMalformedError(String(e));\n            }\n        } else if (Allow.STR & allow) {\n            try {\n                return JSON.parse(jsonString.substring(start, index - Number(escape)) + '\"');\n            } catch (e) {\n                // SyntaxError: Invalid escape sequence\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf(\"\\\\\")) + '\"');\n            }\n        }\n        markPartialJSON(\"Unterminated string literal\");\n    };\n    const parseObj = ()=>{\n        index++; // skip initial brace\n        skipBlank();\n        const obj = {};\n        try {\n            while(jsonString[index] !== \"}\"){\n                skipBlank();\n                if (index >= length && Allow.OBJ & allow) return obj;\n                const key = parseStr();\n                skipBlank();\n                index++; // skip colon\n                try {\n                    const value = parseAny();\n                    Object.defineProperty(obj, key, {\n                        value,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true\n                    });\n                } catch (e) {\n                    if (Allow.OBJ & allow) return obj;\n                    else throw e;\n                }\n                skipBlank();\n                if (jsonString[index] === \",\") index++; // skip comma\n            }\n        } catch (e) {\n            if (Allow.OBJ & allow) return obj;\n            else markPartialJSON(\"Expected '}' at end of object\");\n        }\n        index++; // skip final brace\n        return obj;\n    };\n    const parseArr = ()=>{\n        index++; // skip initial bracket\n        const arr = [];\n        try {\n            while(jsonString[index] !== \"]\"){\n                arr.push(parseAny());\n                skipBlank();\n                if (jsonString[index] === \",\") {\n                    index++; // skip comma\n                }\n            }\n        } catch (e) {\n            if (Allow.ARR & allow) {\n                return arr;\n            }\n            markPartialJSON(\"Expected ']' at end of array\");\n        }\n        index++; // skip final bracket\n        return arr;\n    };\n    const parseNum = ()=>{\n        if (index === 0) {\n            if (jsonString === \"-\" && Allow.NUM & allow) markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString);\n            } catch (e) {\n                if (Allow.NUM & allow) {\n                    try {\n                        if (\".\" === jsonString[jsonString.length - 1]) return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(\".\")));\n                        return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(\"e\")));\n                    } catch (e) {}\n                }\n                throwMalformedError(String(e));\n            }\n        }\n        const start = index;\n        if (jsonString[index] === \"-\") index++;\n        while(jsonString[index] && !\",]}\".includes(jsonString[index]))index++;\n        if (index == length && !(Allow.NUM & allow)) markPartialJSON(\"Unterminated number literal\");\n        try {\n            return JSON.parse(jsonString.substring(start, index));\n        } catch (e) {\n            if (jsonString.substring(start, index) === \"-\" && Allow.NUM & allow) markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf(\"e\")));\n            } catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n    };\n    const skipBlank = ()=>{\n        while(index < length && \" \\n\\r\t\".includes(jsonString[index])){\n            index++;\n        }\n    };\n    return parseAny();\n};\n// using this function with malformed JSON is undefined behavior\nconst partialParse = (input)=>parseJSON(input, Allow.ALL ^ Allow.NUM);\n //# sourceMappingURL=parser.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLE1BQU07QUFDWixNQUFNQyxNQUFNO0FBQ1osTUFBTUMsTUFBTTtBQUNaLE1BQU1DLE1BQU07QUFDWixNQUFNQyxPQUFPO0FBQ2IsTUFBTUMsT0FBTztBQUNiLE1BQU1DLE1BQU07QUFDWixNQUFNQyxXQUFXO0FBQ2pCLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyxNQUFNRixXQUFXQztBQUN2QixNQUFNRSxVQUFVTixPQUFPQyxPQUFPSSxNQUFNSDtBQUNwQyxNQUFNSyxPQUFPWCxNQUFNQyxNQUFNUztBQUN6QixNQUFNRSxhQUFhVixNQUFNQztBQUN6QixNQUFNVSxNQUFNRixPQUFPQztBQUNuQixNQUFNRSxRQUFRO0lBQ1ZkO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0lBQ0FDO0FBQ0o7QUFDQSw2REFBNkQ7QUFDN0QsTUFBTUUsb0JBQW9CQztBQUMxQjtBQUNBLE1BQU1DLHNCQUFzQkQ7QUFDNUI7QUFDQTs7Ozs7OztDQU9DLEdBQ0QsU0FBU0UsVUFBVUMsVUFBVSxFQUFFQyxlQUFlTixNQUFNRCxHQUFHO0lBQ25ELElBQUksT0FBT00sZUFBZSxVQUFVO1FBQ2hDLE1BQU0sSUFBSUUsVUFBVSxDQUFDLG1CQUFtQixFQUFFLE9BQU9GLFdBQVcsQ0FBQztJQUNqRTtJQUNBLElBQUksQ0FBQ0EsV0FBV0csSUFBSSxJQUFJO1FBQ3BCLE1BQU0sSUFBSU4sTUFBTSxDQUFDLEVBQUVHLFdBQVcsU0FBUyxDQUFDO0lBQzVDO0lBQ0EsT0FBT0ksV0FBV0osV0FBV0csSUFBSSxJQUFJRjtBQUN6QztBQUNBLE1BQU1HLGFBQWEsQ0FBQ0osWUFBWUs7SUFDNUIsTUFBTUMsU0FBU04sV0FBV00sTUFBTTtJQUNoQyxJ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QUFJQSxTQUFTRCxVQUFVLENBQUVYLENBQUFBLE1BQU1iLEdBQUcsR0FBR3VCLEtBQUksR0FDckNHLGdCQUFnQjtRQUNwQixJQUFJO1lBQ0EsT0FBT2dCLEtBQUtDLEtBQUssQ0FBQ3pCLFdBQVdnQixTQUFTLENBQUNLLE9BQU9kO1FBQ2xELEVBQ0EsT0FBT29CLEdBQUc7WUFDTixJQUFJM0IsV0FBV2dCLFNBQVMsQ0FBQ0ssT0FBT2QsV0FBVyxPQUFPWixNQUFNYixHQUFHLEdBQUd1QixPQUMxREcsZ0JBQWdCO1lBQ3BCLElBQUk7Z0JBQ0EsT0FBT2dCLEtBQUtDLEtBQUssQ0FBQ3pCLFdBQVdnQixTQUFTLENBQUNLLE9BQU9yQixXQUFXNkIsV0FBVyxDQUFDO1lBQ3pFLEVBQ0EsT0FBT0YsR0FBRztnQkFDTmpCLG9CQUFvQmtCLE9BQU9EO1lBQy9CO1FBQ0o7SUFDSjtJQUNBLE1BQU1mLFlBQVk7UUFDZCxNQUFPTCxRQUFRRCxVQUFVLFNBQVVrQyxRQUFRLENBQUN4QyxVQUFVLENBQUNPLE1BQU0sRUFBRztZQUM1REE7UUFDSjtJQUNKO0lBQ0EsT0FBT0k7QUFDWDtBQUNBLGdFQUFnRTtBQUNoRSxNQUFNOEIsZUFBZSxDQUFDQyxRQUFVM0MsVUFBVTJDLE9BQU8vQyxNQUFNRCxHQUFHLEdBQUdDLE1BQU1iLEdBQUc7QUFDbEIsQ0FDcEQsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci9wYXJ0aWFsLWpzb24tcGFyc2VyL3BhcnNlci5tanM/YWY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTVFIgPSAwYjAwMDAwMDAwMTtcbmNvbnN0IE5VTSA9IDBiMDAwMDAwMDEwO1xuY29uc3QgQVJSID0gMGIwMDAwMDAxMDA7XG5jb25zdCBPQkogPSAwYjAwMDAwMTAwMDtcbmNvbnN0IE5VTEwgPSAwYjAwMDAxMDAwMDtcbmNvbnN0IEJPT0wgPSAwYjAwMDEwMDAwMDtcbmNvbnN0IE5BTiA9IDBiMDAxMDAwMDAwO1xuY29uc3QgSU5GSU5JVFkgPSAwYjAxMDAwMDAwMDtcbmNvbnN0IE1JTlVTX0lORklOSVRZID0gMGIxMDAwMDAwMDA7XG5jb25zdCBJTkYgPSBJTkZJTklUWSB8IE1JTlVTX0lORklOSVRZO1xuY29uc3QgU1BFQ0lBTCA9IE5VTEwgfCBCT09MIHwgSU5GIHwgTkFOO1xuY29uc3QgQVRPTSA9IFNUUiB8IE5VTSB8IFNQRUNJQUw7XG5jb25zdCBDT0xMRUNUSU9OID0gQVJSIHwgT0JKO1xuY29uc3QgQUxMID0gQVRPTSB8IENPTExFQ1RJT047XG5jb25zdCBBbGxvdyA9IHtcbiAgICBTVFIsXG4gICAgTlVNLFxuICAgIEFSUixcbiAgICBPQkosXG4gICAgTlVMTCxcbiAgICBCT09MLFxuICAgIE5BTixcbiAgICBJTkZJTklUWSxcbiAgICBNSU5VU19JTkZJTklUWSxcbiAgICBJTkYsXG4gICAgU1BFQ0lBTCxcbiAgICBBVE9NLFxuICAgIENPTExFQ1RJT04sXG4gICAgQUxMLFxufTtcbi8vIFRoZSBKU09OIHN0cmluZyBzZWdtZW50IHdhcyB1bmFibGUgdG8gYmUgcGFyc2VkIGNvbXBsZXRlbHlcbmNsYXNzIFBhcnRpYWxKU09OIGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3MgTWFsZm9ybWVkSlNPTiBleHRlbmRzIEVycm9yIHtcbn1cbi8qKlxuICogUGFyc2UgaW5jb21wbGV0ZSBKU09OXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvblN0cmluZyBQYXJ0aWFsIEpTT04gdG8gYmUgcGFyc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gYWxsb3dQYXJ0aWFsIFNwZWNpZnkgd2hhdCB0eXBlcyBhcmUgYWxsb3dlZCB0byBiZSBwYXJ0aWFsLCBzZWUge0BsaW5rIEFsbG93fSBmb3IgZGV0YWlsc1xuICogQHJldHVybnMgVGhlIHBhcnNlZCBKU09OXG4gKiBAdGhyb3dzIHtQYXJ0aWFsSlNPTn0gSWYgdGhlIEpTT04gaXMgaW5jb21wbGV0ZSAocmVsYXRlZCB0byB0aGUgYGFsbG93YCBwYXJhbWV0ZXIpXG4gKiBAdGhyb3dzIHtNYWxmb3JtZWRKU09OfSBJZiB0aGUgSlNPTiBpcyBtYWxmb3JtZWRcbiAqL1xuZnVuY3Rpb24gcGFyc2VKU09OKGpzb25TdHJpbmcsIGFsbG93UGFydGlhbCA9IEFsbG93LkFMTCkge1xuICAgIGlmICh0eXBlb2YganNvblN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0aW5nIHN0ciwgZ290ICR7dHlwZW9mIGpzb25TdHJpbmd9YCk7XG4gICAgfVxuICAgIGlmICghanNvblN0cmluZy50cmltKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2pzb25TdHJpbmd9IGlzIGVtcHR5YCk7XG4gICAgfVxuICAgIHJldHVybiBfcGFyc2VKU09OKGpzb25TdHJpbmcudHJpbSgpLCBhbGxvd1BhcnRpYWwpO1xufVxuY29uc3QgX3BhcnNlSlNPTiA9IChqc29uU3RyaW5nLCBhbGxvdykgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IGpzb25TdHJpbmcubGVuZ3RoO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgY29uc3QgbWFya1BhcnRpYWxKU09OID0gKG1zZykgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgUGFydGlhbEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICAgIH07XG4gICAgY29uc3QgdGhyb3dNYWxmb3JtZWRFcnJvciA9IChtc2cpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IE1hbGZvcm1lZEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VBbnkgPSAoKSA9PiB7XG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBpZiAoaW5kZXggPj0gbGVuZ3RoKVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKCdVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCcpO1xuICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICdcIicpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTdHIoKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAneycpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmooKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnWycpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBcnIoKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAnbnVsbCcgfHxcbiAgICAgICAgICAgIChBbGxvdy5OVUxMICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICdudWxsJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAndHJ1ZScgfHxcbiAgICAgICAgICAgIChBbGxvdy5CT09MICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICd0cnVlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDUpID09PSAnZmFsc2UnIHx8XG4gICAgICAgICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNSAmJiAnZmFsc2UnLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDgpID09PSAnSW5maW5pdHknIHx8XG4gICAgICAgICAgICAoQWxsb3cuSU5GSU5JVFkgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDggJiYgJ0luZmluaXR5Jy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA4O1xuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA5KSA9PT0gJy1JbmZpbml0eScgfHxcbiAgICAgICAgICAgIChBbGxvdy5NSU5VU19JTkZJTklUWSAmIGFsbG93ICYmXG4gICAgICAgICAgICAgICAgMSA8IGxlbmd0aCAtIGluZGV4ICYmXG4gICAgICAgICAgICAgICAgbGVuZ3RoIC0gaW5kZXggPCA5ICYmXG4gICAgICAgICAgICAgICAgJy1JbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gOTtcbiAgICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDMpID09PSAnTmFOJyB8fFxuICAgICAgICAgICAgKEFsbG93Lk5BTiAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgMyAmJiAnTmFOJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSAzO1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VOdW0oKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlU3RyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuICAgICAgICBsZXQgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBxdW90ZVxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGggJiYgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXCInIHx8IChlc2NhcGUgJiYganNvblN0cmluZ1tpbmRleCAtIDFdID09PSAnXFxcXCcpKSkge1xuICAgICAgICAgICAgZXNjYXBlID0ganNvblN0cmluZ1tpbmRleF0gPT09ICdcXFxcJyA/ICFlc2NhcGUgOiBmYWxzZTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuY2hhckF0KGluZGV4KSA9PSAnXCInKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCArK2luZGV4IC0gTnVtYmVyKGVzY2FwZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFsbG93LlNUUiAmIGFsbG93KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCAtIE51bWJlcihlc2NhcGUpKSArICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBTeW50YXhFcnJvcjogSW52YWxpZCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignXFxcXCcpKSArICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW50ZXJtaW5hdGVkIHN0cmluZyBsaXRlcmFsJyk7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZU9iaiA9ICgpID0+IHtcbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBpbml0aWFsIGJyYWNlXG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGxlbmd0aCAmJiBBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYXJzZVN0cigpO1xuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29sb25cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlQW55KCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLCcpXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29tbWFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiRXhwZWN0ZWQgJ30nIGF0IGVuZCBvZiBvYmplY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFjZVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VBcnIgPSAoKSA9PiB7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBicmFja2V0XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChwYXJzZUFueSgpKTtcbiAgICAgICAgICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICcsJykge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbW1hXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoQWxsb3cuQVJSICYgYWxsb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiRXhwZWN0ZWQgJ10nIGF0IGVuZCBvZiBhcnJheVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGZpbmFsIGJyYWNrZXRcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlTnVtID0gKCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChqc29uU3RyaW5nID09PSAnLScgJiYgQWxsb3cuTlVNICYgYWxsb3cpXG4gICAgICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiTm90IHN1cmUgd2hhdCAnLScgaXNcIik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoQWxsb3cuTlVNICYgYWxsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnLicgPT09IGpzb25TdHJpbmdbanNvblN0cmluZy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZygwLCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCcuJykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKDAsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ2UnKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gaW5kZXg7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJy0nKVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICYmICEnLF19Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSkpXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICBpZiAoaW5kZXggPT0gbGVuZ3RoICYmICEoQWxsb3cuTlVNICYgYWxsb3cpKVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKCdVbnRlcm1pbmF0ZWQgbnVtYmVyIGxpdGVyYWwnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KSA9PT0gJy0nICYmIEFsbG93Lk5VTSAmIGFsbG93KVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIk5vdCBzdXJlIHdoYXQgJy0nIGlzXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignZScpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2tpcEJsYW5rID0gKCkgPT4ge1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGggJiYgJyBcXG5cXHJcXHQnLmluY2x1ZGVzKGpzb25TdHJpbmdbaW5kZXhdKSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBhcnNlQW55KCk7XG59O1xuLy8gdXNpbmcgdGhpcyBmdW5jdGlvbiB3aXRoIG1hbGZvcm1lZCBKU09OIGlzIHVuZGVmaW5lZCBiZWhhdmlvclxuY29uc3QgcGFydGlhbFBhcnNlID0gKGlucHV0KSA9PiBwYXJzZUpTT04oaW5wdXQsIEFsbG93LkFMTCBeIEFsbG93Lk5VTSk7XG5leHBvcnQgeyBwYXJ0aWFsUGFyc2UsIFBhcnRpYWxKU09OLCBNYWxmb3JtZWRKU09OIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJTVFIiLCJOVU0iLCJBUlIiLCJPQkoiLCJOVUxMIiwiQk9PTCIsIk5BTiIsIklORklOSVRZIiwiTUlOVVNfSU5GSU5JVFkiLCJJTkYiLCJTUEVDSUFMIiwiQVRPTSIsIkNPTExFQ1RJT04iLCJBTEwiLCJBbGxvdyIsIlBhcnRpYWxKU09OIiwiRXJyb3IiLCJNYWxmb3JtZWRKU09OIiwicGFyc2VKU09OIiwianNvblN0cmluZyIsImFsbG93UGFydGlhbCIsIlR5cGVFcnJvciIsInRyaW0iLCJfcGFyc2VKU09OIiwiYWxsb3ciLCJsZW5ndGgiLCJpbmRleCIsIm1hcmtQYXJ0aWFsSlNPTiIsIm1zZyIsInRocm93TWFsZm9ybWVkRXJyb3IiLCJwYXJzZUFueSIsInNraXBCbGFuayIsInBhcnNlU3RyIiwicGFyc2VPYmoiLCJwYXJzZUFyciIsInN1YnN0cmluZyIsInN0YXJ0c1dpdGgiLCJJbmZpbml0eSIsIk5hTiIsInBhcnNlTnVtIiwic3RhcnQiLCJlc2NhcGUiLCJjaGFyQXQiLCJKU09OIiwicGFyc2UiLCJOdW1iZXIiLCJlIiwiU3RyaW5nIiwibGFzdEluZGV4T2YiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiYXJyIiwicHVzaCIsImluY2x1ZGVzIiwicGFydGlhbFBhcnNlIiwiaW5wdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/_vendor/partial-json-parser/parser.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/core.mjs":
/*!**************************************!*\
  !*** ./node_modules/openai/core.mjs ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIClient: () => (/* binding */ APIClient),\n/* harmony export */   APIPromise: () => (/* binding */ APIPromise),\n/* harmony export */   AbstractPage: () => (/* binding */ AbstractPage),\n/* harmony export */   PagePromise: () => (/* binding */ PagePromise),\n/* harmony export */   castToError: () => (/* binding */ castToError),\n/* harmony export */   coerceBoolean: () => (/* binding */ coerceBoolean),\n/* harmony export */   coerceFloat: () => (/* binding */ coerceFloat),\n/* harmony export */   coerceInteger: () => (/* binding */ coerceInteger),\n/* harmony export */   createForm: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.createForm),\n/* harmony export */   createResponseHeaders: () => (/* binding */ createResponseHeaders),\n/* harmony export */   debug: () => (/* binding */ debug),\n/* harmony export */   ensurePresent: () => (/* binding */ ensurePresent),\n/* harmony export */   getHeader: () => (/* binding */ getHeader),\n/* harmony export */   getRequiredHeader: () => (/* binding */ getRequiredHeader),\n/* harmony export */   hasOwn: () => (/* binding */ hasOwn),\n/* harmony export */   isEmptyObj: () => (/* binding */ isEmptyObj),\n/* harmony export */   isHeadersProtocol: () => (/* binding */ isHeadersProtocol),\n/* harmony export */   isObj: () => (/* binding */ isObj),\n/* harmony export */   isRequestOptions: () => (/* binding */ isRequestOptions),\n/* harmony export */   isRunningInBrowser: () => (/* binding */ isRunningInBrowser),\n/* harmony export */   maybeCoerceBoolean: () => (/* binding */ maybeCoerceBoolean),\n/* harmony export */   maybeCoerceFloat: () => (/* binding */ maybeCoerceFloat),\n/* harmony export */   maybeCoerceInteger: () => (/* binding */ maybeCoerceInteger),\n/* harmony export */   maybeMultipartFormRequestOptions: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.maybeMultipartFormRequestOptions),\n/* harmony export */   multipartFormRequestOptions: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions),\n/* harmony export */   readEnv: () => (/* binding */ readEnv),\n/* harmony export */   safeJSON: () => (/* binding */ safeJSON),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   toBase64: () => (/* binding */ toBase64)\n/* harmony export */ });\n/* harmony import */ var _version_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./version.mjs */ \"(rsc)/./node_modules/openai/version.mjs\");\n/* harmony import */ var _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./streaming.mjs */ \"(rsc)/./node_modules/openai/streaming.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error.mjs */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\n\n\n\n\n\n\nasync function defaultParseResponse(props) {\n    const { response } = props;\n    if (props.options.stream) {\n        debug(\"response\", response.status, response.url, response.headers, response.body);\n        // Note: there is an invariant here that isn't represented in the type system\n        // that if you set `stream: true` the response type must also be `Stream<T>`\n        if (props.options.__streamClass) {\n            return props.options.__streamClass.fromSSEResponse(response, props.controller);\n        }\n        return _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__.Stream.fromSSEResponse(response, props.controller);\n    }\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n        return null;\n    }\n    if (props.options.__binaryResponse) {\n        return response;\n    }\n    const contentType = response.headers.get(\"content-type\");\n    const isJSON = contentType?.includes(\"application/json\") || contentType?.includes(\"application/vnd.api+json\");\n    if (isJSON) {\n        const json = await response.json();\n        debug(\"response\", response.status, response.url, response.headers, json);\n        return _addRequestID(json, response);\n    }\n    const text = await response.text();\n    debug(\"response\", response.status, response.url, response.headers, text);\n    // TODO handle blob, arraybuffer, other content types, etc.\n    return text;\n}\nfunction _addRequestID(value, response) {\n    if (!value || typeof value !== \"object\" || Array.isArray(value)) {\n        return value;\n    }\n    return Object.defineProperty(value, \"_request_id\", {\n        value: response.headers.get(\"x-request-id\"),\n        enumerable: false\n    });\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */ class APIPromise extends Promise {\n    constructor(responsePromise, parseResponse = defaultParseResponse){\n        super((resolve)=>{\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(this.responsePromise, async (props)=>_addRequestID(transform(await this.parseResponse(props), props), props.response));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */ asResponse() {\n        return this.responsePromise.then((p)=>p.response);\n    }\n    /**\n     * Gets the parsed response data, the raw `Response` instance and the ID of the request,\n     * returned via the X-Request-ID header which is useful for debugging requests and reporting\n     * issues to OpenAI.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */ async withResponse() {\n        const [data, response] = await Promise.all([\n            this.parse(),\n            this.asResponse()\n        ]);\n        return {\n            data,\n            response,\n            request_id: response.headers.get(\"x-request-id\")\n        };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then(this.parseResponse);\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nclass APIClient {\n    constructor({ baseURL, maxRetries = 2, timeout = 600000, httpAgent, fetch: overridenFetch }){\n        this.baseURL = baseURL;\n        this.maxRetries = validatePositiveInteger(\"maxRetries\", maxRetries);\n        this.timeout = validatePositiveInteger(\"timeout\", timeout);\n        this.httpAgent = httpAgent;\n        this.fetch = overridenFetch ?? _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.fetch;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */ defaultHeaders(opts) {\n        return {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"User-Agent\": this.getUserAgent(),\n            ...getPlatformHeaders(),\n            ...this.authHeaders(opts)\n        };\n    }\n    /**\n     * Override this to add your own headers validation:\n     */ validateHeaders(headers, customHeaders) {}\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${uuid4()}`;\n    }\n    get(path, opts) {\n        return this.methodRequest(\"get\", path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest(\"post\", path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest(\"patch\", path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest(\"put\", path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest(\"delete\", path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then(async (opts)=>{\n            const body = opts && (0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isBlobLike)(opts?.body) ? new DataView(await opts.body.arrayBuffer()) : opts?.body instanceof DataView ? opts.body : opts?.body instanceof ArrayBuffer ? new DataView(opts.body) : opts && ArrayBuffer.isView(opts?.body) ? new DataView(opts.body.buffer) : opts?.body;\n            return {\n                method,\n                path,\n                ...opts,\n                body\n            };\n        }));\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, {\n            method: \"get\",\n            path,\n            ...opts\n        });\n    }\n    calculateContentLength(body) {\n        if (typeof body === \"string\") {\n            if (typeof Buffer !== \"undefined\") {\n                return Buffer.byteLength(body, \"utf8\").toString();\n            }\n            if (typeof TextEncoder !== \"undefined\") {\n                const encoder = new TextEncoder();\n                const encoded = encoder.encode(body);\n                return encoded.length.toString();\n            }\n        } else if (ArrayBuffer.isView(body)) {\n            return body.byteLength.toString();\n        }\n        return null;\n    }\n    buildRequest(options, { retryCount = 0 } = {}) {\n        const { method, path, query, headers: headers = {} } = options;\n        const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === \"string\" ? options.body : (0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isMultipartBody)(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;\n        const contentLength = this.calculateContentLength(body);\n        const url = this.buildURL(path, query);\n        if (\"timeout\" in options) validatePositiveInteger(\"timeout\", options.timeout);\n        const timeout = options.timeout ?? this.timeout;\n        const httpAgent = options.httpAgent ?? this.httpAgent ?? (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getDefaultAgent)(url);\n        const minAgentTimeout = timeout + 1000;\n        if (typeof httpAgent?.options?.timeout === \"number\" && minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n            // Allow any given request to bump our agent active socket timeout.\n            // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n            // and without mutating agent we would need to create more of them.\n            // This tradeoff optimizes for performance.\n            httpAgent.options.timeout = minAgentTimeout;\n        }\n        if (this.idempotencyHeader && method !== \"get\") {\n            if (!options.idempotencyKey) options.idempotencyKey = this.defaultIdempotencyKey();\n            headers[this.idempotencyHeader] = options.idempotencyKey;\n        }\n        const reqHeaders = this.buildHeaders({\n            options,\n            headers,\n            contentLength,\n            retryCount\n        });\n        const req = {\n            method,\n            ...body && {\n                body: body\n            },\n            headers: reqHeaders,\n            ...httpAgent && {\n                agent: httpAgent\n            },\n            // @ts-ignore node-fetch uses a custom AbortSignal type that is\n            // not compatible with standard web types\n            signal: options.signal ?? null\n        };\n        return {\n            req,\n            url,\n            timeout\n        };\n    }\n    buildHeaders({ options, headers, contentLength, retryCount }) {\n        const reqHeaders = {};\n        if (contentLength) {\n            reqHeaders[\"content-length\"] = contentLength;\n        }\n        const defaultHeaders = this.defaultHeaders(options);\n        applyHeadersMut(reqHeaders, defaultHeaders);\n        applyHeadersMut(reqHeaders, headers);\n        // let builtin fetch set the Content-Type for multipart bodies\n        if ((0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isMultipartBody)(options.body) && _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.kind !== \"node\") {\n            delete reqHeaders[\"content-type\"];\n        }\n        // Don't set the retry count header if it was already set or removed through default headers or by the\n        // caller. We check `defaultHeaders` and `headers`, which can contain nulls, instead of `reqHeaders` to\n        // account for the removal case.\n        if (getHeader(defaultHeaders, \"x-stainless-retry-count\") === undefined && getHeader(headers, \"x-stainless-retry-count\") === undefined) {\n            reqHeaders[\"x-stainless-retry-count\"] = String(retryCount);\n        }\n        this.validateHeaders(reqHeaders, headers);\n        return reqHeaders;\n    }\n    /**\n     * Used as a callback for mutating the given `FinalRequestOptions` object.\n     */ async prepareOptions(options) {}\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */ async prepareRequest(request, { url, options }) {}\n    parseHeaders(headers) {\n        return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header)=>[\n                ...header\n            ])) : {\n            ...headers\n        };\n    }\n    makeStatusError(status, error, message, headers) {\n        return _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIError.generate(status, error, message, headers);\n    }\n    request(options, remainingRetries = null) {\n        return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n    async makeRequest(optionsInput, retriesRemaining) {\n        const options = await optionsInput;\n        const maxRetries = options.maxRetries ?? this.maxRetries;\n        if (retriesRemaining == null) {\n            retriesRemaining = maxRetries;\n        }\n        await this.prepareOptions(options);\n        const { req, url, timeout } = this.buildRequest(options, {\n            retryCount: maxRetries - retriesRemaining\n        });\n        await this.prepareRequest(req, {\n            url,\n            options\n        });\n        debug(\"request\", url, options, req.headers);\n        if (options.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n        if (response instanceof Error) {\n            if (options.signal?.aborted) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIUserAbortError();\n            }\n            if (retriesRemaining) {\n                return this.retryRequest(options, retriesRemaining);\n            }\n            if (response.name === \"AbortError\") {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionTimeoutError();\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionError({\n                cause: response\n            });\n        }\n        const responseHeaders = createResponseHeaders(response.headers);\n        if (!response.ok) {\n            if (retriesRemaining && this.shouldRetry(response)) {\n                const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n                debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders);\n                return this.retryRequest(options, retriesRemaining, responseHeaders);\n            }\n            const errText = await response.text().catch((e)=>castToError(e).message);\n            const errJSON = safeJSON(errText);\n            const errMessage = errJSON ? undefined : errText;\n            const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;\n            debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);\n            const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n            throw err;\n        }\n        return {\n            response,\n            options,\n            controller\n        };\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null);\n        return new PagePromise(this, request, Page);\n    }\n    buildURL(path, query) {\n        const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith(\"/\") && path.startsWith(\"/\") ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!isEmptyObj(defaultQuery)) {\n            query = {\n                ...defaultQuery,\n                ...query\n            };\n        }\n        if (typeof query === \"object\" && query && !Array.isArray(query)) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    stringifyQuery(query) {\n        return Object.entries(query).filter(([_, value])=>typeof value !== \"undefined\").map(([key, value])=>{\n            if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n                return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n            }\n            if (value === null) {\n                return `${encodeURIComponent(key)}=`;\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n        }).join(\"&\");\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, ...options } = init || {};\n        if (signal) signal.addEventListener(\"abort\", ()=>controller.abort());\n        const timeout = setTimeout(()=>controller.abort(), ms);\n        return this.getRequestClient()// use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n        .fetch.call(undefined, url, {\n            signal: controller.signal,\n            ...options\n        }).finally(()=>{\n            clearTimeout(timeout);\n        });\n    }\n    getRequestClient() {\n        return {\n            fetch: this.fetch\n        };\n    }\n    shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get(\"x-should-retry\");\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === \"true\") return true;\n        if (shouldRetryHeader === \"false\") return false;\n        // Retry on request timeouts.\n        if (response.status === 408) return true;\n        // Retry on lock timeouts.\n        if (response.status === 409) return true;\n        // Retry on rate limits.\n        if (response.status === 429) return true;\n        // Retry internal errors.\n        if (response.status >= 500) return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, responseHeaders) {\n        let timeoutMillis;\n        // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n        const retryAfterMillisHeader = responseHeaders?.[\"retry-after-ms\"];\n        if (retryAfterMillisHeader) {\n            const timeoutMs = parseFloat(retryAfterMillisHeader);\n            if (!Number.isNaN(timeoutMs)) {\n                timeoutMillis = timeoutMs;\n            }\n        }\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        const retryAfterHeader = responseHeaders?.[\"retry-after\"];\n        if (retryAfterHeader && !timeoutMillis) {\n            const timeoutSeconds = parseFloat(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            } else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await sleep(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${_version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION}`;\n    }\n}\nclass AbstractPage {\n    constructor(client, response, body, options){\n        _AbstractPage_client.set(this, void 0);\n        __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length) return false;\n        return this.nextPageInfo() != null;\n    }\n    async getNextPage() {\n        const nextInfo = this.nextPageInfo();\n        if (!nextInfo) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(\"No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.\");\n        }\n        const nextOptions = {\n            ...this.options\n        };\n        if (\"params\" in nextInfo && typeof nextOptions.query === \"object\") {\n            nextOptions.query = {\n                ...nextOptions.query,\n                ...nextInfo.params\n            };\n        } else if (\"url\" in nextInfo) {\n            const params = [\n                ...Object.entries(nextOptions.query || {}),\n                ...nextInfo.url.searchParams.entries()\n            ];\n            for (const [key, value] of params){\n                nextInfo.url.searchParams.set(key, value);\n            }\n            nextOptions.query = undefined;\n            nextOptions.path = nextInfo.url.toString();\n        }\n        return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let page = this;\n        yield page;\n        while(page.hasNextPage()){\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()){\n            for (const item of page.getPaginatedItems()){\n                yield item;\n            }\n        }\n    }\n}\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */ class PagePromise extends APIPromise {\n    constructor(client, request, Page){\n        super(request, async (props)=>new Page(client, props.response, await defaultParseResponse(props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */ async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page){\n            yield item;\n        }\n    }\n}\nconst createResponseHeaders = (headers)=>{\n    return new Proxy(Object.fromEntries(// @ts-ignore\n    headers.entries()), {\n        get (target, name) {\n            const key = name.toString();\n            return target[key.toLowerCase()] || target[key];\n        }\n    });\n};\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n    method: true,\n    path: true,\n    query: true,\n    body: true,\n    headers: true,\n    maxRetries: true,\n    stream: true,\n    timeout: true,\n    httpAgent: true,\n    signal: true,\n    idempotencyKey: true,\n    __binaryRequest: true,\n    __binaryResponse: true,\n    __streamClass: true\n};\nconst isRequestOptions = (obj)=>{\n    return typeof obj === \"object\" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k)=>hasOwn(requestOptionsKeys, k));\n};\nconst getPlatformProperties = ()=>{\n    if (typeof Deno !== \"undefined\" && Deno.build != null) {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": normalizePlatform(Deno.build.os),\n            \"X-Stainless-Arch\": normalizeArch(Deno.build.arch),\n            \"X-Stainless-Runtime\": \"deno\",\n            \"X-Stainless-Runtime-Version\": typeof Deno.version === \"string\" ? Deno.version : Deno.version?.deno ?? \"unknown\"\n        };\n    }\n    if (typeof EdgeRuntime !== \"undefined\") {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": \"Unknown\",\n            \"X-Stainless-Arch\": `other:${EdgeRuntime}`,\n            \"X-Stainless-Runtime\": \"edge\",\n            \"X-Stainless-Runtime-Version\": process.version\n        };\n    }\n    // Check if Node.js\n    if (Object.prototype.toString.call(typeof process !== \"undefined\" ? process : 0) === \"[object process]\") {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": normalizePlatform(process.platform),\n            \"X-Stainless-Arch\": normalizeArch(process.arch),\n            \"X-Stainless-Runtime\": \"node\",\n            \"X-Stainless-Runtime-Version\": process.version\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": \"Unknown\",\n            \"X-Stainless-Arch\": \"unknown\",\n            \"X-Stainless-Runtime\": `browser:${browserInfo.browser}`,\n            \"X-Stainless-Runtime-Version\": browserInfo.version\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        \"X-Stainless-Lang\": \"js\",\n        \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n        \"X-Stainless-OS\": \"Unknown\",\n        \"X-Stainless-Arch\": \"unknown\",\n        \"X-Stainless-Runtime\": \"unknown\",\n        \"X-Stainless-Runtime-Version\": \"unknown\"\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === \"undefined\" || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        {\n            key: \"edge\",\n            pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"ie\",\n            pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"ie\",\n            pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"chrome\",\n            pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"firefox\",\n            pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"safari\",\n            pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/\n        }\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns){\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return {\n                browser: key,\n                version: `${major}.${minor}.${patch}`\n            };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch)=>{\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === \"x32\") return \"x32\";\n    if (arch === \"x86_64\" || arch === \"x64\") return \"x64\";\n    if (arch === \"arm\") return \"arm\";\n    if (arch === \"aarch64\" || arch === \"arm64\") return \"arm64\";\n    if (arch) return `other:${arch}`;\n    return \"unknown\";\n};\nconst normalizePlatform = (platform)=>{\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes(\"ios\")) return \"iOS\";\n    if (platform === \"android\") return \"Android\";\n    if (platform === \"darwin\") return \"MacOS\";\n    if (platform === \"win32\") return \"Windows\";\n    if (platform === \"freebsd\") return \"FreeBSD\";\n    if (platform === \"openbsd\") return \"OpenBSD\";\n    if (platform === \"linux\") return \"Linux\";\n    if (platform) return `Other:${platform}`;\n    return \"Unknown\";\n};\nlet _platformHeaders;\nconst getPlatformHeaders = ()=>{\n    return _platformHeaders ?? (_platformHeaders = getPlatformProperties());\n};\nconst safeJSON = (text)=>{\n    try {\n        return JSON.parse(text);\n    } catch (err) {\n        return undefined;\n    }\n};\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp(\"^(?:[a-z]+:)?//\", \"i\");\nconst isAbsoluteURL = (url)=>{\n    return startsWithSchemeRegexp.test(url);\n};\nconst sleep = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst validatePositiveInteger = (name, n)=>{\n    if (typeof n !== \"number\" || !Number.isInteger(n)) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nconst castToError = (err)=>{\n    if (err instanceof Error) return err;\n    if (typeof err === \"object\" && err !== null) {\n        try {\n            return new Error(JSON.stringify(err));\n        } catch  {}\n    }\n    return new Error(err);\n};\nconst ensurePresent = (value)=>{\n    if (value == null) throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    return value;\n};\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */ const readEnv = (env)=>{\n    if (typeof process !== \"undefined\") {\n        return process.env?.[env]?.trim() ?? undefined;\n    }\n    if (typeof Deno !== \"undefined\") {\n        return Deno.env?.get?.(env)?.trim();\n    }\n    return undefined;\n};\nconst coerceInteger = (value)=>{\n    if (typeof value === \"number\") return Math.round(value);\n    if (typeof value === \"string\") return parseInt(value, 10);\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nconst coerceFloat = (value)=>{\n    if (typeof value === \"number\") return value;\n    if (typeof value === \"string\") return parseFloat(value);\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nconst coerceBoolean = (value)=>{\n    if (typeof value === \"boolean\") return value;\n    if (typeof value === \"string\") return value === \"true\";\n    return Boolean(value);\n};\nconst maybeCoerceInteger = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceInteger(value);\n};\nconst maybeCoerceFloat = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceFloat(value);\n};\nconst maybeCoerceBoolean = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceBoolean(value);\n};\n// https://stackoverflow.com/a/34491287\nfunction isEmptyObj(obj) {\n    if (!obj) return true;\n    for(const _k in obj)return false;\n    return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nfunction hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\n * Copies headers from \"newHeaders\" onto \"targetHeaders\",\n * using lower-case for all properties,\n * ignoring any keys with undefined values,\n * and deleting any keys with null values.\n */ function applyHeadersMut(targetHeaders, newHeaders) {\n    for(const k in newHeaders){\n        if (!hasOwn(newHeaders, k)) continue;\n        const lowerKey = k.toLowerCase();\n        if (!lowerKey) continue;\n        const val = newHeaders[k];\n        if (val === null) {\n            delete targetHeaders[lowerKey];\n        } else if (val !== undefined) {\n            targetHeaders[lowerKey] = val;\n        }\n    }\n}\nfunction debug(action, ...args) {\n    if (typeof process !== \"undefined\" && process?.env?.[\"DEBUG\"] === \"true\") {\n        console.log(`OpenAI:DEBUG:${action}`, ...args);\n    }\n}\n/**\n * https://stackoverflow.com/a/2117523\n */ const uuid4 = ()=>{\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0;\n        const v = c === \"x\" ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n};\nconst isRunningInBrowser = ()=>{\n    return(// @ts-ignore\n     false && // @ts-ignore\n    0);\n};\nconst isHeadersProtocol = (headers)=>{\n    return typeof headers?.get === \"function\";\n};\nconst getRequiredHeader = (headers, header)=>{\n    const foundHeader = getHeader(headers, header);\n    if (foundHeader === undefined) {\n        throw new Error(`Could not find ${header} header`);\n    }\n    return foundHeader;\n};\nconst getHeader = (headers, header)=>{\n    const lowerCasedHeader = header.toLowerCase();\n    if (isHeadersProtocol(headers)) {\n        // to deal with the case where the header looks like Stainless-Event-Id\n        const intercapsHeader = header[0]?.toUpperCase() + header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2)=>g1 + g2.toUpperCase());\n        for (const key of [\n            header,\n            lowerCasedHeader,\n            header.toUpperCase(),\n            intercapsHeader\n        ]){\n            const value = headers.get(key);\n            if (value) {\n                return value;\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(headers)){\n        if (key.toLowerCase() === lowerCasedHeader) {\n            if (Array.isArray(value)) {\n                if (value.length <= 1) return value[0];\n                console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n                return value[0];\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\n/**\n * Encodes a string to Base64 format.\n */ const toBase64 = (str)=>{\n    if (!str) return \"\";\n    if (typeof Buffer !== \"undefined\") {\n        return Buffer.from(str).toString(\"base64\");\n    }\n    if (typeof btoa !== \"undefined\") {\n        return btoa(str);\n    }\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(\"Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined\");\n};\nfunction isObj(obj) {\n    return obj != null && typeof obj === \"object\" && !Array.isArray(obj);\n} //# sourceMappingURL=core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2NvcmUubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDUCxVQUFVRSxTQUFTRSxJQUFJQSxFQUFFRixLQUFLLEdBQUdBLFFBQVFELE1BQU1PLEdBQUcsQ0FBQ1IsVUFBVUUsUUFBU0E7QUFDeEc7QUFDQSxJQUFJTyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNQLFlBQVlJLElBQUlBLEVBQUVGLEtBQUssR0FBR0QsTUFBTVMsR0FBRyxDQUFDVjtBQUN4RjtBQUNBLElBQUlXO0FBQ29DO0FBQ0M7QUFDOEU7QUFDdkM7QUFDcEI7QUFD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QUFDbkosU0FBVTtRQUNoRCxJQUFJc0osSUFBSWtELFdBQVcsT0FBT3VFLGtCQUFrQjtZQUN4QyxJQUFJblEsTUFBTUMsT0FBTyxDQUFDOUMsUUFBUTtnQkFDdEIsSUFBSUEsTUFBTWlILE1BQU0sSUFBSSxHQUNoQixPQUFPakgsS0FBSyxDQUFDLEVBQUU7Z0JBQ25Cb1MsUUFBUW1CLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRXZULE1BQU1pSCxNQUFNLENBQUMsaUJBQWlCLEVBQUU2QixPQUFPLCtCQUErQixDQUFDO2dCQUNoRyxPQUFPOUksS0FBSyxDQUFDLEVBQUU7WUFDbkI7WUFDQSxPQUFPQTtRQUNYO0lBQ0o7SUFDQSxPQUFPb0k7QUFDWCxFQUFFO0FBQ0Y7O0NBRUMsR0FDTSxNQUFNb0wsV0FBVyxDQUFDQztJQUNyQixJQUFJLENBQUNBLEtBQ0QsT0FBTztJQUNYLElBQUksT0FBTy9NLFdBQVcsYUFBYTtRQUMvQixPQUFPQSxPQUFPa0MsSUFBSSxDQUFDNkssS0FBSzdNLFFBQVEsQ0FBQztJQUNyQztJQUNBLElBQUksT0FBTzhNLFNBQVMsYUFBYTtRQUM3QixPQUFPQSxLQUFLRDtJQUNoQjtJQUNBLE1BQU0sSUFBSTdTLG1EQUFXQSxDQUFDO0FBQzFCLEVBQUU7QUFDSyxTQUFTK1MsTUFBTS9FLEdBQUc7SUFDckIsT0FBT0EsT0FBTyxRQUFRLE9BQU9BLFFBQVEsWUFBWSxDQUFDL0wsTUFBTUMsT0FBTyxDQUFDOEw7QUFDcEUsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlLm1qcz83ZDg4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfQWJzdHJhY3RQYWdlX2NsaWVudDtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi92ZXJzaW9uLm1qc1wiO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtaW5nLm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IsIEFQSUVycm9yLCBBUElDb25uZWN0aW9uRXJyb3IsIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsga2luZCBhcyBzaGltc0tpbmQsIGdldERlZmF1bHRBZ2VudCwgZmV0Y2gsIH0gZnJvbSBcIi4vX3NoaW1zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgaXNCbG9iTGlrZSwgaXNNdWx0aXBhcnRCb2R5IH0gZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbmV4cG9ydCB7IG1heWJlTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIGNyZWF0ZUZvcm0sIH0gZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHRQYXJzZVJlc3BvbnNlKHByb3BzKSB7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gcHJvcHM7XG4gICAgaWYgKHByb3BzLm9wdGlvbnMuc3RyZWFtKSB7XG4gICAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgLy8gTm90ZTogdGhlcmUgaXMgYW4gaW52YXJpYW50IGhlcmUgdGhhdCBpc24ndCByZXByZXNlbnRlZCBpbiB0aGUgdHlwZSBzeXN0ZW1cbiAgICAgICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuICAgICAgICBpZiAocHJvcHMub3B0aW9ucy5fX3N0cmVhbUNsYXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMub3B0aW9ucy5fX3N0cmVhbUNsYXNzLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0cmVhbS5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICAvLyBmZXRjaCByZWZ1c2VzIHRvIHJlYWQgdGhlIGJvZHkgd2hlbiB0aGUgc3RhdHVzIGNvZGUgaXMgMjA0LlxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHByb3BzLm9wdGlvbnMuX19iaW5hcnlSZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgIGNvbnN0IGlzSlNPTiA9IGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpIHx8IGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vdm5kLmFwaStqc29uJyk7XG4gICAgaWYgKGlzSlNPTikge1xuICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywganNvbik7XG4gICAgICAgIHJldHVybiBfYWRkUmVxdWVzdElEKGpzb24sIHJlc3BvbnNlKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBkZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywgdGV4dCk7XG4gICAgLy8gVE9ETyBoYW5kbGUgYmxvYiwgYXJyYXlidWZmZXIsIG90aGVyIGNvbnRlbnQgdHlwZXMsIGV0Yy5cbiAgICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIF9hZGRSZXF1ZXN0SUQodmFsdWUsIHJlc3BvbnNlKSB7XG4gICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ19yZXF1ZXN0X2lkJywge1xuICAgICAgICB2YWx1ZTogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVxdWVzdC1pZCcpLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB9KTtcbn1cbi8qKlxuICogQSBzdWJjbGFzcyBvZiBgUHJvbWlzZWAgcHJvdmlkaW5nIGFkZGl0aW9uYWwgaGVscGVyIG1ldGhvZHNcbiAqIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBTREsuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElQcm9taXNlIGV4dGVuZHMgUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2VQcm9taXNlLCBwYXJzZVJlc3BvbnNlID0gZGVmYXVsdFBhcnNlUmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWF5YmUgYSBiaXQgd2VpcmQgYnV0IHRoaXMgaGFzIHRvIGJlIGEgbm8tb3AgdG8gbm90IGltcGxpY2l0bHlcbiAgICAgICAgICAgIC8vIHBhcnNlIHRoZSByZXNwb25zZSBib2R5OyBpbnN0ZWFkIC50aGVuLCAuY2F0Y2gsIC5maW5hbGx5IGFyZSBvdmVycmlkZGVuXG4gICAgICAgICAgICAvLyB0byBwYXJzZSB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgICAgdGhpcy5wYXJzZVJlc3BvbnNlID0gcGFyc2VSZXNwb25zZTtcbiAgICB9XG4gICAgX3RoZW5VbndyYXAodHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLnJlc3BvbnNlUHJvbWlzZSwgYXN5bmMgKHByb3BzKSA9PiBfYWRkUmVxdWVzdElEKHRyYW5zZm9ybShhd2FpdCB0aGlzLnBhcnNlUmVzcG9uc2UocHJvcHMpLCBwcm9wcyksIHByb3BzLnJlc3BvbnNlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGluc3RlYWQgb2YgcGFyc2luZyB0aGUgcmVzcG9uc2VcbiAgICAgKiBkYXRhLlxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHkgYnV0IHN0aWxsIGdldCB0aGUgYFJlc3BvbnNlYFxuICAgICAqIGluc3RhbmNlLCB5b3UgY2FuIHVzZSB7QGxpbmsgd2l0aFJlc3BvbnNlKCl9LlxuICAgICAqXG4gICAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQg4oCmIGZyb20gJ29wZW5haSdgOlxuICAgICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL25vZGUnYCAoaWYgeW91J3JlIHJ1bm5pbmcgb24gTm9kZSlcbiAgICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgICAqL1xuICAgIGFzUmVzcG9uc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKChwKSA9PiBwLnJlc3BvbnNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyc2VkIHJlc3BvbnNlIGRhdGEsIHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSBhbmQgdGhlIElEIG9mIHRoZSByZXF1ZXN0LFxuICAgICAqIHJldHVybmVkIHZpYSB0aGUgWC1SZXF1ZXN0LUlEIGhlYWRlciB3aGljaCBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZyByZXF1ZXN0cyBhbmQgcmVwb3J0aW5nXG4gICAgICogaXNzdWVzIHRvIE9wZW5BSS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBqdXN0IHdhbnQgdG8gZ2V0IHRoZSByYXcgYFJlc3BvbnNlYCBpbnN0YW5jZSB3aXRob3V0IHBhcnNpbmcgaXQsXG4gICAgICogeW91IGNhbiB1c2Uge0BsaW5rIGFzUmVzcG9uc2UoKX0uXG4gICAgICpcbiAgICAgKlxuICAgICAqIPCfkYsgR2V0dGluZyB0aGUgd3JvbmcgVHlwZVNjcmlwdCB0eXBlIGZvciBgUmVzcG9uc2VgP1xuICAgICAqIFRyeSBzZXR0aW5nIGBcIm1vZHVsZVJlc29sdXRpb25cIjogXCJOb2RlTmV4dFwiYCBpZiB5b3UgY2FuLFxuICAgICAqIG9yIGFkZCBvbmUgb2YgdGhlc2UgaW1wb3J0cyBiZWZvcmUgeW91ciBmaXJzdCBgaW1wb3J0IOKApiBmcm9tICdvcGVuYWknYDpcbiAgICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy9ub2RlJ2AgKGlmIHlvdSdyZSBydW5uaW5nIG9uIE5vZGUpXG4gICAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvd2ViJ2AgKG90aGVyd2lzZSlcbiAgICAgKi9cbiAgICBhc3luYyB3aXRoUmVzcG9uc2UoKSB7XG4gICAgICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgICAgICByZXR1cm4geyBkYXRhLCByZXNwb25zZSwgcmVxdWVzdF9pZDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVxdWVzdC1pZCcpIH07XG4gICAgfVxuICAgIHBhcnNlKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyc2VkUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJzZWRQcm9taXNlID0gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbih0aGlzLnBhcnNlUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFByb21pc2U7XG4gICAgfVxuICAgIHRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoKS50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgICB9XG4gICAgY2F0Y2gob25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmNhdGNoKG9ucmVqZWN0ZWQpO1xuICAgIH1cbiAgICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLmZpbmFsbHkob25maW5hbGx5KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVUkwsIG1heFJldHJpZXMgPSAyLCB0aW1lb3V0ID0gNjAwMDAwLCAvLyAxMCBtaW51dGVzXG4gICAgaHR0cEFnZW50LCBmZXRjaDogb3ZlcnJpZGVuRmV0Y2gsIH0pIHtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ21heFJldHJpZXMnLCBtYXhSZXRyaWVzKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSBvdmVycmlkZW5GZXRjaCA/PyBmZXRjaDtcbiAgICB9XG4gICAgYXV0aEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoaXMgdG8gYWRkIHlvdXIgb3duIGRlZmF1bHQgaGVhZGVycywgZm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAge1xuICAgICAqICAgIC4uLnN1cGVyLmRlZmF1bHRIZWFkZXJzKCksXG4gICAgICogICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAxMjMnLFxuICAgICAqICB9XG4gICAgICovXG4gICAgZGVmYXVsdEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAgICAgICAuLi50aGlzLmF1dGhIZWFkZXJzKG9wdHMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIHRvIGFkZCB5b3VyIG93biBoZWFkZXJzIHZhbGlkYXRpb246XG4gICAgICovXG4gICAgdmFsaWRhdGVIZWFkZXJzKGhlYWRlcnMsIGN1c3RvbUhlYWRlcnMpIHsgfVxuICAgIGRlZmF1bHRJZGVtcG90ZW5jeUtleSgpIHtcbiAgICAgICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgICB9XG4gICAgZ2V0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZ2V0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHBvc3QocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwb3N0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHBhdGNoKHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgcHV0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncHV0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIGRlbGV0ZShwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2RlbGV0ZScsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBtZXRob2RSZXF1ZXN0KG1ldGhvZCwgcGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFByb21pc2UucmVzb2x2ZShvcHRzKS50aGVuKGFzeW5jIChvcHRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0gb3B0cyAmJiBpc0Jsb2JMaWtlKG9wdHM/LmJvZHkpID8gbmV3IERhdGFWaWV3KGF3YWl0IG9wdHMuYm9keS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgICAgICAgIDogb3B0cz8uYm9keSBpbnN0YW5jZW9mIERhdGFWaWV3ID8gb3B0cy5ib2R5XG4gICAgICAgICAgICAgICAgICAgIDogb3B0cz8uYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IERhdGFWaWV3KG9wdHMuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb3B0cyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcob3B0cz8uYm9keSkgPyBuZXcgRGF0YVZpZXcob3B0cy5ib2R5LmJ1ZmZlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wdHM/LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4geyBtZXRob2QsIHBhdGgsIC4uLm9wdHMsIGJvZHkgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRBUElMaXN0KHBhdGgsIFBhZ2UsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFQSUxpc3QoUGFnZSwgeyBtZXRob2Q6ICdnZXQnLCBwYXRoLCAuLi5vcHRzIH0pO1xuICAgIH1cbiAgICBjYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHksICd1dGY4JykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSBlbmNvZGVyLmVuY29kZShib2R5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlZC5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYm9keSkpIHtcbiAgICAgICAgICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHsgcmV0cnlDb3VudCA9IDAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kLCBwYXRoLCBxdWVyeSwgaGVhZGVyczogaGVhZGVycyA9IHt9IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBib2R5ID0gQXJyYXlCdWZmZXIuaXNWaWV3KG9wdGlvbnMuYm9keSkgfHwgKG9wdGlvbnMuX19iaW5hcnlSZXF1ZXN0ICYmIHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdzdHJpbmcnKSA/XG4gICAgICAgICAgICBvcHRpb25zLmJvZHlcbiAgICAgICAgICAgIDogaXNNdWx0aXBhcnRCb2R5KG9wdGlvbnMuYm9keSkgPyBvcHRpb25zLmJvZHkuYm9keVxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5ib2R5ID8gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5ib2R5LCBudWxsLCAyKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLmNhbGN1bGF0ZUNvbnRlbnRMZW5ndGgoYm9keSk7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCwgcXVlcnkpO1xuICAgICAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdGlvbnMpXG4gICAgICAgICAgICB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlcigndGltZW91dCcsIG9wdGlvbnMudGltZW91dCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgICAgICBjb25zdCBodHRwQWdlbnQgPSBvcHRpb25zLmh0dHBBZ2VudCA/PyB0aGlzLmh0dHBBZ2VudCA/PyBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICAgICAgY29uc3QgbWluQWdlbnRUaW1lb3V0ID0gdGltZW91dCArIDEwMDA7XG4gICAgICAgIGlmICh0eXBlb2YgaHR0cEFnZW50Py5vcHRpb25zPy50aW1lb3V0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgbWluQWdlbnRUaW1lb3V0ID4gKGh0dHBBZ2VudC5vcHRpb25zLnRpbWVvdXQgPz8gMCkpIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGFueSBnaXZlbiByZXF1ZXN0IHRvIGJ1bXAgb3VyIGFnZW50IGFjdGl2ZSBzb2NrZXQgdGltZW91dC5cbiAgICAgICAgICAgIC8vIFRoaXMgbWF5IHNlZW0gc3RyYW5nZSwgYnV0IGxlYWtpbmcgYWN0aXZlIHNvY2tldHMgc2hvdWxkIGJlIHJhcmUgYW5kIG5vdCBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMsXG4gICAgICAgICAgICAvLyBhbmQgd2l0aG91dCBtdXRhdGluZyBhZ2VudCB3ZSB3b3VsZCBuZWVkIHRvIGNyZWF0ZSBtb3JlIG9mIHRoZW0uXG4gICAgICAgICAgICAvLyBUaGlzIHRyYWRlb2ZmIG9wdGltaXplcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgICBodHRwQWdlbnQub3B0aW9ucy50aW1lb3V0ID0gbWluQWdlbnRUaW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlkZW1wb3RlbmN5SGVhZGVyICYmIG1ldGhvZCAhPT0gJ2dldCcpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5pZGVtcG90ZW5jeUtleSlcbiAgICAgICAgICAgICAgICBvcHRpb25zLmlkZW1wb3RlbmN5S2V5ID0gdGhpcy5kZWZhdWx0SWRlbXBvdGVuY3lLZXkoKTtcbiAgICAgICAgICAgIGhlYWRlcnNbdGhpcy5pZGVtcG90ZW5jeUhlYWRlcl0gPSBvcHRpb25zLmlkZW1wb3RlbmN5S2V5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSB0aGlzLmJ1aWxkSGVhZGVycyh7IG9wdGlvbnMsIGhlYWRlcnMsIGNvbnRlbnRMZW5ndGgsIHJldHJ5Q291bnQgfSk7XG4gICAgICAgIGNvbnN0IHJlcSA9IHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIC4uLihib2R5ICYmIHsgYm9keTogYm9keSB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcUhlYWRlcnMsXG4gICAgICAgICAgICAuLi4oaHR0cEFnZW50ICYmIHsgYWdlbnQ6IGh0dHBBZ2VudCB9KSxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgbm9kZS1mZXRjaCB1c2VzIGEgY3VzdG9tIEFib3J0U2lnbmFsIHR5cGUgdGhhdCBpc1xuICAgICAgICAgICAgLy8gbm90IGNvbXBhdGlibGUgd2l0aCBzdGFuZGFyZCB3ZWIgdHlwZXNcbiAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwgPz8gbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgcmVxLCB1cmwsIHRpbWVvdXQgfTtcbiAgICB9XG4gICAgYnVpbGRIZWFkZXJzKHsgb3B0aW9ucywgaGVhZGVycywgY29udGVudExlbmd0aCwgcmV0cnlDb3VudCwgfSkge1xuICAgICAgICBjb25zdCByZXFIZWFkZXJzID0ge307XG4gICAgICAgIGlmIChjb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICByZXFIZWFkZXJzWydjb250ZW50LWxlbmd0aCddID0gY29udGVudExlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZhdWx0SGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnMob3B0aW9ucyk7XG4gICAgICAgIGFwcGx5SGVhZGVyc011dChyZXFIZWFkZXJzLCBkZWZhdWx0SGVhZGVycyk7XG4gICAgICAgIGFwcGx5SGVhZGVyc011dChyZXFIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICAgICAgLy8gbGV0IGJ1aWx0aW4gZmV0Y2ggc2V0IHRoZSBDb250ZW50LVR5cGUgZm9yIG11bHRpcGFydCBib2RpZXNcbiAgICAgICAgaWYgKGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpICYmIHNoaW1zS2luZCAhPT0gJ25vZGUnKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVxSGVhZGVyc1snY29udGVudC10eXBlJ107XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9uJ3Qgc2V0IHRoZSByZXRyeSBjb3VudCBoZWFkZXIgaWYgaXQgd2FzIGFscmVhZHkgc2V0IG9yIHJlbW92ZWQgdGhyb3VnaCBkZWZhdWx0IGhlYWRlcnMgb3IgYnkgdGhlXG4gICAgICAgIC8vIGNhbGxlci4gV2UgY2hlY2sgYGRlZmF1bHRIZWFkZXJzYCBhbmQgYGhlYWRlcnNgLCB3aGljaCBjYW4gY29udGFpbiBudWxscywgaW5zdGVhZCBvZiBgcmVxSGVhZGVyc2AgdG9cbiAgICAgICAgLy8gYWNjb3VudCBmb3IgdGhlIHJlbW92YWwgY2FzZS5cbiAgICAgICAgaWYgKGdldEhlYWRlcihkZWZhdWx0SGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgZ2V0SGVhZGVyKGhlYWRlcnMsICd4LXN0YWlubGVzcy1yZXRyeS1jb3VudCcpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcUhlYWRlcnNbJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50J10gPSBTdHJpbmcocmV0cnlDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWxpZGF0ZUhlYWRlcnMocmVxSGVhZGVycywgaGVhZGVycyk7XG4gICAgICAgIHJldHVybiByZXFIZWFkZXJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgRmluYWxSZXF1ZXN0T3B0aW9uc2Agb2JqZWN0LlxuICAgICAqL1xuICAgIGFzeW5jIHByZXBhcmVPcHRpb25zKG9wdGlvbnMpIHsgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgYXMgYSBjYWxsYmFjayBmb3IgbXV0YXRpbmcgdGhlIGdpdmVuIGBSZXF1ZXN0SW5pdGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNhc2VzIHdoZXJlIHlvdSB3YW50IHRvIGFkZCBjZXJ0YWluIGhlYWRlcnMgYmFzZWQgb2ZmIG9mXG4gICAgICogdGhlIHJlcXVlc3QgcHJvcGVydGllcywgZS5nLiBgbWV0aG9kYCBvciBgdXJsYC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0LCB7IHVybCwgb3B0aW9ucyB9KSB7IH1cbiAgICBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICAgICAgICByZXR1cm4gKCFoZWFkZXJzID8ge31cbiAgICAgICAgICAgIDogU3ltYm9sLml0ZXJhdG9yIGluIGhlYWRlcnMgP1xuICAgICAgICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhBcnJheS5mcm9tKGhlYWRlcnMpLm1hcCgoaGVhZGVyKSA9PiBbLi4uaGVhZGVyXSkpXG4gICAgICAgICAgICAgICAgOiB7IC4uLmhlYWRlcnMgfSk7XG4gICAgfVxuICAgIG1ha2VTdGF0dXNFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBBUElFcnJvci5nZW5lcmF0ZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgcmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IEFQSVByb21pc2UodGhpcy5tYWtlUmVxdWVzdChvcHRpb25zLCByZW1haW5pbmdSZXRyaWVzKSk7XG4gICAgfVxuICAgIGFzeW5jIG1ha2VSZXF1ZXN0KG9wdGlvbnNJbnB1dCwgcmV0cmllc1JlbWFpbmluZykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgb3B0aW9uc0lucHV0O1xuICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgICAgaWYgKHJldHJpZXNSZW1haW5pbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0cmllc1JlbWFpbmluZyA9IG1heFJldHJpZXM7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgY29uc3QgeyByZXEsIHVybCwgdGltZW91dCB9ID0gdGhpcy5idWlsZFJlcXVlc3Qob3B0aW9ucywgeyByZXRyeUNvdW50OiBtYXhSZXRyaWVzIC0gcmV0cmllc1JlbWFpbmluZyB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuICAgICAgICBkZWJ1ZygncmVxdWVzdCcsIHVybCwgb3B0aW9ucywgcmVxLmhlYWRlcnMpO1xuICAgICAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhUaW1lb3V0KHVybCwgcmVxLCB0aW1lb3V0LCBjb250cm9sbGVyKS5jYXRjaChjYXN0VG9FcnJvcik7XG4gICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvbkVycm9yKHsgY2F1c2U6IHJlc3BvbnNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgaWYgKHJldHJpZXNSZW1haW5pbmcgJiYgdGhpcy5zaG91bGRSZXRyeShyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSBgcmV0cnlpbmcsICR7cmV0cmllc1JlbWFpbmluZ30gYXR0ZW1wdHMgcmVtYWluaW5nYDtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgcmVzcG9uc2UgKGVycm9yOyAke3JldHJ5TWVzc2FnZX0pYCwgcmVzcG9uc2Uuc3RhdHVzLCB1cmwsIHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlcnJUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpLmNhdGNoKChlKSA9PiBjYXN0VG9FcnJvcihlKS5tZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGVyckpTT04gPSBzYWZlSlNPTihlcnJUZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IGVyck1lc3NhZ2UgPSBlcnJKU09OID8gdW5kZWZpbmVkIDogZXJyVGV4dDtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IHJldHJpZXNSZW1haW5pbmcgPyBgKGVycm9yOyBubyBtb3JlIHJldHJpZXMgbGVmdClgIDogYChlcnJvcjsgbm90IHJldHJ5YWJsZSlgO1xuICAgICAgICAgICAgZGVidWcoYHJlc3BvbnNlIChlcnJvcjsgJHtyZXRyeU1lc3NhZ2V9KWAsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMsIGVyck1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvcHRpb25zLCBjb250cm9sbGVyIH07XG4gICAgfVxuICAgIHJlcXVlc3RBUElMaXN0KFBhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgbnVsbCk7XG4gICAgICAgIHJldHVybiBuZXcgUGFnZVByb21pc2UodGhpcywgcmVxdWVzdCwgUGFnZSk7XG4gICAgfVxuICAgIGJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICAgICAgbmV3IFVSTChwYXRoKVxuICAgICAgICAgICAgOiBuZXcgVVJMKHRoaXMuYmFzZVVSTCArICh0aGlzLmJhc2VVUkwuZW5kc1dpdGgoJy8nKSAmJiBwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/IHBhdGguc2xpY2UoMSkgOiBwYXRoKSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRRdWVyeSA9IHRoaXMuZGVmYXVsdFF1ZXJ5KCk7XG4gICAgICAgIGlmICghaXNFbXB0eU9iaihkZWZhdWx0UXVlcnkpKSB7XG4gICAgICAgICAgICBxdWVyeSA9IHsgLi4uZGVmYXVsdFF1ZXJ5LCAuLi5xdWVyeSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnICYmIHF1ZXJ5ICYmICFBcnJheS5pc0FycmF5KHF1ZXJ5KSkge1xuICAgICAgICAgICAgdXJsLnNlYXJjaCA9IHRoaXMuc3RyaW5naWZ5UXVlcnkocXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc3RyaW5naWZ5UXVlcnkocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENhbm5vdCBzdHJpbmdpZnkgdHlwZSAke3R5cGVvZiB2YWx1ZX07IEV4cGVjdGVkIHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBvciBudWxsLiBJZiB5b3UgbmVlZCB0byBwYXNzIG5lc3RlZCBxdWVyeSBwYXJhbWV0ZXJzLCB5b3UgY2FuIG1hbnVhbGx5IGVuY29kZSB0aGVtLCBlLmcuIHsgcXVlcnk6IHsgJ2Zvb1trZXkxXSc6IHZhbHVlMSwgJ2Zvb1trZXkyXSc6IHZhbHVlMiB9IH0sIGFuZCBwbGVhc2Ugb3BlbiBhIEdpdEh1YiBpc3N1ZSByZXF1ZXN0aW5nIGJldHRlciBzdXBwb3J0IGZvciB5b3VyIHVzZSBjYXNlLmApO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJyYnKTtcbiAgICB9XG4gICAgYXN5bmMgZmV0Y2hXaXRoVGltZW91dCh1cmwsIGluaXQsIG1zLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IHsgc2lnbmFsLCAuLi5vcHRpb25zIH0gPSBpbml0IHx8IHt9O1xuICAgICAgICBpZiAoc2lnbmFsKVxuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCBtcyk7XG4gICAgICAgIHJldHVybiAodGhpcy5nZXRSZXF1ZXN0Q2xpZW50KClcbiAgICAgICAgICAgIC8vIHVzZSB1bmRlZmluZWQgdGhpcyBiaW5kaW5nOyBmZXRjaCBlcnJvcnMgaWYgYm91bmQgdG8gc29tZXRoaW5nIGVsc2UgaW4gYnJvd3Nlci9jbG91ZGZsYXJlXG4gICAgICAgICAgICAuZmV0Y2guY2FsbCh1bmRlZmluZWQsIHVybCwgeyBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLCAuLi5vcHRpb25zIH0pXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0UmVxdWVzdENsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHsgZmV0Y2g6IHRoaXMuZmV0Y2ggfTtcbiAgICB9XG4gICAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBhIHN0YW5kYXJkIGhlYWRlci5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmV0cnlIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1zaG91bGQtcmV0cnknKTtcbiAgICAgICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gUmV0cnkgb24gcmVxdWVzdCB0aW1lb3V0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA4KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA1MDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyByZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0aW1lb3V0TWlsbGlzO1xuICAgICAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXItbXMnXTtcbiAgICAgICAgaWYgKHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1pbGxpc0hlYWRlcik7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRNcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICAgICAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uWydyZXRyeS1hZnRlciddO1xuICAgICAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXJIZWFkZXIpIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgQVBJIGFza3MgdXMgdG8gd2FpdCBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUgKGFuZCBpdCdzIGEgcmVhc29uYWJsZSBhbW91bnQpLFxuICAgICAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgICAgIGlmICghKHRpbWVvdXRNaWxsaXMgJiYgMCA8PSB0aW1lb3V0TWlsbGlzICYmIHRpbWVvdXRNaWxsaXMgPCA2MCAqIDEwMDApKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcgLSAxKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nLCBtYXhSZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxSZXRyeURlbGF5ID0gMC41O1xuICAgICAgICBjb25zdCBtYXhSZXRyeURlbGF5ID0gOC4wO1xuICAgICAgICBjb25zdCBudW1SZXRyaWVzID0gbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmc7XG4gICAgICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgICAgIGNvbnN0IHNsZWVwU2Vjb25kcyA9IE1hdGgubWluKGluaXRpYWxSZXRyeURlbGF5ICogTWF0aC5wb3coMiwgbnVtUmV0cmllcyksIG1heFJldHJ5RGVsYXkpO1xuICAgICAgICAvLyBBcHBseSBzb21lIGppdHRlciwgdGFrZSB1cCB0byBhdCBtb3N0IDI1IHBlcmNlbnQgb2YgdGhlIHJldHJ5IHRpbWUuXG4gICAgICAgIGNvbnN0IGppdHRlciA9IDEgLSBNYXRoLnJhbmRvbSgpICogMC4yNTtcbiAgICAgICAgcmV0dXJuIHNsZWVwU2Vjb25kcyAqIGppdHRlciAqIDEwMDA7XG4gICAgfVxuICAgIGdldFVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgY2xpZW50LCBcImZcIik7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB9XG4gICAgaGFzTmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VJbmZvKCkgIT0gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICAgICAgaWYgKCFuZXh0SW5mbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgICAgICBpZiAoJ3BhcmFtcycgaW4gbmV4dEluZm8gJiYgdHlwZW9mIG5leHRPcHRpb25zLnF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgndXJsJyBpbiBuZXh0SW5mbykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gWy4uLk9iamVjdC5lbnRyaWVzKG5leHRPcHRpb25zLnF1ZXJ5IHx8IHt9KSwgLi4ubmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5lbnRyaWVzKCldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgXCJmXCIpLnJlcXVlc3RBUElMaXN0KHRoaXMuY29uc3RydWN0b3IsIG5leHRPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKml0ZXJQYWdlcygpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGxldCBwYWdlID0gdGhpcztcbiAgICAgICAgeWllbGQgcGFnZTtcbiAgICAgICAgd2hpbGUgKHBhZ2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgcGFnZSA9IGF3YWl0IHBhZ2UuZ2V0TmV4dFBhZ2UoKTtcbiAgICAgICAgICAgIHlpZWxkIHBhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgKlsoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2UgZXh0ZW5kcyBBUElQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlcXVlc3QsIFBhZ2UpIHtcbiAgICAgICAgc3VwZXIocmVxdWVzdCwgYXN5bmMgKHByb3BzKSA9PiBuZXcgUGFnZShjbGllbnQsIHByb3BzLnJlc3BvbnNlLCBhd2FpdCBkZWZhdWx0UGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzLm9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAgICAgKlxuICAgICAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gICAgICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgICAqICAgIH1cbiAgICAgKi9cbiAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHRoaXM7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGhlYWRlcnMuZW50cmllcygpKSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleS50b0xvd2VyQ2FzZSgpXSB8fCB0YXJnZXRba2V5XTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG4vLyBUaGlzIGlzIHJlcXVpcmVkIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSBpZiBhIGdpdmVuIG9iamVjdCBtYXRjaGVzIHRoZSBSZXF1ZXN0T3B0aW9uc1xuLy8gdHlwZSBhdCBydW50aW1lLiBXaGlsZSB0aGlzIHJlcXVpcmVzIGR1cGxpY2F0aW9uLCBpdCBpcyBlbmZvcmNlZCBieSB0aGUgVHlwZVNjcmlwdFxuLy8gY29tcGlsZXIgc3VjaCB0aGF0IGFueSBtaXNzaW5nIC8gZXh0cmFuZW91cyBrZXlzIHdpbGwgY2F1c2UgYW4gZXJyb3IuXG5jb25zdCByZXF1ZXN0T3B0aW9uc0tleXMgPSB7XG4gICAgbWV0aG9kOiB0cnVlLFxuICAgIHBhdGg6IHRydWUsXG4gICAgcXVlcnk6IHRydWUsXG4gICAgYm9keTogdHJ1ZSxcbiAgICBoZWFkZXJzOiB0cnVlLFxuICAgIG1heFJldHJpZXM6IHRydWUsXG4gICAgc3RyZWFtOiB0cnVlLFxuICAgIHRpbWVvdXQ6IHRydWUsXG4gICAgaHR0cEFnZW50OiB0cnVlLFxuICAgIHNpZ25hbDogdHJ1ZSxcbiAgICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbiAgICBfX2JpbmFyeVJlcXVlc3Q6IHRydWUsXG4gICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICBfX3N0cmVhbUNsYXNzOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBpc1JlcXVlc3RPcHRpb25zID0gKG9iaikgPT4ge1xuICAgIHJldHVybiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgb2JqICE9PSBudWxsICYmXG4gICAgICAgICFpc0VtcHR5T2JqKG9iaikgJiZcbiAgICAgICAgT2JqZWN0LmtleXMob2JqKS5ldmVyeSgoaykgPT4gaGFzT3duKHJlcXVlc3RPcHRpb25zS2V5cywgaykpKTtcbn07XG5jb25zdCBnZXRQbGF0Zm9ybVByb3BlcnRpZXMgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJyAmJiBEZW5vLmJ1aWxkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHR5cGVvZiBEZW5vLnZlcnNpb24gPT09ICdzdHJpbmcnID8gRGVuby52ZXJzaW9uIDogRGVuby52ZXJzaW9uPy5kZW5vID8/ICd1bmtub3duJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBFZGdlUnVudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiBOb2RlLmpzXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzIDogMCkgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybShwcm9jZXNzLnBsYXRmb3JtKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaChwcm9jZXNzLmFyY2gpLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnbm9kZScsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBicm93c2VySW5mbyA9IGdldEJyb3dzZXJJbmZvKCk7XG4gICAgaWYgKGJyb3dzZXJJbmZvKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiBgYnJvd3Nlcjoke2Jyb3dzZXJJbmZvLmJyb3dzZXJ9YCxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBicm93c2VySW5mby52ZXJzaW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBDbG91ZGZsYXJlIHdvcmtlcnMsIGV0Yy5cbiAgICByZXR1cm4ge1xuICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogJ3Vua25vd24nLFxuICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICd1bmtub3duJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6ICd1bmtub3duJyxcbiAgICB9O1xufTtcbi8vIE5vdGU6IG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0pTLURldlRvb2xzL2hvc3QtZW52aXJvbm1lbnQvYmxvYi9iMWFiNzllY2RlMzdkYjVkNmUxNjNjMDUwZTU0ZmU3ZDI4N2Q3YzkyL3NyYy9pc29tb3JwaGljLmJyb3dzZXIudHNcbmZ1bmN0aW9uIGdldEJyb3dzZXJJbmZvKCkge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBOT1RFOiBUaGUgb3JkZXIgbWF0dGVycyBoZXJlIVxuICAgIGNvbnN0IGJyb3dzZXJQYXR0ZXJucyA9IFtcbiAgICAgICAgeyBrZXk6ICdlZGdlJywgcGF0dGVybjogL0VkZ2UoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9NU0lFKD86XFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnaWUnLCBwYXR0ZXJuOiAvVHJpZGVudCg/Oi4qcnZcXDooXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2Nocm9tZScsIHBhdHRlcm46IC9DaHJvbWUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdmaXJlZm94JywgcGF0dGVybjogL0ZpcmVmb3goPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdzYWZhcmknLCBwYXR0ZXJuOiAvKD86VmVyc2lvblxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/KD86XFxXK01vYmlsZVxcUyopP1xcVytTYWZhcmkvIH0sXG4gICAgXTtcbiAgICAvLyBGaW5kIHRoZSBGSVJTVCBtYXRjaGluZyBicm93c2VyXG4gICAgZm9yIChjb25zdCB7IGtleSwgcGF0dGVybiB9IG9mIGJyb3dzZXJQYXR0ZXJucykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdHRlcm4uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBjb25zdCBtYWpvciA9IG1hdGNoWzFdIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBtaW5vciA9IG1hdGNoWzJdIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBwYXRjaCA9IG1hdGNoWzNdIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4geyBicm93c2VyOiBrZXksIHZlcnNpb246IGAke21ham9yfS4ke21pbm9yfS4ke3BhdGNofWAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IG5vcm1hbGl6ZUFyY2ggPSAoYXJjaCkgPT4ge1xuICAgIC8vIE5vZGUgZG9jczpcbiAgICAvLyAtIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NhcmNoXG4gICAgLy8gRGVubyBkb2NzOlxuICAgIC8vIC0gaHR0cHM6Ly9kb2MuZGVuby5sYW5kL2Rlbm8vc3RhYmxlL34vRGVuby5idWlsZFxuICAgIGlmIChhcmNoID09PSAneDMyJylcbiAgICAgICAgcmV0dXJuICd4MzInO1xuICAgIGlmIChhcmNoID09PSAneDg2XzY0JyB8fCBhcmNoID09PSAneDY0JylcbiAgICAgICAgcmV0dXJuICd4NjQnO1xuICAgIGlmIChhcmNoID09PSAnYXJtJylcbiAgICAgICAgcmV0dXJuICdhcm0nO1xuICAgIGlmIChhcmNoID09PSAnYWFyY2g2NCcgfHwgYXJjaCA9PT0gJ2FybTY0JylcbiAgICAgICAgcmV0dXJuICdhcm02NCc7XG4gICAgaWYgKGFyY2gpXG4gICAgICAgIHJldHVybiBgb3RoZXI6JHthcmNofWA7XG4gICAgcmV0dXJuICd1bmtub3duJztcbn07XG5jb25zdCBub3JtYWxpemVQbGF0Zm9ybSA9IChwbGF0Zm9ybSkgPT4ge1xuICAgIC8vIE5vZGUgcGxhdGZvcm1zOlxuICAgIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc3BsYXRmb3JtXG4gICAgLy8gRGVubyBwbGF0Zm9ybXM6XG4gICAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZGVub2xhbmQvZGVuby9pc3N1ZXMvMTQ3OTlcbiAgICBwbGF0Zm9ybSA9IHBsYXRmb3JtLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gTk9URTogdGhpcyBpT1MgY2hlY2sgaXMgdW50ZXN0ZWQgYW5kIG1heSBub3Qgd29ya1xuICAgIC8vIE5vZGUgZG9lcyBub3Qgd29yayBuYXRpdmVseSBvbiBJT1MsIHRoZXJlIGlzIGEgZm9yayBhdFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMtbW9iaWxlL25vZGVqcy1tb2JpbGVcbiAgICAvLyBob3dldmVyIGl0IGlzIHVua25vd24gYXQgdGhlIHRpbWUgb2Ygd3JpdGluZyBob3cgdG8gZGV0ZWN0IGlmIGl0IGlzIHJ1bm5pbmdcbiAgICBpZiAocGxhdGZvcm0uaW5jbHVkZXMoJ2lvcycpKVxuICAgICAgICByZXR1cm4gJ2lPUyc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnYW5kcm9pZCcpXG4gICAgICAgIHJldHVybiAnQW5kcm9pZCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnZGFyd2luJylcbiAgICAgICAgcmV0dXJuICdNYWNPUyc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnd2luMzInKVxuICAgICAgICByZXR1cm4gJ1dpbmRvd3MnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ2ZyZWVic2QnKVxuICAgICAgICByZXR1cm4gJ0ZyZWVCU0QnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ29wZW5ic2QnKVxuICAgICAgICByZXR1cm4gJ09wZW5CU0QnO1xuICAgIGlmIChwbGF0Zm9ybSA9PT0gJ2xpbnV4JylcbiAgICAgICAgcmV0dXJuICdMaW51eCc7XG4gICAgaWYgKHBsYXRmb3JtKVxuICAgICAgICByZXR1cm4gYE90aGVyOiR7cGxhdGZvcm19YDtcbiAgICByZXR1cm4gJ1Vua25vd24nO1xufTtcbmxldCBfcGxhdGZvcm1IZWFkZXJzO1xuY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICAgIHJldHVybiAoX3BsYXRmb3JtSGVhZGVycyA/PyAoX3BsYXRmb3JtSGVhZGVycyA9IGdldFBsYXRmb3JtUHJvcGVydGllcygpKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVKU09OID0gKHRleHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk3MDk4NDZcbmNvbnN0IHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAgPSBuZXcgUmVnRXhwKCdeKD86W2Etel0rOik/Ly8nLCAnaScpO1xuY29uc3QgaXNBYnNvbHV0ZVVSTCA9ICh1cmwpID0+IHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuY29uc3QgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIgPSAobmFtZSwgbikgPT4ge1xuICAgIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYW4gaW50ZWdlcmApO1xuICAgIH1cbiAgICBpZiAobiA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufTtcbmV4cG9ydCBjb25zdCBjYXN0VG9FcnJvciA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmIGVyciAhPT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7IH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcihlcnIpO1xufTtcbmV4cG9ydCBjb25zdCBlbnN1cmVQcmVzZW50ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFRyaW1zIGJlZ2lubmluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBXaWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRvZXNuJ3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcmVhZEVudiA9IChlbnYpID0+IHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudj8uW2Vudl0/LnRyaW0oKSA/PyB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIERlbm8uZW52Py5nZXQ/LihlbnYpPy50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGNvZXJjZUludGVnZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUZsb2F0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUJvb2xlYW4odmFsdWUpO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MTI4N1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqKSB7XG4gICAgaWYgKCFvYmopXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAoY29uc3QgX2sgaW4gb2JqKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG4vKipcbiAqIENvcGllcyBoZWFkZXJzIGZyb20gXCJuZXdIZWFkZXJzXCIgb250byBcInRhcmdldEhlYWRlcnNcIixcbiAqIHVzaW5nIGxvd2VyLWNhc2UgZm9yIGFsbCBwcm9wZXJ0aWVzLFxuICogaWdub3JpbmcgYW55IGtleXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzLFxuICogYW5kIGRlbGV0aW5nIGFueSBrZXlzIHdpdGggbnVsbCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SGVhZGVyc011dCh0YXJnZXRIZWFkZXJzLCBuZXdIZWFkZXJzKSB7XG4gICAgZm9yIChjb25zdCBrIGluIG5ld0hlYWRlcnMpIHtcbiAgICAgICAgaWYgKCFoYXNPd24obmV3SGVhZGVycywgaykpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbG93ZXJLZXkgPSBrLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghbG93ZXJLZXkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsID0gbmV3SGVhZGVyc1trXTtcbiAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldEhlYWRlcnNbbG93ZXJLZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3M/LmVudj8uWydERUJVRyddID09PSAndHJ1ZScpIHtcbiAgICAgICAgY29uc29sZS5sb2coYE9wZW5BSTpERUJVRzoke2FjdGlvbn1gLCAuLi5hcmdzKTtcbiAgICB9XG59XG4vKipcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXG4gKi9cbmNvbnN0IHV1aWQ0ID0gKCkgPT4ge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XG4gICAgICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgICAgIGNvbnN0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzUnVubmluZ0luQnJvd3NlciA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpO1xufTtcbmV4cG9ydCBjb25zdCBpc0hlYWRlcnNQcm90b2NvbCA9IChoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBoZWFkZXJzPy5nZXQgPT09ICdmdW5jdGlvbic7XG59O1xuZXhwb3J0IGNvbnN0IGdldFJlcXVpcmVkSGVhZGVyID0gKGhlYWRlcnMsIGhlYWRlcikgPT4ge1xuICAgIGNvbnN0IGZvdW5kSGVhZGVyID0gZ2V0SGVhZGVyKGhlYWRlcnMsIGhlYWRlcik7XG4gICAgaWYgKGZvdW5kSGVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCAke2hlYWRlcn0gaGVhZGVyYCk7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZEhlYWRlcjtcbn07XG5leHBvcnQgY29uc3QgZ2V0SGVhZGVyID0gKGhlYWRlcnMsIGhlYWRlcikgPT4ge1xuICAgIGNvbnN0IGxvd2VyQ2FzZWRIZWFkZXIgPSBoZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaXNIZWFkZXJzUHJvdG9jb2woaGVhZGVycykpIHtcbiAgICAgICAgLy8gdG8gZGVhbCB3aXRoIHRoZSBjYXNlIHdoZXJlIHRoZSBoZWFkZXIgbG9va3MgbGlrZSBTdGFpbmxlc3MtRXZlbnQtSWRcbiAgICAgICAgY29uc3QgaW50ZXJjYXBzSGVhZGVyID0gaGVhZGVyWzBdPy50b1VwcGVyQ2FzZSgpICtcbiAgICAgICAgICAgIGhlYWRlci5zdWJzdHJpbmcoMSkucmVwbGFjZSgvKFteXFx3XSkoXFx3KS9nLCAoX20sIGcxLCBnMikgPT4gZzEgKyBnMi50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgW2hlYWRlciwgbG93ZXJDYXNlZEhlYWRlciwgaGVhZGVyLnRvVXBwZXJDYXNlKCksIGludGVyY2Fwc0hlYWRlcl0pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVycy5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IGxvd2VyQ2FzZWRIZWFkZXIpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPD0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlWzBdO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgJHt2YWx1ZS5sZW5ndGh9IGVudHJpZXMgZm9yIHRoZSAke2hlYWRlcn0gaGVhZGVyLCB1c2luZyB0aGUgZmlyc3QgZW50cnkuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBFbmNvZGVzIGEgc3RyaW5nIHRvIEJhc2U2NCBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjb25zdCB0b0Jhc2U2NCA9IChzdHIpID0+IHtcbiAgICBpZiAoIXN0cilcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGJ0b2Eoc3RyKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdDYW5ub3QgZ2VuZXJhdGUgYjY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGJ0b2FgIHRvIGJlIGRlZmluZWQnKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNPYmoob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXAiXSwibmFtZXMiOlsiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInJlY2VpdmVyIiwic3RhdGUiLCJ2YWx1ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJnZXQiLCJfQWJzdHJhY3RQYWdlX2NsaWVudCIsIlZFUlNJT04iLCJTdHJlYW0iLCJPcGVuQUlFcnJvciIsIkFQSUVycm9yIiwiQVBJQ29ubmVjdGlvbkVycm9yIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwic2hpbXNLaW5kIiwiZ2V0RGVmYXVsdEFnZW50IiwiZmV0Y2giLCJpc0Jsb2JMaWtlIiwiaXNNdWx0aXBhcnRCb2R5IiwibWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJjcmVhdGVGb3JtIiwiZGVmYXVsdFBhcnNlUmVzcG9uc2UiLCJwcm9wcyIsInJlc3BvbnNlIiwib3B0aW9ucyIsInN0cmVhbSIsImRlYnVnIiwic3RhdHVzIiwidXJsIiwiaGVhZGVycyIsImJvZHkiLCJfX3N0cmVhbUNsYXNzIiwiZnJvbVNTRVJlc3BvbnNlIiwiY29udHJvbGxlciIsIl9fYmluYXJ5UmVzcG9uc2UiLCJjb250ZW50VHlwZSIsImlzSlNPTiIsImluY2x1ZGVzIiwianNvbiIsIl9hZGRSZXF1ZXN0SUQiLCJ0ZXh0IiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiQVBJUHJvbWlzZSIsIlByb21pc2UiLCJjb25zdHJ1Y3RvciIsInJlc3BvbnNlUHJvbWlzZSIsInBhcnNlUmVzcG9uc2UiLCJyZXNvbHZlIiwiX3RoZW5VbndyYXAiLCJ0cmFuc2Zvcm0iLCJhc1Jlc3BvbnNlIiwidGhlbiIsInAiLCJ3aXRoUmVzcG9uc2UiLCJkYXRhIiwiYWxsIiwicGFyc2UiLCJyZXF1ZXN0X2lkIiwicGFyc2VkUHJvbWlzZSIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsImNhdGNoIiwiZmluYWxseSIsIm9uZmluYWxseSIsIkFQSUNsaWVudCIsImJhc2VVUkwiLCJtYXhSZXRyaWVzIiwidGltZW91dCIsImh0dHBBZ2VudCIsIm92ZXJyaWRlbkZldGNoIiwidmFsaWRhdGVQb3NpdGl2ZUludGVnZXIiLCJhdXRoSGVhZGVycyIsIm9wdHMiLCJkZWZhdWx0SGVhZGVycyIsIkFjY2VwdCIsImdldFVzZXJBZ2VudCIsImdldFBsYXRmb3JtSGVhZGVycyIsInZhbGlkYXRlSGVhZGVycyIsImN1c3RvbUhlYWRlcnMiLCJkZWZhdWx0SWRlbXBvdGVuY3lLZXkiLCJ1dWlkNCIsInBhdGgiLCJtZXRob2RSZXF1ZXN0IiwicG9zdCIsInBhdGNoIiwicHV0IiwiZGVsZXRlIiwibWV0aG9kIiwicmVxdWVzdCIsIkRhdGFWaWV3IiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImdldEFQSUxpc3QiLCJQYWdlIiwicmVxdWVzdEFQSUxpc3QiLCJjYWxjdWxhdGVDb250ZW50TGVuZ3RoIiwiQnVmZmVyIiwiYnl0ZUxlbmd0aCIsInRvU3RyaW5nIiwiVGV4dEVuY29kZXIiLCJlbmNvZGVyIiwiZW5jb2RlZCIsImVuY29kZSIsImxlbmd0aCIsImJ1aWxkUmVxdWVzdCIsInJldHJ5Q291bnQiLCJxdWVyeSIsIl9fYmluYXJ5UmVxdWVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50TGVuZ3RoIiwiYnVpbGRVUkwiLCJtaW5BZ2VudFRpbWVvdXQiLCJpZGVtcG90ZW5jeUhlYWRlciIsImlkZW1wb3RlbmN5S2V5IiwicmVxSGVhZGVycyIsImJ1aWxkSGVhZGVycyIsInJlcSIsImFnZW50Iiwic2lnbmFsIiwiYXBwbHlIZWFkZXJzTXV0IiwiZ2V0SGVhZGVyIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwicHJlcGFyZU9wdGlvbnMiLCJwcmVwYXJlUmVxdWVzdCIsInBhcnNlSGVhZGVycyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZnJvbUVudHJpZXMiLCJmcm9tIiwibWFwIiwiaGVhZGVyIiwibWFrZVN0YXR1c0Vycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiZ2VuZXJhdGUiLCJyZW1haW5pbmdSZXRyaWVzIiwibWFrZVJlcXVlc3QiLCJvcHRpb25zSW5wdXQiLCJyZXRyaWVzUmVtYWluaW5nIiwiYWJvcnRlZCIsIkFib3J0Q29udHJvbGxlciIsImZldGNoV2l0aFRpbWVvdXQiLCJjYXN0VG9FcnJvciIsIkVycm9yIiwicmV0cnlSZXF1ZXN0IiwibmFtZSIsImNhdXNlIiwicmVzcG9uc2VIZWFkZXJzIiwiY3JlYXRlUmVzcG9uc2VIZWFkZXJzIiwib2siLCJzaG91bGRSZXRyeSIsInJldHJ5TWVzc2FnZSIsImVyclRleHQiLCJlIiwiZXJySlNPTiIsInNhZmVKU09OIiwiZXJyTWVzc2FnZSIsImVyciIsIlBhZ2VQcm9taXNlIiwiaXNBYnNvbHV0ZVVSTCIsIlVSTCIsImVuZHNXaXRoIiwic3RhcnRzV2l0aCIsInNsaWNlIiwiZGVmYXVsdFF1ZXJ5IiwiaXNFbXB0eU9iaiIsInNlYXJjaCIsInN0cmluZ2lmeVF1ZXJ5IiwiZW50cmllcyIsImZpbHRlciIsIl8iLCJrZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiaW5pdCIsIm1zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFib3J0Iiwic2V0VGltZW91dCIsImdldFJlcXVlc3RDbGllbnQiLCJjbGVhclRpbWVvdXQiLCJzaG91bGRSZXRyeUhlYWRlciIsInRpbWVvdXRNaWxsaXMiLCJyZXRyeUFmdGVyTWlsbGlzSGVhZGVyIiwidGltZW91dE1zIiwicGFyc2VGbG9hdCIsIk51bWJlciIsImlzTmFOIiwicmV0cnlBZnRlckhlYWRlciIsInRpbWVvdXRTZWNvbmRzIiwiRGF0ZSIsIm5vdyIsImNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMiLCJzbGVlcCIsImluaXRpYWxSZXRyeURlbGF5IiwibWF4UmV0cnlEZWxheSIsIm51bVJldHJpZXMiLCJzbGVlcFNlY29uZHMiLCJNYXRoIiwibWluIiwicG93Iiwiaml0dGVyIiwicmFuZG9tIiwiQWJzdHJhY3RQYWdlIiwiY2xpZW50IiwiaGFzTmV4dFBhZ2UiLCJpdGVtcyIsImdldFBhZ2luYXRlZEl0ZW1zIiwibmV4dFBhZ2VJbmZvIiwiZ2V0TmV4dFBhZ2UiLCJuZXh0SW5mbyIsIm5leHRPcHRpb25zIiwicGFyYW1zIiwic2VhcmNoUGFyYW1zIiwiaXRlclBhZ2VzIiwicGFnZSIsIldlYWtNYXAiLCJhc3luY0l0ZXJhdG9yIiwiaXRlbSIsIlByb3h5IiwidGFyZ2V0IiwidG9Mb3dlckNhc2UiLCJyZXF1ZXN0T3B0aW9uc0tleXMiLCJpc1JlcXVlc3RPcHRpb25zIiwib2JqIiwia2V5cyIsImV2ZXJ5IiwiayIsImhhc093biIsImdldFBsYXRmb3JtUHJvcGVydGllcyIsIkRlbm8iLCJidWlsZCIsIm5vcm1hbGl6ZVBsYXRmb3JtIiwib3MiLCJub3JtYWxpemVBcmNoIiwiYXJjaCIsInZlcnNpb24iLCJkZW5vIiwiRWRnZVJ1bnRpbWUiLCJwcm9jZXNzIiwicHJvdG90eXBlIiwicGxhdGZvcm0iLCJicm93c2VySW5mbyIsImdldEJyb3dzZXJJbmZvIiwiYnJvd3NlciIsIm5hdmlnYXRvciIsImJyb3dzZXJQYXR0ZXJucyIsInBhdHRlcm4iLCJtYXRjaCIsImV4ZWMiLCJ1c2VyQWdlbnQiLCJtYWpvciIsIm1pbm9yIiwiX3BsYXRmb3JtSGVhZGVycyIsInN0YXJ0c1dpdGhTY2hlbWVSZWdleHAiLCJSZWdFeHAiLCJ0ZXN0IiwibiIsImlzSW50ZWdlciIsImVuc3VyZVByZXNlbnQiLCJyZWFkRW52IiwiZW52IiwidHJpbSIsImNvZXJjZUludGVnZXIiLCJyb3VuZCIsInBhcnNlSW50IiwiY29lcmNlRmxvYXQiLCJjb2VyY2VCb29sZWFuIiwiQm9vbGVhbiIsIm1heWJlQ29lcmNlSW50ZWdlciIsIm1heWJlQ29lcmNlRmxvYXQiLCJtYXliZUNvZXJjZUJvb2xlYW4iLCJfayIsImhhc093blByb3BlcnR5IiwidGFyZ2V0SGVhZGVycyIsIm5ld0hlYWRlcnMiLCJsb3dlcktleSIsInZhbCIsImFjdGlvbiIsImFyZ3MiLCJjb25zb2xlIiwibG9nIiwicmVwbGFjZSIsImMiLCJyIiwidiIsImlzUnVubmluZ0luQnJvd3NlciIsIndpbmRvdyIsImRvY3VtZW50IiwiaXNIZWFkZXJzUHJvdG9jb2wiLCJnZXRSZXF1aXJlZEhlYWRlciIsImZvdW5kSGVhZGVyIiwibG93ZXJDYXNlZEhlYWRlciIsImludGVyY2Fwc0hlYWRlciIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIiwiX20iLCJnMSIsImcyIiwid2FybiIsInRvQmFzZTY0Iiwic3RyIiwiYnRvYSIsImlzT2JqIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/core.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/error.mjs":
/*!***************************************!*\
  !*** ./node_modules/openai/error.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIConnectionError: () => (/* binding */ APIConnectionError),\n/* harmony export */   APIConnectionTimeoutError: () => (/* binding */ APIConnectionTimeoutError),\n/* harmony export */   APIError: () => (/* binding */ APIError),\n/* harmony export */   APIUserAbortError: () => (/* binding */ APIUserAbortError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   BadRequestError: () => (/* binding */ BadRequestError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   ContentFilterFinishReasonError: () => (/* binding */ ContentFilterFinishReasonError),\n/* harmony export */   InternalServerError: () => (/* binding */ InternalServerError),\n/* harmony export */   LengthFinishReasonError: () => (/* binding */ LengthFinishReasonError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   OpenAIError: () => (/* binding */ OpenAIError),\n/* harmony export */   PermissionDeniedError: () => (/* binding */ PermissionDeniedError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   UnprocessableEntityError: () => (/* binding */ UnprocessableEntityError)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass OpenAIError extends Error {\n}\nclass APIError extends OpenAIError {\n    constructor(status, error, message, headers){\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        this.request_id = headers?.[\"x-request-id\"];\n        const data = error;\n        this.error = data;\n        this.code = data?.[\"code\"];\n        this.param = data?.[\"param\"];\n        this.type = data?.[\"type\"];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ? typeof error.message === \"string\" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return \"(no status code or body)\";\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status) {\n            return new APIConnectionError({\n                message,\n                cause: (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.castToError)(errorResponse)\n            });\n        }\n        const error = errorResponse?.[\"error\"];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nclass APIUserAbortError extends APIError {\n    constructor({ message } = {}){\n        super(undefined, undefined, message || \"Request was aborted.\", undefined);\n        this.status = undefined;\n    }\n}\nclass APIConnectionError extends APIError {\n    constructor({ message, cause }){\n        super(undefined, undefined, message || \"Connection error.\", undefined);\n        this.status = undefined;\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause) this.cause = cause;\n    }\n}\nclass APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}){\n        super({\n            message: message ?? \"Request timed out.\"\n        });\n    }\n}\nclass BadRequestError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 400;\n    }\n}\nclass AuthenticationError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 401;\n    }\n}\nclass PermissionDeniedError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 403;\n    }\n}\nclass NotFoundError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 404;\n    }\n}\nclass ConflictError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 409;\n    }\n}\nclass UnprocessableEntityError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 422;\n    }\n}\nclass RateLimitError extends APIError {\n    constructor(){\n        super(...arguments);\n        this.status = 429;\n    }\n}\nclass InternalServerError extends APIError {\n}\nclass LengthFinishReasonError extends OpenAIError {\n    constructor(){\n        super(`Could not parse response content as the length limit was reached`);\n    }\n}\nclass ContentFilterFinishReasonError extends OpenAIError {\n    constructor(){\n        super(`Could not parse response content as the request was rejected by the content filter`);\n    }\n} //# sourceMappingURL=error.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNULElBQUksQ0FBQzVCLE1BQU0sR0FBRztJQUNsQjtBQUNKO0FBQ08sTUFBTXVCLHVCQUF1QnpCO0lBQ2hDQyxhQUFjO1FBQ1YsS0FBSyxJQUFJNkI7UUFDVCxJQUFJLENBQUM1QixNQUFNLEdBQUc7SUFDbEI7QUFDSjtBQUNPLE1BQU13Qiw0QkFBNEIxQjtBQUN6QztBQUNPLE1BQU0rQixnQ0FBZ0NqQztJQUN6Q0csYUFBYztRQUNWLEtBQUssQ0FBQyxDQUFDLGdFQUFnRSxDQUFDO0lBQzVFO0FBQ0o7QUFDTyxNQUFNK0IsdUNBQXVDbEM7SUFDaERHLGFBQWM7UUFDVixLQUFLLENBQUMsQ0FBQyxrRkFBa0YsQ0FBQztJQUM5RjtBQUNKLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzPzg3YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IGNhc3RUb0Vycm9yIH0gZnJvbSBcIi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBPcGVuQUlFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBBUElFcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIHN1cGVyKGAke0FQSUVycm9yLm1ha2VNZXNzYWdlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UpfWApO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgdGhpcy5yZXF1ZXN0X2lkID0gaGVhZGVycz8uWyd4LXJlcXVlc3QtaWQnXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGVycm9yO1xuICAgICAgICB0aGlzLmVycm9yID0gZGF0YTtcbiAgICAgICAgdGhpcy5jb2RlID0gZGF0YT8uWydjb2RlJ107XG4gICAgICAgIHRoaXMucGFyYW0gPSBkYXRhPy5bJ3BhcmFtJ107XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGE/LlsndHlwZSddO1xuICAgIH1cbiAgICBzdGF0aWMgbWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJvcj8ubWVzc2FnZSA/XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICA6IGVycm9yID8gSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG4gICAgICAgICAgICAgICAgOiBtZXNzYWdlO1xuICAgICAgICBpZiAoc3RhdHVzICYmIG1zZykge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0YXR1c30gJHttc2d9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RhdHVzfSBzdGF0dXMgY29kZSAobm8gYm9keSlgO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcobm8gc3RhdHVzIGNvZGUgb3IgYm9keSknO1xuICAgIH1cbiAgICBzdGF0aWMgZ2VuZXJhdGUoc3RhdHVzLCBlcnJvclJlc3BvbnNlLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIGlmICghc3RhdHVzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IG1lc3NhZ2UsIGNhdXNlOiBjYXN0VG9FcnJvcihlcnJvclJlc3BvbnNlKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlcnJvciA9IGVycm9yUmVzcG9uc2U/LlsnZXJyb3InXTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJhZFJlcXVlc3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRpb25FcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGVybWlzc2lvbkRlbmllZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25mbGljdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQyMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhdGVMaW1pdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPj0gNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVybmFsU2VydmVyRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBUElFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJVXNlckFib3J0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnUmVxdWVzdCB3YXMgYWJvcnRlZC4nLCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY2F1c2UgfSkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gaW4gc29tZSBlbnZpcm9ubWVudHMgdGhlICdjYXVzZScgcHJvcGVydHkgaXMgYWxyZWFkeSBkZWNsYXJlZFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChjYXVzZSlcbiAgICAgICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciBleHRlbmRzIEFQSUNvbm5lY3Rpb25FcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1JlcXVlc3QgdGltZWQgb3V0LicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gNDAxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uRGVuaWVkRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gNDAzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IDQwNDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSA0MDk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSA0MjI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IDQyOTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYENvdWxkIG5vdCBwYXJzZSByZXNwb25zZSBjb250ZW50IGFzIHRoZSBsZW5ndGggbGltaXQgd2FzIHJlYWNoZWRgKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIGNvbnRlbnQgYXMgdGhlIHJlcXVlc3Qgd2FzIHJlamVjdGVkIGJ5IHRoZSBjb250ZW50IGZpbHRlcmApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLm1qcy5tYXAiXSwibmFtZXMiOlsiY2FzdFRvRXJyb3IiLCJPcGVuQUlFcnJvciIsIkVycm9yIiwiQVBJRXJyb3IiLCJjb25zdHJ1Y3RvciIsInN0YXR1cyIsImVycm9yIiwibWVzc2FnZSIsImhlYWRlcnMiLCJtYWtlTWVzc2FnZSIsInJlcXVlc3RfaWQiLCJkYXRhIiwiY29kZSIsInBhcmFtIiwidHlwZSIsIm1zZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZW5lcmF0ZSIsImVycm9yUmVzcG9uc2UiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJjYXVzZSIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwidW5kZWZpbmVkIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsImFyZ3VtZW50cyIsIkxlbmd0aEZpbmlzaFJlYXNvbkVycm9yIiwiQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/error.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/index.mjs":
/*!***************************************!*\
  !*** ./node_modules/openai/index.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIConnectionError: () => (/* binding */ APIConnectionError),\n/* harmony export */   APIConnectionTimeoutError: () => (/* binding */ APIConnectionTimeoutError),\n/* harmony export */   APIError: () => (/* binding */ APIError),\n/* harmony export */   APIUserAbortError: () => (/* binding */ APIUserAbortError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   AzureOpenAI: () => (/* binding */ AzureOpenAI),\n/* harmony export */   BadRequestError: () => (/* binding */ BadRequestError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   InternalServerError: () => (/* binding */ InternalServerError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   OpenAI: () => (/* binding */ OpenAI),\n/* harmony export */   OpenAIError: () => (/* binding */ OpenAIError),\n/* harmony export */   PermissionDeniedError: () => (/* binding */ PermissionDeniedError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   UnprocessableEntityError: () => (/* binding */ UnprocessableEntityError),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fileFromPath: () => (/* binding */ fileFromPath),\n/* harmony export */   toFile: () => (/* binding */ toFile)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.mjs */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var _internal_qs_index_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./internal/qs/index.mjs */ \"(rsc)/./node_modules/openai/internal/qs/stringify.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/completions.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/chat/chat.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/embeddings.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/files.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/images.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/audio/audio.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/moderations.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/models.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/fine-tuning/fine-tuning.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/beta/beta.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/batches.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resources/index.mjs */ \"(rsc)/./node_modules/openai/resources/uploads/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _a;\n\n\n\n\n\n\n/**\n * API Client for interfacing with the OpenAI API.\n */ class OpenAI extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.APIClient {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */ constructor({ baseURL = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_BASE_URL\"), apiKey = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_API_KEY\"), organization = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_ORG_ID\") ?? null, project = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_PROJECT_ID\") ?? null, ...opts } = {}){\n        if (apiKey === undefined) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).\");\n        }\n        const options = {\n            apiKey,\n            organization,\n            project,\n            ...opts,\n            baseURL: baseURL || `https://api.openai.com/v1`\n        };\n        if (!options.dangerouslyAllowBrowser && _core_mjs__WEBPACK_IMPORTED_MODULE_0__.isRunningInBrowser()) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        super({\n            baseURL: options.baseURL,\n            timeout: options.timeout ?? 600000 /* 10 minutes */ ,\n            httpAgent: options.httpAgent,\n            maxRetries: options.maxRetries,\n            fetch: options.fetch\n        });\n        this.completions = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__.Completions(this);\n        this.chat = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Chat(this);\n        this.embeddings = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__.Embeddings(this);\n        this.files = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.Files(this);\n        this.images = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__.Images(this);\n        this.audio = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__.Audio(this);\n        this.moderations = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Moderations(this);\n        this.models = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Models(this);\n        this.fineTuning = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__.FineTuning(this);\n        this.beta = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.Beta(this);\n        this.batches = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__.Batches(this);\n        this.uploads = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__.Uploads(this);\n        this._options = options;\n        this.apiKey = apiKey;\n        this.organization = organization;\n        this.project = project;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    defaultHeaders(opts) {\n        return {\n            ...super.defaultHeaders(opts),\n            \"OpenAI-Organization\": this.organization,\n            \"OpenAI-Project\": this.project,\n            ...this._options.defaultHeaders\n        };\n    }\n    authHeaders(opts) {\n        return {\n            Authorization: `Bearer ${this.apiKey}`\n        };\n    }\n    stringifyQuery(query) {\n        return _internal_qs_index_mjs__WEBPACK_IMPORTED_MODULE_14__.stringify(query, {\n            arrayFormat: \"brackets\"\n        });\n    }\n}\n_a = OpenAI;\nOpenAI.OpenAI = _a;\nOpenAI.DEFAULT_TIMEOUT = 600000; // 10 minutes\nOpenAI.OpenAIError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError;\nOpenAI.APIError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIError;\nOpenAI.APIConnectionError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError;\nOpenAI.NotFoundError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.NotFoundError;\nOpenAI.ConflictError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.ConflictError;\nOpenAI.RateLimitError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.RateLimitError;\nOpenAI.BadRequestError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.BadRequestError;\nOpenAI.AuthenticationError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthenticationError;\nOpenAI.InternalServerError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalServerError;\nOpenAI.PermissionDeniedError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.UnprocessableEntityError;\nOpenAI.toFile = _uploads_mjs__WEBPACK_IMPORTED_MODULE_15__.toFile;\nOpenAI.fileFromPath = _uploads_mjs__WEBPACK_IMPORTED_MODULE_16__.fileFromPath;\nconst { OpenAIError, APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError, NotFoundError, ConflictError, RateLimitError, BadRequestError, AuthenticationError, InternalServerError, PermissionDeniedError, UnprocessableEntityError } = _error_mjs__WEBPACK_IMPORTED_MODULE_1__;\nvar toFile = _uploads_mjs__WEBPACK_IMPORTED_MODULE_15__.toFile;\nvar fileFromPath = _uploads_mjs__WEBPACK_IMPORTED_MODULE_16__.fileFromPath;\n(function(OpenAI) {\n    OpenAI.Page = _pagination_mjs__WEBPACK_IMPORTED_MODULE_17__.Page;\n    OpenAI.CursorPage = _pagination_mjs__WEBPACK_IMPORTED_MODULE_17__.CursorPage;\n    OpenAI.Completions = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__.Completions;\n    OpenAI.Chat = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Chat;\n    OpenAI.Embeddings = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__.Embeddings;\n    OpenAI.Files = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.Files;\n    OpenAI.FileObjectsPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.FileObjectsPage;\n    OpenAI.Images = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__.Images;\n    OpenAI.Audio = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__.Audio;\n    OpenAI.Moderations = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Moderations;\n    OpenAI.Models = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Models;\n    OpenAI.ModelsPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.ModelsPage;\n    OpenAI.FineTuning = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__.FineTuning;\n    OpenAI.Beta = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.Beta;\n    OpenAI.Batches = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__.Batches;\n    OpenAI.BatchesPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__.BatchesPage;\n    OpenAI.Uploads = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__.Uploads;\n})(OpenAI || (OpenAI = {}));\n/** API Client for interfacing with the Azure OpenAI API. */ class AzureOpenAI extends OpenAI {\n    /**\n     * API Client for interfacing with the Azure OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiVersion=process.env['OPENAI_API_VERSION'] ?? undefined]\n     * @param {string | undefined} [opts.endpoint=process.env['AZURE_OPENAI_ENDPOINT'] ?? undefined] - Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`\n     * @param {string | undefined} [opts.apiKey=process.env['AZURE_OPENAI_API_KEY'] ?? undefined]\n     * @param {string | undefined} opts.deployment - A model deployment, if given, sets the base client URL to include `/deployments/{deployment}`.\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL']] - Sets the base URL for the API, e.g. `https://example-resource.azure.openai.com/openai/`.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */ constructor({ baseURL = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_BASE_URL\"), apiKey = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"AZURE_OPENAI_API_KEY\"), apiVersion = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_API_VERSION\"), endpoint, deployment, azureADTokenProvider, dangerouslyAllowBrowser, ...opts } = {}){\n        if (!apiVersion) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).\");\n        }\n        if (typeof azureADTokenProvider === \"function\") {\n            dangerouslyAllowBrowser = true;\n        }\n        if (!azureADTokenProvider && !apiKey) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.\");\n        }\n        if (azureADTokenProvider && apiKey) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.\");\n        }\n        // define a sentinel value to avoid any typing issues\n        apiKey ?? (apiKey = API_KEY_SENTINEL);\n        opts.defaultQuery = {\n            ...opts.defaultQuery,\n            \"api-version\": apiVersion\n        };\n        if (!baseURL) {\n            if (!endpoint) {\n                endpoint = process.env[\"AZURE_OPENAI_ENDPOINT\"];\n            }\n            if (!endpoint) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable\");\n            }\n            baseURL = `${endpoint}/openai`;\n        } else {\n            if (endpoint) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"baseURL and endpoint are mutually exclusive\");\n            }\n        }\n        super({\n            apiKey,\n            baseURL,\n            ...opts,\n            ...dangerouslyAllowBrowser !== undefined ? {\n                dangerouslyAllowBrowser\n            } : {}\n        });\n        this.apiVersion = \"\";\n        this._azureADTokenProvider = azureADTokenProvider;\n        this.apiVersion = apiVersion;\n        this._deployment = deployment;\n    }\n    buildRequest(options) {\n        if (_deployments_endpoints.has(options.path) && options.method === \"post\" && options.body !== undefined) {\n            if (!_core_mjs__WEBPACK_IMPORTED_MODULE_0__.isObj(options.body)) {\n                throw new Error(\"Expected request body to be an object\");\n            }\n            const model = this._deployment || options.body[\"model\"];\n            if (model !== undefined && !this.baseURL.includes(\"/deployments\")) {\n                options.path = `/deployments/${model}${options.path}`;\n            }\n        }\n        return super.buildRequest(options);\n    }\n    async _getAzureADToken() {\n        if (typeof this._azureADTokenProvider === \"function\") {\n            const token = await this._azureADTokenProvider();\n            if (!token || typeof token !== \"string\") {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${token}`);\n            }\n            return token;\n        }\n        return undefined;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    async prepareOptions(opts) {\n        /**\n         * The user should provide a bearer token provider if they want\n         * to use Azure AD authentication. The user shouldn't set the\n         * Authorization header manually because the header is overwritten\n         * with the Azure AD token if a bearer token provider is provided.\n         */ if (opts.headers?.[\"api-key\"]) {\n            return super.prepareOptions(opts);\n        }\n        const token = await this._getAzureADToken();\n        opts.headers ?? (opts.headers = {});\n        if (token) {\n            opts.headers[\"Authorization\"] = `Bearer ${token}`;\n        } else if (this.apiKey !== API_KEY_SENTINEL) {\n            opts.headers[\"api-key\"] = this.apiKey;\n        } else {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Unable to handle auth\");\n        }\n        return super.prepareOptions(opts);\n    }\n}\nconst _deployments_endpoints = new Set([\n    \"/completions\",\n    \"/chat/completions\",\n    \"/embeddings\",\n    \"/audio/transcriptions\",\n    \"/audio/translations\",\n    \"/audio/speech\",\n    \"/images/generations\"\n]);\nconst API_KEY_SENTINEL = \"<Missing Key>\";\n// ---------------------- End Azure ----------------------\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenAI); //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLcUYsT0FBTyxDQUFDLGdCQUFnQixHQUFHLENBQUMsT0FBTyxFQUFFRixNQUFNLENBQUM7UUFDckQsT0FDSyxJQUFJLElBQUksQ0FBQ3RGLE1BQU0sS0FBS3NFLGtCQUFrQjtZQUN2Q25FLEtBQUtxRixPQUFPLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQ3hGLE1BQU07UUFDekMsT0FDSztZQUNELE1BQU0sSUFBSVgsbURBQWtCLENBQUM7UUFDakM7UUFDQSxPQUFPLEtBQUssQ0FBQ2tHLGVBQWVwRjtJQUNoQztBQUNKO0FBQ0EsTUFBTXlFLHlCQUF5QixJQUFJYSxJQUFJO0lBQ25DO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0g7QUFDRCxNQUFNbkIsbUJBQW1CO0FBQ3pCLDBEQUEwRDtBQUMxRCxpRUFBZTNFLE1BQU1BLEVBQUMsQ0FDdEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW5kZXgubWpzP2E1MGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbnZhciBfYTtcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCAqIGFzIFVwbG9hZHMgZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbmltcG9ydCAqIGFzIHFzIGZyb20gXCIuL2ludGVybmFsL3FzL2luZGV4Lm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgUGFnaW5hdGlvbiBmcm9tIFwiLi9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gXCIuL3Jlc291cmNlcy9pbmRleC5tanNcIjtcbi8qKlxuICogQVBJIENsaWVudCBmb3IgaW50ZXJmYWNpbmcgd2l0aCB0aGUgT3BlbkFJIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSSBleHRlbmRzIENvcmUuQVBJQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IFtvcHRzLmFwaUtleT1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9LRVknXSA/PyB1bmRlZmluZWRdXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5vcmdhbml6YXRpb249cHJvY2Vzcy5lbnZbJ09QRU5BSV9PUkdfSUQnXSA/PyBudWxsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMucHJvamVjdD1wcm9jZXNzLmVudlsnT1BFTkFJX1BST0pFQ1RfSUQnXSA/PyBudWxsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXSA/PyBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXSAtIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAgICogQHBhcmFtIHtDb3JlLkZldGNofSBbb3B0cy5mZXRjaF0gLSBTcGVjaWZ5IGEgY3VzdG9tIGBmZXRjaGAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7Q29yZS5EZWZhdWx0UXVlcnl9IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCA9IENvcmUucmVhZEVudignT1BFTkFJX0JBU0VfVVJMJyksIGFwaUtleSA9IENvcmUucmVhZEVudignT1BFTkFJX0FQSV9LRVknKSwgb3JnYW5pemF0aW9uID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfT1JHX0lEJykgPz8gbnVsbCwgcHJvamVjdCA9IENvcmUucmVhZEVudignT1BFTkFJX1BST0pFQ1RfSUQnKSA/PyBudWxsLCAuLi5vcHRzIH0gPSB7fSkge1xuICAgICAgICBpZiAoYXBpS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoXCJUaGUgT1BFTkFJX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbWlzc2luZyBvciBlbXB0eTsgZWl0aGVyIHByb3ZpZGUgaXQsIG9yIGluc3RhbnRpYXRlIHRoZSBPcGVuQUkgY2xpZW50IHdpdGggYW4gYXBpS2V5IG9wdGlvbiwgbGlrZSBuZXcgT3BlbkFJKHsgYXBpS2V5OiAnTXkgQVBJIEtleScgfSkuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0LFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgICAgIGJhc2VVUkw6IGJhc2VVUkwgfHwgYGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFgLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIW9wdGlvbnMuZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIgJiYgQ29yZS5pc1J1bm5pbmdJbkJyb3dzZXIoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcIkl0IGxvb2tzIGxpa2UgeW91J3JlIHJ1bm5pbmcgaW4gYSBicm93c2VyLWxpa2UgZW52aXJvbm1lbnQuXFxuXFxuVGhpcyBpcyBkaXNhYmxlZCBieSBkZWZhdWx0LCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxcbklmIHlvdSB1bmRlcnN0YW5kIHRoZSByaXNrcyBhbmQgaGF2ZSBhcHByb3ByaWF0ZSBtaXRpZ2F0aW9ucyBpbiBwbGFjZSxcXG55b3UgY2FuIHNldCB0aGUgYGRhbmdlcm91c2x5QWxsb3dCcm93c2VyYCBvcHRpb24gdG8gYHRydWVgLCBlLmcuLFxcblxcbm5ldyBPcGVuQUkoeyBhcGlLZXksIGRhbmdlcm91c2x5QWxsb3dCcm93c2VyOiB0cnVlIH0pO1xcblxcbmh0dHBzOi8vaGVscC5vcGVuYWkuY29tL2VuL2FydGljbGVzLzUxMTI1OTUtYmVzdC1wcmFjdGljZXMtZm9yLWFwaS1rZXktc2FmZXR5XFxuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGJhc2VVUkw6IG9wdGlvbnMuYmFzZVVSTCxcbiAgICAgICAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCA/PyA2MDAwMDAgLyogMTAgbWludXRlcyAqLyxcbiAgICAgICAgICAgIGh0dHBBZ2VudDogb3B0aW9ucy5odHRwQWdlbnQsXG4gICAgICAgICAgICBtYXhSZXRyaWVzOiBvcHRpb25zLm1heFJldHJpZXMsXG4gICAgICAgICAgICBmZXRjaDogb3B0aW9ucy5mZXRjaCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQVBJLkNvbXBsZXRpb25zKHRoaXMpO1xuICAgICAgICB0aGlzLmNoYXQgPSBuZXcgQVBJLkNoYXQodGhpcyk7XG4gICAgICAgIHRoaXMuZW1iZWRkaW5ncyA9IG5ldyBBUEkuRW1iZWRkaW5ncyh0aGlzKTtcbiAgICAgICAgdGhpcy5maWxlcyA9IG5ldyBBUEkuRmlsZXModGhpcyk7XG4gICAgICAgIHRoaXMuaW1hZ2VzID0gbmV3IEFQSS5JbWFnZXModGhpcyk7XG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgQVBJLkF1ZGlvKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVyYXRpb25zID0gbmV3IEFQSS5Nb2RlcmF0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbHMgPSBuZXcgQVBJLk1vZGVscyh0aGlzKTtcbiAgICAgICAgdGhpcy5maW5lVHVuaW5nID0gbmV3IEFQSS5GaW5lVHVuaW5nKHRoaXMpO1xuICAgICAgICB0aGlzLmJldGEgPSBuZXcgQVBJLkJldGEodGhpcyk7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG5ldyBBUEkuQmF0Y2hlcyh0aGlzKTtcbiAgICAgICAgdGhpcy51cGxvYWRzID0gbmV3IEFQSS5VcGxvYWRzKHRoaXMpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID0gb3JnYW5pemF0aW9uO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBkZWZhdWx0UXVlcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmRlZmF1bHRRdWVyeTtcbiAgICB9XG4gICAgZGVmYXVsdEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIuZGVmYXVsdEhlYWRlcnMob3B0cyksXG4gICAgICAgICAgICAnT3BlbkFJLU9yZ2FuaXphdGlvbic6IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgJ09wZW5BSS1Qcm9qZWN0JzogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgLi4udGhpcy5fb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXV0aEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCB9O1xuICAgIH1cbiAgICBzdHJpbmdpZnlRdWVyeShxdWVyeSkge1xuICAgICAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHF1ZXJ5LCB7IGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnIH0pO1xuICAgIH1cbn1cbl9hID0gT3BlbkFJO1xuT3BlbkFJLk9wZW5BSSA9IF9hO1xuT3BlbkFJLkRFRkFVTFRfVElNRU9VVCA9IDYwMDAwMDsgLy8gMTAgbWludXRlc1xuT3BlbkFJLk9wZW5BSUVycm9yID0gRXJyb3JzLk9wZW5BSUVycm9yO1xuT3BlbkFJLkFQSUVycm9yID0gRXJyb3JzLkFQSUVycm9yO1xuT3BlbkFJLkFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uVGltZW91dEVycm9yO1xuT3BlbkFJLkFQSVVzZXJBYm9ydEVycm9yID0gRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yO1xuT3BlbkFJLk5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbk9wZW5BSS5Db25mbGljdEVycm9yID0gRXJyb3JzLkNvbmZsaWN0RXJyb3I7XG5PcGVuQUkuUmF0ZUxpbWl0RXJyb3IgPSBFcnJvcnMuUmF0ZUxpbWl0RXJyb3I7XG5PcGVuQUkuQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbk9wZW5BSS5BdXRoZW50aWNhdGlvbkVycm9yID0gRXJyb3JzLkF1dGhlbnRpY2F0aW9uRXJyb3I7XG5PcGVuQUkuSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IEVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yO1xuT3BlbkFJLlBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG5PcGVuQUkuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yID0gRXJyb3JzLlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcjtcbk9wZW5BSS50b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbk9wZW5BSS5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbmV4cG9ydCBjb25zdCB7IE9wZW5BSUVycm9yLCBBUElFcnJvciwgQVBJQ29ubmVjdGlvbkVycm9yLCBBUElDb25uZWN0aW9uVGltZW91dEVycm9yLCBBUElVc2VyQWJvcnRFcnJvciwgTm90Rm91bmRFcnJvciwgQ29uZmxpY3RFcnJvciwgUmF0ZUxpbWl0RXJyb3IsIEJhZFJlcXVlc3RFcnJvciwgQXV0aGVudGljYXRpb25FcnJvciwgSW50ZXJuYWxTZXJ2ZXJFcnJvciwgUGVybWlzc2lvbkRlbmllZEVycm9yLCBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IsIH0gPSBFcnJvcnM7XG5leHBvcnQgdmFyIHRvRmlsZSA9IFVwbG9hZHMudG9GaWxlO1xuZXhwb3J0IHZhciBmaWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbihmdW5jdGlvbiAoT3BlbkFJKSB7XG4gICAgT3BlbkFJLlBhZ2UgPSBQYWdpbmF0aW9uLlBhZ2U7XG4gICAgT3BlbkFJLkN1cnNvclBhZ2UgPSBQYWdpbmF0aW9uLkN1cnNvclBhZ2U7XG4gICAgT3BlbkFJLkNvbXBsZXRpb25zID0gQVBJLkNvbXBsZXRpb25zO1xuICAgIE9wZW5BSS5DaGF0ID0gQVBJLkNoYXQ7XG4gICAgT3BlbkFJLkVtYmVkZGluZ3MgPSBBUEkuRW1iZWRkaW5ncztcbiAgICBPcGVuQUkuRmlsZXMgPSBBUEkuRmlsZXM7XG4gICAgT3BlbkFJLkZpbGVPYmplY3RzUGFnZSA9IEFQSS5GaWxlT2JqZWN0c1BhZ2U7XG4gICAgT3BlbkFJLkltYWdlcyA9IEFQSS5JbWFnZXM7XG4gICAgT3BlbkFJLkF1ZGlvID0gQVBJLkF1ZGlvO1xuICAgIE9wZW5BSS5Nb2RlcmF0aW9ucyA9IEFQSS5Nb2RlcmF0aW9ucztcbiAgICBPcGVuQUkuTW9kZWxzID0gQVBJLk1vZGVscztcbiAgICBPcGVuQUkuTW9kZWxzUGFnZSA9IEFQSS5Nb2RlbHNQYWdlO1xuICAgIE9wZW5BSS5GaW5lVHVuaW5nID0gQVBJLkZpbmVUdW5pbmc7XG4gICAgT3BlbkFJLkJldGEgPSBBUEkuQmV0YTtcbiAgICBPcGVuQUkuQmF0Y2hlcyA9IEFQSS5CYXRjaGVzO1xuICAgIE9wZW5BSS5CYXRjaGVzUGFnZSA9IEFQSS5CYXRjaGVzUGFnZTtcbiAgICBPcGVuQUkuVXBsb2FkcyA9IEFQSS5VcGxvYWRzO1xufSkoT3BlbkFJIHx8IChPcGVuQUkgPSB7fSkpO1xuLyoqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuICovXG5leHBvcnQgY2xhc3MgQXp1cmVPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIC8qKlxuICAgICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpVmVyc2lvbj1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9WRVJTSU9OJ10gPz8gdW5kZWZpbmVkXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5lbmRwb2ludD1wcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0VORFBPSU5UJ10gPz8gdW5kZWZpbmVkXSAtIFlvdXIgQXp1cmUgZW5kcG9pbnQsIGluY2x1ZGluZyB0aGUgcmVzb3VyY2UsIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL2BcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpS2V5PXByb2Nlc3MuZW52WydBWlVSRV9PUEVOQUlfQVBJX0tFWSddID8/IHVuZGVmaW5lZF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gb3B0cy5kZXBsb3ltZW50IC0gQSBtb2RlbCBkZXBsb3ltZW50LCBpZiBnaXZlbiwgc2V0cyB0aGUgYmFzZSBjbGllbnQgVVJMIHRvIGluY2x1ZGUgYC9kZXBsb3ltZW50cy97ZGVwbG95bWVudH1gLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTD1wcm9jZXNzLmVudlsnT1BFTkFJX0JBU0VfVVJMJ11dIC0gU2V0cyB0aGUgYmFzZSBVUkwgZm9yIHRoZSBBUEksIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL29wZW5haS9gLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAgICogQHBhcmFtIHtDb3JlLkZldGNofSBbb3B0cy5mZXRjaF0gLSBTcGVjaWZ5IGEgY3VzdG9tIGBmZXRjaGAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7Q29yZS5EZWZhdWx0UXVlcnl9IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCA9IENvcmUucmVhZEVudignT1BFTkFJX0JBU0VfVVJMJyksIGFwaUtleSA9IENvcmUucmVhZEVudignQVpVUkVfT1BFTkFJX0FQSV9LRVknKSwgYXBpVmVyc2lvbiA9IENvcmUucmVhZEVudignT1BFTkFJX0FQSV9WRVJTSU9OJyksIGVuZHBvaW50LCBkZXBsb3ltZW50LCBhenVyZUFEVG9rZW5Qcm92aWRlciwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIsIC4uLm9wdHMgfSA9IHt9KSB7XG4gICAgICAgIGlmICghYXBpVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcIlRoZSBPUEVOQUlfQVBJX1ZFUlNJT04gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbWlzc2luZyBvciBlbXB0eTsgZWl0aGVyIHByb3ZpZGUgaXQsIG9yIGluc3RhbnRpYXRlIHRoZSBBenVyZU9wZW5BSSBjbGllbnQgd2l0aCBhbiBhcGlWZXJzaW9uIG9wdGlvbiwgbGlrZSBuZXcgQXp1cmVPcGVuQUkoeyBhcGlWZXJzaW9uOiAnTXkgQVBJIFZlcnNpb24nIH0pLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGF6dXJlQURUb2tlblByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhenVyZUFEVG9rZW5Qcm92aWRlciAmJiAhYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdNaXNzaW5nIGNyZWRlbnRpYWxzLiBQbGVhc2UgcGFzcyBvbmUgb2YgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAsIG9yIHNldCB0aGUgYEFaVVJFX09QRU5BSV9BUElfS0VZYCBlbnZpcm9ubWVudCB2YXJpYWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXp1cmVBRFRva2VuUHJvdmlkZXIgJiYgYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdUaGUgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAgYXJndW1lbnRzIGFyZSBtdXR1YWxseSBleGNsdXNpdmU7IG9ubHkgb25lIGNhbiBiZSBwYXNzZWQgYXQgYSB0aW1lLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmluZSBhIHNlbnRpbmVsIHZhbHVlIHRvIGF2b2lkIGFueSB0eXBpbmcgaXNzdWVzXG4gICAgICAgIGFwaUtleSA/PyAoYXBpS2V5ID0gQVBJX0tFWV9TRU5USU5FTCk7XG4gICAgICAgIG9wdHMuZGVmYXVsdFF1ZXJ5ID0geyAuLi5vcHRzLmRlZmF1bHRRdWVyeSwgJ2FwaS12ZXJzaW9uJzogYXBpVmVyc2lvbiB9O1xuICAgICAgICBpZiAoIWJhc2VVUkwpIHtcbiAgICAgICAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBlbmRwb2ludCA9IHByb2Nlc3MuZW52WydBWlVSRV9PUEVOQUlfRU5EUE9JTlQnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdNdXN0IHByb3ZpZGUgb25lIG9mIHRoZSBgYmFzZVVSTGAgb3IgYGVuZHBvaW50YCBhcmd1bWVudHMsIG9yIHRoZSBgQVpVUkVfT1BFTkFJX0VORFBPSU5UYCBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVVSTCA9IGAke2VuZHBvaW50fS9vcGVuYWlgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcignYmFzZVVSTCBhbmQgZW5kcG9pbnQgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIGJhc2VVUkwsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgLi4uKGRhbmdlcm91c2x5QWxsb3dCcm93c2VyICE9PSB1bmRlZmluZWQgPyB7IGRhbmdlcm91c2x5QWxsb3dCcm93c2VyIH0gOiB7fSksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFwaVZlcnNpb24gPSAnJztcbiAgICAgICAgdGhpcy5fYXp1cmVBRFRva2VuUHJvdmlkZXIgPSBhenVyZUFEVG9rZW5Qcm92aWRlcjtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gYXBpVmVyc2lvbjtcbiAgICAgICAgdGhpcy5fZGVwbG95bWVudCA9IGRlcGxveW1lbnQ7XG4gICAgfVxuICAgIGJ1aWxkUmVxdWVzdChvcHRpb25zKSB7XG4gICAgICAgIGlmIChfZGVwbG95bWVudHNfZW5kcG9pbnRzLmhhcyhvcHRpb25zLnBhdGgpICYmIG9wdGlvbnMubWV0aG9kID09PSAncG9zdCcgJiYgb3B0aW9ucy5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghQ29yZS5pc09iaihvcHRpb25zLmJvZHkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCByZXF1ZXN0IGJvZHkgdG8gYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2RlcGxveW1lbnQgfHwgb3B0aW9ucy5ib2R5Wydtb2RlbCddO1xuICAgICAgICAgICAgaWYgKG1vZGVsICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuYmFzZVVSTC5pbmNsdWRlcygnL2RlcGxveW1lbnRzJykpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggPSBgL2RlcGxveW1lbnRzLyR7bW9kZWx9JHtvcHRpb25zLnBhdGh9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRSZXF1ZXN0KG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBfZ2V0QXp1cmVBRFRva2VuKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2F6dXJlQURUb2tlblByb3ZpZGVyKCk7XG4gICAgICAgICAgICBpZiAoIXRva2VuIHx8IHR5cGVvZiB0b2tlbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKGBFeHBlY3RlZCAnYXp1cmVBRFRva2VuUHJvdmlkZXInIGFyZ3VtZW50IHRvIHJldHVybiBhIHN0cmluZyBidXQgaXQgcmV0dXJuZWQgJHt0b2tlbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhdXRoSGVhZGVycyhvcHRzKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgYXN5bmMgcHJlcGFyZU9wdGlvbnMob3B0cykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVzZXIgc2hvdWxkIHByb3ZpZGUgYSBiZWFyZXIgdG9rZW4gcHJvdmlkZXIgaWYgdGhleSB3YW50XG4gICAgICAgICAqIHRvIHVzZSBBenVyZSBBRCBhdXRoZW50aWNhdGlvbi4gVGhlIHVzZXIgc2hvdWxkbid0IHNldCB0aGVcbiAgICAgICAgICogQXV0aG9yaXphdGlvbiBoZWFkZXIgbWFudWFsbHkgYmVjYXVzZSB0aGUgaGVhZGVyIGlzIG92ZXJ3cml0dGVuXG4gICAgICAgICAqIHdpdGggdGhlIEF6dXJlIEFEIHRva2VuIGlmIGEgYmVhcmVyIHRva2VuIHByb3ZpZGVyIGlzIHByb3ZpZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdHMuaGVhZGVycz8uWydhcGkta2V5J10pIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5wcmVwYXJlT3B0aW9ucyhvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuX2dldEF6dXJlQURUb2tlbigpO1xuICAgICAgICBvcHRzLmhlYWRlcnMgPz8gKG9wdHMuaGVhZGVycyA9IHt9KTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXBpS2V5ICE9PSBBUElfS0VZX1NFTlRJTkVMKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnNbJ2FwaS1rZXknXSA9IHRoaXMuYXBpS2V5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcignVW5hYmxlIHRvIGhhbmRsZSBhdXRoJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLnByZXBhcmVPcHRpb25zKG9wdHMpO1xuICAgIH1cbn1cbmNvbnN0IF9kZXBsb3ltZW50c19lbmRwb2ludHMgPSBuZXcgU2V0KFtcbiAgICAnL2NvbXBsZXRpb25zJyxcbiAgICAnL2NoYXQvY29tcGxldGlvbnMnLFxuICAgICcvZW1iZWRkaW5ncycsXG4gICAgJy9hdWRpby90cmFuc2NyaXB0aW9ucycsXG4gICAgJy9hdWRpby90cmFuc2xhdGlvbnMnLFxuICAgICcvYXVkaW8vc3BlZWNoJyxcbiAgICAnL2ltYWdlcy9nZW5lcmF0aW9ucycsXG5dKTtcbmNvbnN0IEFQSV9LRVlfU0VOVElORUwgPSAnPE1pc3NpbmcgS2V5Pic7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVuZCBBenVyZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgZGVmYXVsdCBPcGVuQUk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbIl9hIiwiRXJyb3JzIiwiVXBsb2FkcyIsInFzIiwiQ29yZSIsIlBhZ2luYXRpb24iLCJBUEkiLCJPcGVuQUkiLCJBUElDbGllbnQiLCJjb25zdHJ1Y3RvciIsImJhc2VVUkwiLCJyZWFkRW52IiwiYXBpS2V5Iiwib3JnYW5pemF0aW9uIiwicHJvamVjdCIsIm9wdHMiLCJ1bmRlZmluZWQiLCJPcGVuQUlFcnJvciIsIm9wdGlvbnMiLCJkYW5nZXJvdXNseUFsbG93QnJvd3NlciIsImlzUnVubmluZ0luQnJvd3NlciIsInRpbWVvdXQiLCJodHRwQWdlbnQiLCJtYXhSZXRyaWVzIiwiZmV0Y2giLCJjb21wbGV0aW9ucyIsIkNvbXBsZXRpb25zIiwiY2hhdCIsIkNoYXQiLCJlbWJlZGRpbmdzIiwiRW1iZWRkaW5ncyIsImZpbGVzIiwiRmlsZXMiLCJpbWFnZXMiLCJJbWFnZXMiLCJhdWRpbyIsIkF1ZGlvIiwibW9kZXJhdGlvbnMiLCJNb2RlcmF0aW9ucyIsIm1vZGVscyIsIk1vZGVscyIsImZpbmVUdW5pbmciLCJGaW5lVHVuaW5nIiwiYmV0YSIsIkJldGEiLCJiYXRjaGVzIiwiQmF0Y2hlcyIsInVwbG9hZHMiLCJfb3B0aW9ucyIsImRlZmF1bHRRdWVyeSIsImRlZmF1bHRIZWFkZXJzIiwiYXV0aEhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwic3RyaW5naWZ5UXVlcnkiLCJxdWVyeSIsInN0cmluZ2lmeSIsImFycmF5Rm9ybWF0IiwiREVGQVVMVF9USU1FT1VUIiwiQVBJRXJyb3IiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwiQVBJVXNlckFib3J0RXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiQmFkUmVxdWVzdEVycm9yIiwiQXV0aGVudGljYXRpb25FcnJvciIsIkludGVybmFsU2VydmVyRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCJ0b0ZpbGUiLCJmaWxlRnJvbVBhdGgiLCJQYWdlIiwiQ3Vyc29yUGFnZSIsIkZpbGVPYmplY3RzUGFnZSIsIk1vZGVsc1BhZ2UiLCJCYXRjaGVzUGFnZSIsIkF6dXJlT3BlbkFJIiwiYXBpVmVyc2lvbiIsImVuZHBvaW50IiwiZGVwbG95bWVudCIsImF6dXJlQURUb2tlblByb3ZpZGVyIiwiQVBJX0tFWV9TRU5USU5FTCIsInByb2Nlc3MiLCJlbnYiLCJfYXp1cmVBRFRva2VuUHJvdmlkZXIiLCJfZGVwbG95bWVudCIsImJ1aWxkUmVxdWVzdCIsIl9kZXBsb3ltZW50c19lbmRwb2ludHMiLCJoYXMiLCJwYXRoIiwibWV0aG9kIiwiYm9keSIsImlzT2JqIiwiRXJyb3IiLCJtb2RlbCIsImluY2x1ZGVzIiwiX2dldEF6dXJlQURUb2tlbiIsInRva2VuIiwicHJlcGFyZU9wdGlvbnMiLCJoZWFkZXJzIiwiU2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/internal/decoders/line.mjs":
/*!********************************************************!*\
  !*** ./node_modules/openai/internal/decoders/line.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineDecoder: () => (/* binding */ LineDecoder)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../error.mjs */ \"(rsc)/./node_modules/openai/error.mjs\");\n\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */ class LineDecoder {\n    constructor(){\n        this.buffer = [];\n        this.trailingCR = false;\n    }\n    decode(chunk) {\n        let text = this.decodeText(chunk);\n        if (this.trailingCR) {\n            text = \"\\r\" + text;\n            this.trailingCR = false;\n        }\n        if (text.endsWith(\"\\r\")) {\n            this.trailingCR = true;\n            text = text.slice(0, -1);\n        }\n        if (!text) {\n            return [];\n        }\n        const trailingNewline = LineDecoder.NEWLINE_CHARS.has(text[text.length - 1] || \"\");\n        let lines = text.split(LineDecoder.NEWLINE_REGEXP);\n        // if there is a trailing new line then the last entry will be an empty\n        // string which we don't care about\n        if (trailingNewline) {\n            lines.pop();\n        }\n        if (lines.length === 1 && !trailingNewline) {\n            this.buffer.push(lines[0]);\n            return [];\n        }\n        if (this.buffer.length > 0) {\n            lines = [\n                this.buffer.join(\"\") + lines[0],\n                ...lines.slice(1)\n            ];\n            this.buffer = [];\n        }\n        if (!trailingNewline) {\n            this.buffer = [\n                lines.pop() || \"\"\n            ];\n        }\n        return lines;\n    }\n    decodeText(bytes) {\n        if (bytes == null) return \"\";\n        if (typeof bytes === \"string\") return bytes;\n        // Node:\n        if (typeof Buffer !== \"undefined\") {\n            if (bytes instanceof Buffer) {\n                return bytes.toString();\n            }\n            if (bytes instanceof Uint8Array) {\n                return Buffer.from(bytes).toString();\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global \"Buffer\" defined, which this library assumes to be Node. Please report this error.`);\n        }\n        // Browser\n        if (typeof TextDecoder !== \"undefined\") {\n            if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {\n                this.textDecoder ?? (this.textDecoder = new TextDecoder(\"utf8\"));\n                return this.textDecoder.decode(bytes);\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);\n        }\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);\n    }\n    flush() {\n        if (!this.buffer.length && !this.trailingCR) {\n            return [];\n        }\n        const lines = [\n            this.buffer.join(\"\")\n        ];\n        this.buffer = [];\n        this.trailingCR = false;\n        return lines;\n    }\n}\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set([\n    \"\\n\",\n    \"\\r\"\n]);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r]/g; //# sourceMappingURL=line.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL2RlY29kZXJzL2xpbmUubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDO0FBQzlDOzs7OztDQUtDLEdBQ00sTUFBTUM7SUFDVEMsYUFBYztRQUNWLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEVBQUU7UUFDaEIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7SUFDdEI7SUFDQUMsT0FBT0MsS0FBSyxFQUFFO1FBQ1YsSUFBSUMsT0FBTyxJQUFJLENBQUNDLFVBQVUsQ0FBQ0Y7UUFDM0IsSUFBSSxJQUFJLENBQUNGLFVBQVUsRUFBRTtZQUNqQkcsT0FBTyxPQUFPQTtZQUNkLElBQUksQ0FBQ0gsVUFBVSxHQUFHO1FBQ3RCO1FBQ0EsSUFBSUcsS0FBS0UsUUFBUSxDQUFDLE9BQU87WUFDckIsSUFBSSxDQUFDTCxVQUFVLEdBQUc7WUFDbEJHLE9BQU9BLEtBQUtHLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDMUI7UUFDQSxJQUFJLENBQUNILE1BQU07WUFDUCxPQUFPLEVBQUU7UUFDYjtRQUNBLE1BQU1JLGtCQUFrQlYsWUFBWVcsYUFBYSxDQUFDQyxHQUFHLENBQUNOLElBQUksQ0FBQ0EsS0FBS08sTUFBTSxHQUFHLEVBQUUsSUFBSTtRQUMvRSxJQUFJQyxRQUFRUixLQUFLUyxLQUFLLENBQUNmLFlBQVlnQixjQUFjO1FBQ2pELHVFQUF1RTtRQUN2RSxtQ0FBbUM7UUFDbkMsSUFBSU4saUJBQWlCO1lBQ2pCSSxNQUFNRyxHQUFHO1FBQ2I7UUFDQSxJQUFJSCxNQUFNRCxNQUFNLEtBQUssS0FBSyxDQUFDSCxpQkFBaUI7WUFDeEMsSUFBSSxDQUFDUixNQUFNLENBQUNnQixJQUFJLENBQUNKLEtBQUssQ0FBQyxFQUFFO1lBQ3pCLE9BQU8sRUFBRTtRQUNiO1FBQ0EsSUFBSSxJQUFJLENBQUNaLE1BQU0sQ0FBQ1csTUFBTSxHQUFHLEdBQUc7WUFDeEJDLFFBQVE7Z0JBQUMsSUFBSSxDQUFDWixNQUFNLENBQUNpQixJQUFJLENBQUMsTUFBTUwsS0FBSyxDQUFDLEVBQUU7bUJBQUtBLE1BQU1MLEtBQUssQ0FBQzthQUFHO1lBQzVELElBQUksQ0FBQ1AsTUFBTSxHQUFHLEVBQUU7UUFDcEI7UUFDQSxJQUFJLENBQUNRLGlCQUFpQjtZQUNsQixJQUFJLENBQUNSLE1BQU0sR0FBRztnQkFBQ1ksTUFBTUcsR0FBRyxNQUFNO2FBQUc7UUFDckM7UUFDQSxPQUFPSDtJQUNYO0lBQ0FQLFdBQVdhLEtBQUssRUFBRTtRQUNkLElBQUlBLFNBQVMsTUFDVCxPQUFPO1FBQ1gsSUFBSSxPQUFPQSxVQUFVLFVBQ2pCLE9BQU9BO1FBQ1gsUUFBUTtRQUNSLElBQUksT0FBT0MsV0FBVyxhQUFhO1lBQy9CLElBQUlELGlCQUFpQkMsUUFBUTtnQkFDekIsT0FBT0QsTUFBTUUsUUFBUTtZQUN6QjtZQUNBLElBQUlGLGlCQUFpQkcsWUFBWTtnQkFDN0IsT0FBT0YsT0FBT0csSUFBSSxDQUFDSixPQUFPRSxRQUFRO1lBQ3RDO1lBQ0EsTUFBTSxJQUFJdkIsbURBQVdBLENBQUMsQ0FBQyxxQ0FBcUMsRUFBRXFCLE1BQU1uQixXQUFXLENBQUN3QixJQUFJLENBQUMsaUlBQWlJLENBQUM7UUFDM047UUFDQSxVQUFVO1FBQ1YsSUFBSSxPQUFPQyxnQkFBZ0IsYUFBYTtZQUNwQyxJQUFJTixpQkFBaUJHLGNBQWNILGlCQUFpQk8sYUFBYTtnQkFDN0QsSUFBSSxDQUFDQyxXQUFXLElBQUssS0FBSSxDQUFDQSxXQUFXLEdBQUcsSUFBSUYsWUFBWSxPQUFNO2dCQUM5RCxPQUFPLElBQUksQ0FBQ0UsV0FBVyxDQUFDeEIsTUFBTSxDQUFDZ0I7WUFDbkM7WUFDQSxNQUFNLElBQUlyQixtREFBV0EsQ0FBQyxDQUFDLGlEQUFpRCxFQUFFcUIsTUFBTW5CLFdBQVcsQ0FBQ3dCLElBQUksQ0FBQyw4Q0FBOEMsQ0FBQztRQUNwSjtRQUNBLE1BQU0sSUFBSTFCLG1EQUFXQSxDQUFDLENBQUMsOEZBQThGLENBQUM7SUFDMUg7SUFDQThCLFFBQVE7UUFDSixJQUFJLENBQUMsSUFBSSxDQUFDM0IsTUFBTSxDQUFDVyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUNWLFVBQVUsRUFBRTtZQUN6QyxPQUFPLEVBQUU7UUFDYjtRQUNBLE1BQU1XLFFBQVE7WUFBQyxJQUFJLENBQUNaLE1BQU0sQ0FBQ2lCLElBQUksQ0FBQztTQUFJO1FBQ3BDLElBQUksQ0FBQ2pCLE1BQU0sR0FBRyxFQUFFO1FBQ2hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCLE9BQU9XO0lBQ1g7QUFDSjtBQUNBLGtCQUFrQjtBQUNsQmQsWUFBWVcsYUFBYSxHQUFHLElBQUltQixJQUFJO0lBQUM7SUFBTTtDQUFLO0FBQ2hEOUIsWUFBWWdCLGNBQWMsR0FBRyxnQkFDN0IsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvZGVjb2RlcnMvbGluZS5tanM/MmNjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvci5tanNcIjtcbi8qKlxuICogQSByZS1pbXBsZW1lbnRhdGlvbiBvZiBodHRweCdzIGBMaW5lRGVjb2RlcmAgaW4gUHl0aG9uIHRoYXQgaGFuZGxlcyBpbmNyZW1lbnRhbGx5XG4gKiByZWFkaW5nIGxpbmVzIGZyb20gdGV4dC5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZW5jb2RlL2h0dHB4L2Jsb2IvOTIwMzMzZWE5ODExOGU5Y2Y2MTdmMjQ2OTA1ZDdiMjAyNTEwOTQxYy9odHRweC9fZGVjb2RlcnMucHkjTDI1OFxuICovXG5leHBvcnQgY2xhc3MgTGluZURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnRyYWlsaW5nQ1IgPSBmYWxzZTtcbiAgICB9XG4gICAgZGVjb2RlKGNodW5rKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5kZWNvZGVUZXh0KGNodW5rKTtcbiAgICAgICAgaWYgKHRoaXMudHJhaWxpbmdDUikge1xuICAgICAgICAgICAgdGV4dCA9ICdcXHInICsgdGV4dDtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdDUiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0LmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgICAgICAgdGhpcy50cmFpbGluZ0NSID0gdHJ1ZTtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFpbGluZ05ld2xpbmUgPSBMaW5lRGVjb2Rlci5ORVdMSU5FX0NIQVJTLmhhcyh0ZXh0W3RleHQubGVuZ3RoIC0gMV0gfHwgJycpO1xuICAgICAgICBsZXQgbGluZXMgPSB0ZXh0LnNwbGl0KExpbmVEZWNvZGVyLk5FV0xJTkVfUkVHRVhQKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSB0cmFpbGluZyBuZXcgbGluZSB0aGVuIHRoZSBsYXN0IGVudHJ5IHdpbGwgYmUgYW4gZW1wdHlcbiAgICAgICAgLy8gc3RyaW5nIHdoaWNoIHdlIGRvbid0IGNhcmUgYWJvdXRcbiAgICAgICAgaWYgKHRyYWlsaW5nTmV3bGluZSkge1xuICAgICAgICAgICAgbGluZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSAmJiAhdHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGxpbmVzWzBdKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGluZXMgPSBbdGhpcy5idWZmZXIuam9pbignJykgKyBsaW5lc1swXSwgLi4ubGluZXMuc2xpY2UoMSldO1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYWlsaW5nTmV3bGluZSkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBbbGluZXMucG9wKCkgfHwgJyddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG4gICAgZGVjb2RlVGV4dChieXRlcykge1xuICAgICAgICBpZiAoYnl0ZXMgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgICAgIC8vIE5vZGU6XG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnl0ZXMgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJ5dGVzKS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheSAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgc3RyZWFtIGNodW5rIGluIGFuIGVudmlyb25tZW50IHdpdGggYSBnbG9iYWwgXCJCdWZmZXJcIiBkZWZpbmVkLCB3aGljaCB0aGlzIGxpYnJhcnkgYXNzdW1lcyB0byBiZSBOb2RlLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnJvd3NlclxuICAgICAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBieXRlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0RGVjb2RlciA/PyAodGhpcy50ZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoYnl0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBVbmV4cGVjdGVkOiByZWNlaXZlZCBub24tVWludDhBcnJheS9BcnJheUJ1ZmZlciAoJHtieXRlcy5jb25zdHJ1Y3Rvci5uYW1lfSkgaW4gYSB3ZWIgcGxhdGZvcm0uIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYFVuZXhwZWN0ZWQ6IG5laXRoZXIgQnVmZmVyIG5vciBUZXh0RGVjb2RlciBhcmUgYXZhaWxhYmxlIGFzIGdsb2JhbHMuIFBsZWFzZSByZXBvcnQgdGhpcyBlcnJvci5gKTtcbiAgICB9XG4gICAgZmx1c2goKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIubGVuZ3RoICYmICF0aGlzLnRyYWlsaW5nQ1IpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lcyA9IFt0aGlzLmJ1ZmZlci5qb2luKCcnKV07XG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgICAgIHRoaXMudHJhaWxpbmdDUiA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxufVxuLy8gcHJldHRpZXItaWdub3JlXG5MaW5lRGVjb2Rlci5ORVdMSU5FX0NIQVJTID0gbmV3IFNldChbJ1xcbicsICdcXHInXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxccl0vZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmUubWpzLm1hcCJdLCJuYW1lcyI6WyJPcGVuQUlFcnJvciIsIkxpbmVEZWNvZGVyIiwiY29uc3RydWN0b3IiLCJidWZmZXIiLCJ0cmFpbGluZ0NSIiwiZGVjb2RlIiwiY2h1bmsiLCJ0ZXh0IiwiZGVjb2RlVGV4dCIsImVuZHNXaXRoIiwic2xpY2UiLCJ0cmFpbGluZ05ld2xpbmUiLCJORVdMSU5FX0NIQVJTIiwiaGFzIiwibGVuZ3RoIiwibGluZXMiLCJzcGxpdCIsIk5FV0xJTkVfUkVHRVhQIiwicG9wIiwicHVzaCIsImpvaW4iLCJieXRlcyIsIkJ1ZmZlciIsInRvU3RyaW5nIiwiVWludDhBcnJheSIsImZyb20iLCJuYW1lIiwiVGV4dERlY29kZXIiLCJBcnJheUJ1ZmZlciIsInRleHREZWNvZGVyIiwiZmx1c2giLCJTZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/internal/decoders/line.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/internal/qs/formats.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/openai/internal/qs/formats.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RFC1738: () => (/* binding */ RFC1738),\n/* harmony export */   RFC3986: () => (/* binding */ RFC3986),\n/* harmony export */   default_format: () => (/* binding */ default_format),\n/* harmony export */   formatters: () => (/* binding */ formatters)\n/* harmony export */ });\nconst default_format = \"RFC3986\";\nconst formatters = {\n    RFC1738: (v)=>String(v).replace(/%20/g, \"+\"),\n    RFC3986: (v)=>String(v)\n};\nconst RFC1738 = \"RFC1738\";\nconst RFC3986 = \"RFC3986\"; //# sourceMappingURL=formats.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL2Zvcm1hdHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxNQUFNQSxpQkFBaUIsVUFBVTtBQUNqQyxNQUFNQyxhQUFhO0lBQ3RCQyxTQUFTLENBQUNDLElBQU1DLE9BQU9ELEdBQUdFLE9BQU8sQ0FBQyxRQUFRO0lBQzFDQyxTQUFTLENBQUNILElBQU1DLE9BQU9EO0FBQzNCLEVBQUU7QUFDSyxNQUFNRCxVQUFVLFVBQVU7QUFDMUIsTUFBTUksVUFBVSxVQUFVLENBQ2pDLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL2Zvcm1hdHMubWpzP2MzMGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRlZmF1bHRfZm9ybWF0ID0gJ1JGQzM5ODYnO1xuZXhwb3J0IGNvbnN0IGZvcm1hdHRlcnMgPSB7XG4gICAgUkZDMTczODogKHYpID0+IFN0cmluZyh2KS5yZXBsYWNlKC8lMjAvZywgJysnKSxcbiAgICBSRkMzOTg2OiAodikgPT4gU3RyaW5nKHYpLFxufTtcbmV4cG9ydCBjb25zdCBSRkMxNzM4ID0gJ1JGQzE3MzgnO1xuZXhwb3J0IGNvbnN0IFJGQzM5ODYgPSAnUkZDMzk4Nic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtYXRzLm1qcy5tYXAiXSwibmFtZXMiOlsiZGVmYXVsdF9mb3JtYXQiLCJmb3JtYXR0ZXJzIiwiUkZDMTczOCIsInYiLCJTdHJpbmciLCJyZXBsYWNlIiwiUkZDMzk4NiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/internal/qs/formats.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/internal/qs/stringify.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/openai/internal/qs/stringify.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stringify: () => (/* binding */ stringify)\n/* harmony export */ });\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ \"(rsc)/./node_modules/openai/internal/qs/utils.mjs\");\n/* harmony import */ var _formats_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formats.mjs */ \"(rsc)/./node_modules/openai/internal/qs/formats.mjs\");\n\n\nconst has = Object.prototype.hasOwnProperty;\nconst array_prefix_generators = {\n    brackets (prefix) {\n        return String(prefix) + \"[]\";\n    },\n    comma: \"comma\",\n    indices (prefix, key) {\n        return String(prefix) + \"[\" + key + \"]\";\n    },\n    repeat (prefix) {\n        return String(prefix);\n    }\n};\nconst is_array = Array.isArray;\nconst push = Array.prototype.push;\nconst push_to_array = function(arr, value_or_array) {\n    push.apply(arr, is_array(value_or_array) ? value_or_array : [\n        value_or_array\n    ]);\n};\nconst to_ISO = Date.prototype.toISOString;\nconst defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: \"indices\",\n    charset: \"utf-8\",\n    charsetSentinel: false,\n    delimiter: \"&\",\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: _utils_mjs__WEBPACK_IMPORTED_MODULE_0__.encode,\n    encodeValuesOnly: false,\n    format: _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format,\n    formatter: _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters[_formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format],\n    /** @deprecated */ indices: false,\n    serializeDate (date) {\n        return to_ISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\nfunction is_non_nullish_primitive(v) {\n    return typeof v === \"string\" || typeof v === \"number\" || typeof v === \"boolean\" || typeof v === \"symbol\" || typeof v === \"bigint\";\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n    let obj = object;\n    let tmp_sc = sideChannel;\n    let step = 0;\n    let find_flag = false;\n    while((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag){\n        // Where object last appeared in the ref tree\n        const pos = tmp_sc.get(object);\n        step += 1;\n        if (typeof pos !== \"undefined\") {\n            if (pos === step) {\n                throw new RangeError(\"Cyclic object value\");\n            } else {\n                find_flag = true; // Break while\n            }\n        }\n        if (typeof tmp_sc.get(sentinel) === \"undefined\") {\n            step = 0;\n        }\n    }\n    if (typeof filter === \"function\") {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate?.(obj);\n    } else if (generateArrayPrefix === \"comma\" && is_array(obj)) {\n        obj = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.maybe_map)(obj, function(value) {\n            if (value instanceof Date) {\n                return serializeDate?.(value);\n            }\n            return value;\n        });\n    }\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? // @ts-expect-error\n            encoder(prefix, defaults.encoder, charset, \"key\", format) : prefix;\n        }\n        obj = \"\";\n    }\n    if (is_non_nullish_primitive(obj) || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is_buffer)(obj)) {\n        if (encoder) {\n            const key_value = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, \"key\", format);\n            return [\n                formatter?.(key_value) + \"=\" + // @ts-expect-error\n                formatter?.(encoder(obj, defaults.encoder, charset, \"value\", format))\n            ];\n        }\n        return [\n            formatter?.(prefix) + \"=\" + formatter?.(String(obj))\n        ];\n    }\n    const values = [];\n    if (typeof obj === \"undefined\") {\n        return values;\n    }\n    let obj_keys;\n    if (generateArrayPrefix === \"comma\" && is_array(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            // @ts-expect-error values only\n            obj = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.maybe_map)(obj, encoder);\n        }\n        obj_keys = [\n            {\n                value: obj.length > 0 ? obj.join(\",\") || null : void undefined\n            }\n        ];\n    } else if (is_array(filter)) {\n        obj_keys = filter;\n    } else {\n        const keys = Object.keys(obj);\n        obj_keys = sort ? keys.sort(sort) : keys;\n    }\n    const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, \"%2E\") : String(prefix);\n    const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + \"[]\" : encoded_prefix;\n    if (allowEmptyArrays && is_array(obj) && obj.length === 0) {\n        return adjusted_prefix + \"[]\";\n    }\n    for(let j = 0; j < obj_keys.length; ++j){\n        const key = obj_keys[j];\n        const value = // @ts-ignore\n        typeof key === \"object\" && typeof key.value !== \"undefined\" ? key.value : obj[key];\n        if (skipNulls && value === null) {\n            continue;\n        }\n        // @ts-ignore\n        const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, \"%2E\") : key;\n        const key_prefix = is_array(obj) ? typeof generateArrayPrefix === \"function\" ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? \".\" + encoded_key : \"[\" + encoded_key + \"]\");\n        sideChannel.set(object, step);\n        const valueSideChannel = new WeakMap();\n        valueSideChannel.set(sentinel, sideChannel);\n        push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, // @ts-ignore\n        generateArrayPrefix === \"comma\" && encodeValuesOnly && is_array(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n    }\n    return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n    if (typeof opts.allowEmptyArrays !== \"undefined\" && typeof opts.allowEmptyArrays !== \"boolean\") {\n        throw new TypeError(\"`allowEmptyArrays` option can only be `true` or `false`, when provided\");\n    }\n    if (typeof opts.encodeDotInKeys !== \"undefined\" && typeof opts.encodeDotInKeys !== \"boolean\") {\n        throw new TypeError(\"`encodeDotInKeys` option can only be `true` or `false`, when provided\");\n    }\n    if (opts.encoder !== null && typeof opts.encoder !== \"undefined\" && typeof opts.encoder !== \"function\") {\n        throw new TypeError(\"Encoder has to be a function.\");\n    }\n    const charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== \"undefined\" && opts.charset !== \"utf-8\" && opts.charset !== \"iso-8859-1\") {\n        throw new TypeError(\"The charset option must be either utf-8, iso-8859-1, or undefined\");\n    }\n    let format = _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format;\n    if (typeof opts.format !== \"undefined\") {\n        if (!has.call(_formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters, opts.format)) {\n            throw new TypeError(\"Unknown format option provided.\");\n        }\n        format = opts.format;\n    }\n    const formatter = _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters[format];\n    let filter = defaults.filter;\n    if (typeof opts.filter === \"function\" || is_array(opts.filter)) {\n        filter = opts.filter;\n    }\n    let arrayFormat;\n    if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (\"indices\" in opts) {\n        arrayFormat = opts.indices ? \"indices\" : \"repeat\";\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n    if (\"commaRoundTrip\" in opts && typeof opts.commaRoundTrip !== \"boolean\") {\n        throw new TypeError(\"`commaRoundTrip` must be a boolean, or absent\");\n    }\n    const allowDots = typeof opts.allowDots === \"undefined\" ? !!opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === \"boolean\" ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        // @ts-ignore\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === \"boolean\" ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === \"boolean\" ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === \"undefined\" ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === \"boolean\" ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === \"boolean\" ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === \"function\" ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === \"boolean\" ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === \"function\" ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === \"boolean\" ? opts.skipNulls : defaults.skipNulls,\n        // @ts-ignore\n        sort: typeof opts.sort === \"function\" ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === \"boolean\" ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n}\nfunction stringify(object, opts = {}) {\n    let obj = object;\n    const options = normalize_stringify_options(opts);\n    let obj_keys;\n    let filter;\n    if (typeof options.filter === \"function\") {\n        filter = options.filter;\n        obj = filter(\"\", obj);\n    } else if (is_array(options.filter)) {\n        filter = options.filter;\n        obj_keys = filter;\n    }\n    const keys = [];\n    if (typeof obj !== \"object\" || obj === null) {\n        return \"\";\n    }\n    const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n    const commaRoundTrip = generateArrayPrefix === \"comma\" && options.commaRoundTrip;\n    if (!obj_keys) {\n        obj_keys = Object.keys(obj);\n    }\n    if (options.sort) {\n        obj_keys.sort(options.sort);\n    }\n    const sideChannel = new WeakMap();\n    for(let i = 0; i < obj_keys.length; ++i){\n        const key = obj_keys[i];\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        push_to_array(keys, inner_stringify(obj[key], key, // @ts-expect-error\n        generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n    }\n    const joined = keys.join(options.delimiter);\n    let prefix = options.addQueryPrefix === true ? \"?\" : \"\";\n    if (options.charsetSentinel) {\n        if (options.charset === \"iso-8859-1\") {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += \"utf8=%26%2310003%3B&\";\n        } else {\n            // encodeURIComponent('✓')\n            prefix += \"utf8=%E2%9C%93&\";\n        }\n    }\n    return joined.length > 0 ? prefix + joined : \"\";\n} //# sourceMappingURL=stringify.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3N0cmluZ2lmeS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBQ0E7QUFDM0QsTUFBTUssTUFBTUMsT0FBT0MsU0FBUyxDQUFDQyxjQUFjO0FBQzNDLE1BQU1DLDBCQUEwQjtJQUM1QkMsVUFBU0MsTUFBTTtRQUNYLE9BQU9DLE9BQU9ELFVBQVU7SUFDNUI7SUFDQUUsT0FBTztJQUNQQyxTQUFRSCxNQUFNLEVBQUVJLEdBQUc7UUFDZixPQUFPSCxPQUFPRCxVQUFVLE1BQU1JLE1BQU07SUFDeEM7SUFDQUMsUUFBT0wsTUFBTTtRQUNULE9BQU9DLE9BQU9EO0lBQ2xCO0FBQ0o7QUFDQSxNQUFNTSxXQUFXQyxNQUFNQyxPQUFPO0FBQzlCLE1BQU1DLE9BQU9GLE1BQU1YLFNBQVMsQ0FBQ2EsSUFBSTtBQUNqQyxNQUFNQyxnQkFBZ0IsU0FBVUMsR0FBRyxFQUFFQyxjQUFjO0lBQy9DSCxLQUFLSSxLQUFLLENBQUNGLEtBQUtMLFNBQVNNLGtCQUFrQkEsaUJBQWlCO1FBQUNBO0tBQWU7QUFDaEY7QUFDQSxNQUFNRSxTQUFTQyxLQUFLbkIsU0FBUyxDQUFDb0IsV0FBVztBQUN6QyxNQUFNQyxXQUFXO0lBQ2JDLGdCQUFnQjtJQUNoQkMsV0FBVztJQUNYQyxrQkFBa0I7SUFDbEJDLGFBQWE7SUFDYkMsU0FBUztJQUNUQyxpQkFBaUI7SUFDakJDLFdBQVc7SUFDWG5DLFFBQVE7SUFDUm9DLGlCQUFpQjtJQUNqQkMsU0FBU3JDLDhDQUFNQTtJQUNmc0Msa0JBQWtCO0lBQ2xCQyxRQUFRcEMsd0RBQWNBO0lBQ3RCcUMsV0FBV3BDLG9EQUFVLENBQUNELHdEQUFjQSxDQUFDO0lBQ3JDLGdCQUFnQixHQUNoQlcsU0FBUztJQUNUMkIsZUFBY0MsSUFBSTtRQUNkLE9BQU9qQixPQUFPa0IsSUFBSSxDQUFDRDtJQUN2QjtJQUNBRSxXQUFXO0lBQ1hDLG9CQUFvQjtBQUN4QjtBQUNBLFNBQVNDLHlCQUF5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RTJDLFFBQVE3QyxNQUFNLEVBQUU2QyxRQUFRNUMsU0FBUyxFQUFFNEMsUUFBUTlDLGdCQUFnQixFQUFFOEMsUUFBUW5ELE9BQU8sRUFBRXNCO0lBQzFVO0lBQ0EsTUFBTStCLFNBQVNoQixLQUFLRCxJQUFJLENBQUNlLFFBQVFqRCxTQUFTO0lBQzFDLElBQUl4QixTQUFTeUUsUUFBUXZELGNBQWMsS0FBSyxPQUFPLE1BQU07SUFDckQsSUFBSXVELFFBQVFsRCxlQUFlLEVBQUU7UUFDekIsSUFBSWtELFFBQVFuRCxPQUFPLEtBQUssY0FBYztZQUNsQyxxRkFBcUY7WUFDckZ0QixVQUFVO1FBQ2QsT0FDSztZQUNELDBCQUEwQjtZQUMxQkEsVUFBVTtRQUNkO0lBQ0o7SUFDQSxPQUFPMkUsT0FBT2xCLE1BQU0sR0FBRyxJQUFJekQsU0FBUzJFLFNBQVM7QUFDakQsRUFDQSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9xcy9zdHJpbmdpZnkubWpzPzdkMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5jb2RlLCBpc19idWZmZXIsIG1heWJlX21hcCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdF9mb3JtYXQsIGZvcm1hdHRlcnMgfSBmcm9tIFwiLi9mb3JtYXRzLm1qc1wiO1xuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCkgKyAnW10nO1xuICAgIH0sXG4gICAgY29tbWE6ICdjb21tYScsXG4gICAgaW5kaWNlcyhwcmVmaXgsIGtleSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCkgKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcocHJlZml4KTtcbiAgICB9LFxufTtcbmNvbnN0IGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbmNvbnN0IHB1c2hfdG9fYXJyYXkgPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZV9vcl9hcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc19hcnJheSh2YWx1ZV9vcl9hcnJheSkgPyB2YWx1ZV9vcl9hcnJheSA6IFt2YWx1ZV9vcl9hcnJheV0pO1xufTtcbmNvbnN0IHRvX0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgYWxsb3dFbXB0eUFycmF5czogZmFsc2UsXG4gICAgYXJyYXlGb3JtYXQ6ICdpbmRpY2VzJyxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZURvdEluS2V5czogZmFsc2UsXG4gICAgZW5jb2RlcjogZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIGZvcm1hdDogZGVmYXVsdF9mb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXJzW2RlZmF1bHRfZm9ybWF0XSxcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvX0lTTy5jYWxsKGRhdGUpO1xuICAgIH0sXG4gICAgc2tpcE51bGxzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdzeW1ib2wnIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYmlnaW50Jyk7XG59XG5jb25zdCBzZW50aW5lbCA9IHt9O1xuZnVuY3Rpb24gaW5uZXJfc3RyaW5naWZ5KG9iamVjdCwgcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMsIHNlcmlhbGl6ZURhdGUsIGZvcm1hdCwgZm9ybWF0dGVyLCBlbmNvZGVWYWx1ZXNPbmx5LCBjaGFyc2V0LCBzaWRlQ2hhbm5lbCkge1xuICAgIGxldCBvYmogPSBvYmplY3Q7XG4gICAgbGV0IHRtcF9zYyA9IHNpZGVDaGFubmVsO1xuICAgIGxldCBzdGVwID0gMDtcbiAgICBsZXQgZmluZF9mbGFnID0gZmFsc2U7XG4gICAgd2hpbGUgKCh0bXBfc2MgPSB0bXBfc2MuZ2V0KHNlbnRpbmVsKSkgIT09IHZvaWQgdW5kZWZpbmVkICYmICFmaW5kX2ZsYWcpIHtcbiAgICAgICAgLy8gV2hlcmUgb2JqZWN0IGxhc3QgYXBwZWFyZWQgaW4gdGhlIHJlZiB0cmVlXG4gICAgICAgIGNvbnN0IHBvcyA9IHRtcF9zYy5nZXQob2JqZWN0KTtcbiAgICAgICAgc3RlcCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHBvcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluZF9mbGFnID0gdHJ1ZTsgLy8gQnJlYWsgd2hpbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRtcF9zYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3RlcCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlPy4ob2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IG1heWJlX21hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlPy4odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KVxuICAgICAgICAgICAgICAgIDogcHJlZml4O1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cbiAgICBpZiAoaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlKG9iaikgfHwgaXNfYnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleV92YWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXhcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlcj8uKGtleV92YWx1ZSkgK1xuICAgICAgICAgICAgICAgICAgICAnPScgK1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcj8uKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnLCBmb3JtYXQpKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXI/LihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyPy4oU3RyaW5nKG9iaikpXTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIGxldCBvYmpfa2V5cztcbiAgICBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gam9pbiBlbGVtZW50cyBpblxuICAgICAgICBpZiAoZW5jb2RlVmFsdWVzT25seSAmJiBlbmNvZGVyKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHZhbHVlcyBvbmx5XG4gICAgICAgICAgICBvYmogPSBtYXliZV9tYXAob2JqLCBlbmNvZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBvYmpfa2V5cyA9IFt7IHZhbHVlOiBvYmoubGVuZ3RoID4gMCA/IG9iai5qb2luKCcsJykgfHwgbnVsbCA6IHZvaWQgdW5kZWZpbmVkIH1dO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc19hcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9ial9rZXlzID0gZmlsdGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9ial9rZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZWRfcHJlZml4ID0gZW5jb2RlRG90SW5LZXlzID8gU3RyaW5nKHByZWZpeCkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IFN0cmluZyhwcmVmaXgpO1xuICAgIGNvbnN0IGFkanVzdGVkX3ByZWZpeCA9IGNvbW1hUm91bmRUcmlwICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMSA/IGVuY29kZWRfcHJlZml4ICsgJ1tdJyA6IGVuY29kZWRfcHJlZml4O1xuICAgIGlmIChhbGxvd0VtcHR5QXJyYXlzICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYWRqdXN0ZWRfcHJlZml4ICsgJ1tdJztcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmpfa2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICBjb25zdCBrZXkgPSBvYmpfa2V5c1tqXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Yga2V5LnZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGtleS52YWx1ZSA6IG9ialtrZXldO1xuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGVuY29kZWRfa2V5ID0gYWxsb3dEb3RzICYmIGVuY29kZURvdEluS2V5cyA/IGtleS5yZXBsYWNlKC9cXC4vZywgJyUyRScpIDoga2V5O1xuICAgICAgICBjb25zdCBrZXlfcHJlZml4ID0gaXNfYXJyYXkob2JqKSA/XG4gICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChhZGp1c3RlZF9wcmVmaXgsIGVuY29kZWRfa2V5KVxuICAgICAgICAgICAgICAgIDogYWRqdXN0ZWRfcHJlZml4XG4gICAgICAgICAgICA6IGFkanVzdGVkX3ByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBlbmNvZGVkX2tleSA6ICdbJyArIGVuY29kZWRfa2V5ICsgJ10nKTtcbiAgICAgICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgc3RlcCk7XG4gICAgICAgIGNvbnN0IHZhbHVlU2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLnNldChzZW50aW5lbCwgc2lkZUNoYW5uZWwpO1xuICAgICAgICBwdXNoX3RvX2FycmF5KHZhbHVlcywgaW5uZXJfc3RyaW5naWZ5KHZhbHVlLCBrZXlfcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBlbmNvZGVWYWx1ZXNPbmx5ICYmIGlzX2FycmF5KG9iaikgPyBudWxsIDogZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMsIHNlcmlhbGl6ZURhdGUsIGZvcm1hdCwgZm9ybWF0dGVyLCBlbmNvZGVWYWx1ZXNPbmx5LCBjaGFyc2V0LCB2YWx1ZVNpZGVDaGFubmVsKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMob3B0cyA9IGRlZmF1bHRzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgYWxsb3dFbXB0eUFycmF5c2Agb3B0aW9uIGNhbiBvbmx5IGJlIGB0cnVlYCBvciBgZmFsc2VgLCB3aGVuIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BlbmNvZGVEb3RJbktleXNgIG9wdGlvbiBjYW4gb25seSBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hlbiBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAob3B0cy5lbmNvZGVyICE9PSBudWxsICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG4gICAgY29uc3QgY2hhcnNldCA9IG9wdHMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgbGV0IGZvcm1hdCA9IGRlZmF1bHRfZm9ybWF0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghaGFzLmNhbGwoZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICBsZXQgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNfYXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cbiAgICBsZXQgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdHMuYXJyYXlGb3JtYXQgJiYgb3B0cy5hcnJheUZvcm1hdCBpbiBhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9IGRlZmF1bHRzLmFycmF5Rm9ybWF0O1xuICAgIH1cbiAgICBpZiAoJ2NvbW1hUm91bmRUcmlwJyBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmNvbW1hUm91bmRUcmlwICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGNvbW1hUm91bmRUcmlwYCBtdXN0IGJlIGEgYm9vbGVhbiwgb3IgYWJzZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbG93RG90cyA9IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAhIW9wdHMuZW5jb2RlRG90SW5LZXlzID09PSB0cnVlID9cbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIDogZGVmYXVsdHMuYWxsb3dEb3RzXG4gICAgICAgIDogISFvcHRzLmFsbG93RG90cztcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRRdWVyeVByZWZpeDogdHlwZW9mIG9wdHMuYWRkUXVlcnlQcmVmaXggPT09ICdib29sZWFuJyA/IG9wdHMuYWRkUXVlcnlQcmVmaXggOiBkZWZhdWx0cy5hZGRRdWVyeVByZWZpeCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhbGxvd0RvdHM6IGFsbG93RG90cyxcbiAgICAgICAgYWxsb3dFbXB0eUFycmF5czogdHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyA9PT0gJ2Jvb2xlYW4nID8gISFvcHRzLmFsbG93RW1wdHlBcnJheXMgOiBkZWZhdWx0cy5hbGxvd0VtcHR5QXJyYXlzLFxuICAgICAgICBhcnJheUZvcm1hdDogYXJyYXlGb3JtYXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWFSb3VuZFRyaXA6ICEhb3B0cy5jb21tYVJvdW5kVHJpcCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlRG90SW5LZXlzOiB0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlRG90SW5LZXlzIDogZGVmYXVsdHMuZW5jb2RlRG90SW5LZXlzLFxuICAgICAgICBlbmNvZGVyOiB0eXBlb2Ygb3B0cy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcixcbiAgICAgICAgZW5jb2RlVmFsdWVzT25seTogdHlwZW9mIG9wdHMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICBmb3JtYXR0ZXI6IGZvcm1hdHRlcixcbiAgICAgICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdCwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IG9iaiA9IG9iamVjdDtcbiAgICBjb25zdCBvcHRpb25zID0gbm9ybWFsaXplX3N0cmluZ2lmeV9vcHRpb25zKG9wdHMpO1xuICAgIGxldCBvYmpfa2V5cztcbiAgICBsZXQgZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNfYXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpfa2V5cyA9IGZpbHRlcjtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlfcHJlZml4X2dlbmVyYXRvcnNbb3B0aW9ucy5hcnJheUZvcm1hdF07XG4gICAgY29uc3QgY29tbWFSb3VuZFRyaXAgPSBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIG9wdGlvbnMuY29tbWFSb3VuZFRyaXA7XG4gICAgaWYgKCFvYmpfa2V5cykge1xuICAgICAgICBvYmpfa2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqX2tleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cbiAgICBjb25zdCBzaWRlQ2hhbm5lbCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpfa2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBrZXkgPSBvYmpfa2V5c1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoX3RvX2FycmF5KGtleXMsIGlubmVyX3N0cmluZ2lmeShvYmpba2V5XSwga2V5LCBcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgb3B0aW9ucy5hbGxvd0VtcHR5QXJyYXlzLCBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZywgb3B0aW9ucy5za2lwTnVsbHMsIG9wdGlvbnMuZW5jb2RlRG90SW5LZXlzLCBvcHRpb25zLmVuY29kZSA/IG9wdGlvbnMuZW5jb2RlciA6IG51bGwsIG9wdGlvbnMuZmlsdGVyLCBvcHRpb25zLnNvcnQsIG9wdGlvbnMuYWxsb3dEb3RzLCBvcHRpb25zLnNlcmlhbGl6ZURhdGUsIG9wdGlvbnMuZm9ybWF0LCBvcHRpb25zLmZvcm1hdHRlciwgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LCBvcHRpb25zLmNoYXJzZXQsIHNpZGVDaGFubmVsKSk7XG4gICAgfVxuICAgIGNvbnN0IGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gICAgbGV0IHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5naWZ5Lm1qcy5tYXAiXSwibmFtZXMiOlsiZW5jb2RlIiwiaXNfYnVmZmVyIiwibWF5YmVfbWFwIiwiZGVmYXVsdF9mb3JtYXQiLCJmb3JtYXR0ZXJzIiwiaGFzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycyIsImJyYWNrZXRzIiwicHJlZml4IiwiU3RyaW5nIiwiY29tbWEiLCJpbmRpY2VzIiwia2V5IiwicmVwZWF0IiwiaXNfYXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwicHVzaF90b19hcnJheSIsImFyciIsInZhbHVlX29yX2FycmF5IiwiYXBwbHkiLCJ0b19JU08iLCJEYXRlIiwidG9JU09TdHJpbmciLCJkZWZhdWx0cyIsImFkZFF1ZXJ5UHJlZml4IiwiYWxsb3dEb3RzIiwiYWxsb3dFbXB0eUFycmF5cyIsImFycmF5Rm9ybWF0IiwiY2hhcnNldCIsImNoYXJzZXRTZW50aW5lbCIsImRlbGltaXRlciIsImVuY29kZURvdEluS2V5cyIsImVuY29kZXIiLCJlbmNvZGVWYWx1ZXNPbmx5IiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJjYWxsIiwic2tpcE51bGxzIiwic3RyaWN0TnVsbEhhbmRsaW5nIiwiaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlIiwidiIsInNlbnRpbmVsIiwiaW5uZXJfc3RyaW5naWZ5Iiwib2JqZWN0IiwiZ2VuZXJhdGVBcnJheVByZWZpeCIsImNvbW1hUm91bmRUcmlwIiwiZmlsdGVyIiwic29ydCIsInNpZGVDaGFubmVsIiwib2JqIiwidG1wX3NjIiwic3RlcCIsImZpbmRfZmxhZyIsImdldCIsInVuZGVmaW5lZCIsInBvcyIsIlJhbmdlRXJyb3IiLCJ2YWx1ZSIsImtleV92YWx1ZSIsInZhbHVlcyIsIm9ial9rZXlzIiwibGVuZ3RoIiwiam9pbiIsImtleXMiLCJlbmNvZGVkX3ByZWZpeCIsInJlcGxhY2UiLCJhZGp1c3RlZF9wcmVmaXgiLCJqIiwiZW5jb2RlZF9rZXkiLCJrZXlfcHJlZml4Iiwic2V0IiwidmFsdWVTaWRlQ2hhbm5lbCIsIldlYWtNYXAiLCJub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMiLCJvcHRzIiwiVHlwZUVycm9yIiwic3RyaW5naWZ5Iiwib3B0aW9ucyIsImkiLCJqb2luZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/internal/qs/stringify.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/internal/qs/utils.mjs":
/*!***************************************************!*\
  !*** ./node_modules/openai/internal/qs/utils.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign_single_source: () => (/* binding */ assign_single_source),\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   compact: () => (/* binding */ compact),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   is_buffer: () => (/* binding */ is_buffer),\n/* harmony export */   is_regexp: () => (/* binding */ is_regexp),\n/* harmony export */   maybe_map: () => (/* binding */ maybe_map),\n/* harmony export */   merge: () => (/* binding */ merge)\n/* harmony export */ });\n/* harmony import */ var _formats_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formats.mjs */ \"(rsc)/./node_modules/openai/internal/qs/formats.mjs\");\n\nconst has = Object.prototype.hasOwnProperty;\nconst is_array = Array.isArray;\nconst hex_table = (()=>{\n    const array = [];\n    for(let i = 0; i < 256; ++i){\n        array.push(\"%\" + ((i < 16 ? \"0\" : \"\") + i.toString(16)).toUpperCase());\n    }\n    return array;\n})();\nfunction compact_queue(queue) {\n    while(queue.length > 1){\n        const item = queue.pop();\n        if (!item) continue;\n        const obj = item.obj[item.prop];\n        if (is_array(obj)) {\n            const compacted = [];\n            for(let j = 0; j < obj.length; ++j){\n                if (typeof obj[j] !== \"undefined\") {\n                    compacted.push(obj[j]);\n                }\n            }\n            // @ts-ignore\n            item.obj[item.prop] = compacted;\n        }\n    }\n}\nfunction array_to_object(source, options) {\n    const obj = options && options.plainObjects ? Object.create(null) : {};\n    for(let i = 0; i < source.length; ++i){\n        if (typeof source[i] !== \"undefined\") {\n            obj[i] = source[i];\n        }\n    }\n    return obj;\n}\nfunction merge(target, source, options = {}) {\n    if (!source) {\n        return target;\n    }\n    if (typeof source !== \"object\") {\n        if (is_array(target)) {\n            target.push(source);\n        } else if (target && typeof target === \"object\") {\n            if (options && (options.plainObjects || options.allowPrototypes) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [\n                target,\n                source\n            ];\n        }\n        return target;\n    }\n    if (!target || typeof target !== \"object\") {\n        return [\n            target\n        ].concat(source);\n    }\n    let mergeTarget = target;\n    if (is_array(target) && !is_array(source)) {\n        // @ts-ignore\n        mergeTarget = array_to_object(target, options);\n    }\n    if (is_array(target) && is_array(source)) {\n        source.forEach(function(item, i) {\n            if (has.call(target, i)) {\n                const targetItem = target[i];\n                if (targetItem && typeof targetItem === \"object\" && item && typeof item === \"object\") {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n    return Object.keys(source).reduce(function(acc, key) {\n        const value = source[key];\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n}\nfunction assign_single_source(target, source) {\n    return Object.keys(source).reduce(function(acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n}\nfunction decode(str, _, charset) {\n    const strWithoutPlus = str.replace(/\\+/g, \" \");\n    if (charset === \"iso-8859-1\") {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n}\nconst limit = 1024;\nconst encode = (str, _defaultEncoder, charset, _kind, format)=>{\n    // This code was originally written by Brian White for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n    let string = str;\n    if (typeof str === \"symbol\") {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== \"string\") {\n        string = String(str);\n    }\n    if (charset === \"iso-8859-1\") {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {\n            return \"%26%23\" + parseInt($0.slice(2), 16) + \"%3B\";\n        });\n    }\n    let out = \"\";\n    for(let j = 0; j < string.length; j += limit){\n        const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        const arr = [];\n        for(let i = 0; i < segment.length; ++i){\n            let c = segment.charCodeAt(i);\n            if (c === 0x2d || // -\n            c === 0x2e || // .\n            c === 0x5f || // _\n            c === 0x7e || // ~\n            c >= 0x30 && c <= 0x39 || // 0-9\n            c >= 0x41 && c <= 0x5a || // a-z\n            c >= 0x61 && c <= 0x7a || // A-Z\n            format === _formats_mjs__WEBPACK_IMPORTED_MODULE_0__.RFC1738 && (c === 0x28 || c === 0x29) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n            if (c < 0x80) {\n                arr[arr.length] = hex_table[c];\n                continue;\n            }\n            if (c < 0x800) {\n                arr[arr.length] = hex_table[0xc0 | c >> 6] + hex_table[0x80 | c & 0x3f];\n                continue;\n            }\n            if (c < 0xd800 || c >= 0xe000) {\n                arr[arr.length] = hex_table[0xe0 | c >> 12] + hex_table[0x80 | c >> 6 & 0x3f] + hex_table[0x80 | c & 0x3f];\n                continue;\n            }\n            i += 1;\n            c = 0x10000 + ((c & 0x3ff) << 10 | segment.charCodeAt(i) & 0x3ff);\n            arr[arr.length] = hex_table[0xf0 | c >> 18] + hex_table[0x80 | c >> 12 & 0x3f] + hex_table[0x80 | c >> 6 & 0x3f] + hex_table[0x80 | c & 0x3f];\n        }\n        out += arr.join(\"\");\n    }\n    return out;\n};\nfunction compact(value) {\n    const queue = [\n        {\n            obj: {\n                o: value\n            },\n            prop: \"o\"\n        }\n    ];\n    const refs = [];\n    for(let i = 0; i < queue.length; ++i){\n        const item = queue[i];\n        // @ts-ignore\n        const obj = item.obj[item.prop];\n        const keys = Object.keys(obj);\n        for(let j = 0; j < keys.length; ++j){\n            const key = keys[j];\n            const val = obj[key];\n            if (typeof val === \"object\" && val !== null && refs.indexOf(val) === -1) {\n                queue.push({\n                    obj: obj,\n                    prop: key\n                });\n                refs.push(val);\n            }\n        }\n    }\n    compact_queue(queue);\n    return value;\n}\nfunction is_regexp(obj) {\n    return Object.prototype.toString.call(obj) === \"[object RegExp]\";\n}\nfunction is_buffer(obj) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\nfunction combine(a, b) {\n    return [].concat(a, b);\n}\nfunction maybe_map(val, fn) {\n    if (is_array(val)) {\n        const mapped = [];\n        for(let i = 0; i < val.length; i += 1){\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n} //# sourceMappingURL=utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3V0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ3hDLE1BQU1DLE1BQU1DLE9BQU9DLFNBQVMsQ0FBQ0MsY0FBYztBQUMzQyxNQUFNQyxXQUFXQyxNQUFNQyxPQUFPO0FBQzlCLE1BQU1DLFlBQVksQ0FBQztJQUNmLE1BQU1DLFFBQVEsRUFBRTtJQUNoQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSSxLQUFLLEVBQUVBLEVBQUc7UUFDMUJELE1BQU1FLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQ0QsSUFBSSxLQUFLLE1BQU0sRUFBQyxJQUFLQSxFQUFFRSxRQUFRLENBQUMsR0FBRSxFQUFHQyxXQUFXO0lBQ3ZFO0lBQ0EsT0FBT0o7QUFDWDtBQUNBLFNBQVNLLGNBQWNDLEtBQUs7SUFDeEIsTUFBT0EsTUFBTUMsTUFBTSxHQUFHLEVBQUc7UUFDckIsTUFBTUMsT0FBT0YsTUFBTUcsR0FBRztRQUN0QixJQUFJLENBQUNELE1BQ0Q7UUFDSixNQUFNRSxNQUFNRixLQUFLRSxHQUFHLENBQUNGLEtBQUtHLElBQUksQ0FBQztRQUMvQixJQUFJZixTQUFTYyxNQUFNO1lBQ2YsTUFBTUUsWUFBWSxFQUFFO1lBQ3BCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJSCxJQUFJSCxNQUFNLEVBQUUsRUFBRU0sRUFBRztnQkFDakMsSUFBSSxPQUFPSCxHQUFHLENBQUNHLEVBQUUsS0FBSyxhQUFhO29CQUMvQkQsVUFBVVYsSUFBSSxDQUFDUSxHQUFHLENBQUNHLEVBQUU7Z0JBQ3pCO1lBQ0o7WUFDQSxhQUFhO1lBQ2JMLEtBQUtFLEdBQUcsQ0FBQ0YsS0FBS0csSUFBSSxDQUFDLEdBQUdDO1FBQzFCO0lBQ0o7QUFDSjtBQUNBLFNBQVNFLGdCQUFnQkMsTUFBTSxFQUFFQyxPQUFPO0lBQ3BDLE1BQU1OLE1BQU1NLFdBQVdBLFFBQVFDLFlBQVksR0FBR3hCLE9BQU95QixNQUFN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QUkwRCxXQUFXLElBQUkxRCxJQUFJMEQsV0FBVyxDQUFDQyxRQUFRLElBQUkzRCxJQUFJMEQsV0FBVyxDQUFDQyxRQUFRLENBQUMzRCxJQUFHO0FBQ3pGO0FBQ08sU0FBUzRELFFBQVFDLENBQUMsRUFBRUMsQ0FBQztJQUN4QixPQUFPLEVBQUUsQ0FBQ2pELE1BQU0sQ0FBQ2dELEdBQUdDO0FBQ3hCO0FBQ08sU0FBU0MsVUFBVVQsR0FBRyxFQUFFVSxFQUFFO0lBQzdCLElBQUk5RSxTQUFTb0UsTUFBTTtRQUNmLE1BQU1XLFNBQVMsRUFBRTtRQUNqQixJQUFLLElBQUkxRSxJQUFJLEdBQUdBLElBQUkrRCxJQUFJekQsTUFBTSxFQUFFTixLQUFLLEVBQUc7WUFDcEMwRSxPQUFPekUsSUFBSSxDQUFDd0UsR0FBR1YsR0FBRyxDQUFDL0QsRUFBRTtRQUN6QjtRQUNBLE9BQU8wRTtJQUNYO0lBQ0EsT0FBT0QsR0FBR1Y7QUFDZCxFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3V0aWxzLm1qcz82ZmZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJGQzE3MzggfSBmcm9tIFwiLi9mb3JtYXRzLm1qc1wiO1xuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGhleF90YWJsZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn0pKCk7XG5mdW5jdGlvbiBjb21wYWN0X3F1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcbiAgICAgICAgaWYgKGlzX2FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBhY3RlZCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXJyYXlfdG9fb2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc19hcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8XG4gICAgICAgICAgICAgICAgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuICAgIGxldCBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNfYXJyYXkodGFyZ2V0KSAmJiAhaXNfYXJyYXkoc291cmNlKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlfdG9fb2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc19hcnJheSh0YXJnZXQpICYmIGlzX2FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbl9zaW5nbGVfc291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHN0ciwgXywgY2hhcnNldCkge1xuICAgIGNvbnN0IHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn1cbmNvbnN0IGxpbWl0ID0gMTAyNDtcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSAoc3RyLCBfZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQsIF9raW5kLCBmb3JtYXQpID0+IHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGxldCBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgb3V0ID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHJpbmcubGVuZ3RoOyBqICs9IGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzdHJpbmcubGVuZ3RoID49IGxpbWl0ID8gc3RyaW5nLnNsaWNlKGosIGogKyBsaW1pdCkgOiBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBjID0gc2VnbWVudC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09IDB4MmQgfHwgLy8gLVxuICAgICAgICAgICAgICAgIGMgPT09IDB4MmUgfHwgLy8gLlxuICAgICAgICAgICAgICAgIGMgPT09IDB4NWYgfHwgLy8gX1xuICAgICAgICAgICAgICAgIGMgPT09IDB4N2UgfHwgLy8gflxuICAgICAgICAgICAgICAgIChjID49IDB4MzAgJiYgYyA8PSAweDM5KSB8fCAvLyAwLTlcbiAgICAgICAgICAgICAgICAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSkgfHwgLy8gYS16XG4gICAgICAgICAgICAgICAgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N2EpIHx8IC8vIEEtWlxuICAgICAgICAgICAgICAgIChmb3JtYXQgPT09IFJGQzE3MzggJiYgKGMgPT09IDB4MjggfHwgYyA9PT0gMHgyOSkpIC8vICggKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gc2VnbWVudC5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBoZXhfdGFibGVbY107XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gaGV4X3RhYmxlWzB4YzAgfCAoYyA+PiA2KV0gKyBoZXhfdGFibGVbMHg4MCB8IChjICYgMHgzZildO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPCAweGQ4MDAgfHwgYyA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPVxuICAgICAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHhlMCB8IChjID4+IDEyKV0gKyBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNmZikgPDwgMTApIHwgKHNlZ21lbnQuY2hhckNvZGVBdChpKSAmIDB4M2ZmKSk7XG4gICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPVxuICAgICAgICAgICAgICAgIGhleF90YWJsZVsweGYwIHwgKGMgPj4gMTgpXSArXG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M2YpXSArXG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICtcbiAgICAgICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gYXJyLmpvaW4oJycpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufTtcbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgY29uc3QgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIGNvbnN0IHJlZnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgY29uc3QgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBhY3RfcXVldWUocXVldWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc19yZWdleHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc19idWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXliZV9tYXAodmFsLCBmbikge1xuICAgIGlmIChpc19hcnJheSh2YWwpKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbWFwcGVkLnB1c2goZm4odmFsW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZuKHZhbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5tanMubWFwIl0sIm5hbWVzIjpbIlJGQzE3MzgiLCJoYXMiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImlzX2FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiaGV4X3RhYmxlIiwiYXJyYXkiLCJpIiwicHVzaCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJjb21wYWN0X3F1ZXVlIiwicXVldWUiLCJsZW5ndGgiLCJpdGVtIiwicG9wIiwib2JqIiwicHJvcCIsImNvbXBhY3RlZCIsImoiLCJhcnJheV90b19vYmplY3QiLCJzb3VyY2UiLCJvcHRpb25zIiwicGxhaW5PYmplY3RzIiwiY3JlYXRlIiwibWVyZ2UiLCJ0YXJnZXQiLCJhbGxvd1Byb3RvdHlwZXMiLCJjYWxsIiwiY29uY2F0IiwibWVyZ2VUYXJnZXQiLCJmb3JFYWNoIiwidGFyZ2V0SXRlbSIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJrZXkiLCJ2YWx1ZSIsImFzc2lnbl9zaW5nbGVfc291cmNlIiwiZGVjb2RlIiwic3RyIiwiXyIsImNoYXJzZXQiLCJzdHJXaXRob3V0UGx1cyIsInJlcGxhY2UiLCJ1bmVzY2FwZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImUiLCJsaW1pdCIsImVuY29kZSIsIl9kZWZhdWx0RW5jb2RlciIsIl9raW5kIiwiZm9ybWF0Iiwic3RyaW5nIiwiU3ltYm9sIiwiU3RyaW5nIiwiZXNjYXBlIiwiJDAiLCJwYXJzZUludCIsInNsaWNlIiwib3V0Iiwic2VnbWVudCIsImFyciIsImMiLCJjaGFyQ29kZUF0IiwiY2hhckF0Iiwiam9pbiIsImNvbXBhY3QiLCJvIiwicmVmcyIsInZhbCIsImluZGV4T2YiLCJpc19yZWdleHAiLCJpc19idWZmZXIiLCJjb25zdHJ1Y3RvciIsImlzQnVmZmVyIiwiY29tYmluZSIsImEiLCJiIiwibWF5YmVfbWFwIiwiZm4iLCJtYXBwZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/internal/qs/utils.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/AbstractChatCompletionRunner.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/openai/lib/AbstractChatCompletionRunner.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractChatCompletionRunner: () => (/* binding */ AbstractChatCompletionRunner)\n/* harmony export */ });\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RunnableFunction.mjs */ \"(rsc)/./node_modules/openai/lib/RunnableFunction.mjs\");\n/* harmony import */ var _chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chatCompletionUtils.mjs */ \"(rsc)/./node_modules/openai/lib/chatCompletionUtils.mjs\");\n/* harmony import */ var _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventStream.mjs */ \"(rsc)/./node_modules/openai/lib/EventStream.mjs\");\n/* harmony import */ var openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai/lib/parser */ \"(rsc)/./node_modules/openai/lib/parser.mjs\");\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\n\n\n\n\n\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nclass AbstractChatCompletionRunner extends _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__.EventStream {\n    constructor(){\n        super(...arguments);\n        _AbstractChatCompletionRunner_instances.add(this);\n        this._chatCompletions = [];\n        this.messages = [];\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit(\"chatCompletion\", chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message) this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        if (!(\"content\" in message)) message.content = null;\n        this.messages.push(message);\n        if (emit) {\n            this._emit(\"message\", message);\n            if (((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isFunctionMessage)(message) || (0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isToolMessage)(message)) && message.content) {\n                // Note, this assumes that {role: 'tool', content: …} is always the result of a call of tool of type=function.\n                this._emit(\"functionCallResult\", message.content);\n            } else if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.function_call) {\n                this._emit(\"functionCall\", message.function_call);\n            } else if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls){\n                    if (tool_call.type === \"function\") {\n                        this._emit(\"functionCall\", tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */ async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion) throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"stream ended without producing a ChatCompletion\");\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalContent() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalMessage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalFunctionCall() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n    }\n    async finalFunctionCallResult() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [\n            ...this._chatCompletions\n        ];\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion) this._emit(\"finalChatCompletion\", completion);\n        const finalMessage = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n        if (finalMessage) this._emit(\"finalMessage\", finalMessage);\n        const finalContent = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent) this._emit(\"finalContent\", finalContent);\n        const finalFunctionCall = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n        if (finalFunctionCall) this._emit(\"finalFunctionCall\", finalFunctionCall);\n        const finalFunctionCallResult = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n        if (finalFunctionCallResult != null) this._emit(\"finalFunctionCallResult\", finalFunctionCallResult);\n        if (this._chatCompletions.some((c)=>c.usage)) {\n            this._emit(\"totalUsage\", __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await client.chat.completions.create({\n            ...params,\n            stream: false\n        }, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        return this._addChatCompletion((0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.parseChatCompletion)(chatCompletion, params));\n    }\n    async _runChatCompletion(client, params, options) {\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(client, params, options);\n    }\n    async _runFunctions(client, params, options) {\n        const role = \"function\";\n        const { function_call = \"auto\", stream, ...restParams } = params;\n        const singleFunctionToCall = typeof function_call !== \"string\" && function_call?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.functions){\n            functionsByName[f.name || f.function.name] = f;\n        }\n        const functions = params.functions.map((f)=>({\n                name: f.name || f.function.name,\n                parameters: f.parameters,\n                description: f.description\n            }));\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        for(let i = 0; i < maxChatCompletions; ++i){\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                function_call,\n                functions,\n                messages: [\n                    ...this.messages\n                ]\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.function_call) return;\n            const { name, arguments: args } = message.function_call;\n            const fn = functionsByName[name];\n            if (!fn) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f)=>JSON.stringify(f.name)).join(\", \")}. Please try again`;\n                this._addMessage({\n                    role,\n                    name,\n                    content\n                });\n                continue;\n            } else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                this._addMessage({\n                    role,\n                    name,\n                    content\n                });\n                continue;\n            }\n            let parsed;\n            try {\n                parsed = (0,_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n            } catch (error) {\n                this._addMessage({\n                    role,\n                    name,\n                    content: error instanceof Error ? error.message : String(error)\n                });\n                continue;\n            }\n            // @ts-expect-error it can't rule out `never` type.\n            const rawContent = await fn.function(parsed, this);\n            const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n            this._addMessage({\n                role,\n                name,\n                content\n            });\n            if (singleFunctionToCall) return;\n        }\n    }\n    async _runTools(client, params, options) {\n        const role = \"tool\";\n        const { tool_choice = \"auto\", stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== \"string\" && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        // TODO(someday): clean this logic up\n        const inputTools = params.tools.map((tool)=>{\n            if ((0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableTool)(tool)) {\n                if (!tool.$callback) {\n                    throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"Tool given to `.runTools()` that does not have an associated function\");\n                }\n                return {\n                    type: \"function\",\n                    function: {\n                        function: tool.$callback,\n                        name: tool.function.name,\n                        description: tool.function.description || \"\",\n                        parameters: tool.function.parameters,\n                        parse: tool.$parseRaw,\n                        strict: true\n                    }\n                };\n            }\n            return tool;\n        });\n        const functionsByName = {};\n        for (const f of inputTools){\n            if (f.type === \"function\") {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = \"tools\" in params ? inputTools.map((t)=>t.type === \"function\" ? {\n                type: \"function\",\n                function: {\n                    name: t.function.name || t.function.function.name,\n                    parameters: t.function.parameters,\n                    description: t.function.description,\n                    strict: t.function.strict\n                }\n            } : t) : undefined;\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        for(let i = 0; i < maxChatCompletions; ++i){\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [\n                    ...this.messages\n                ]\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls?.length) {\n                return;\n            }\n            for (const tool_call of message.tool_calls){\n                if (tool_call.type !== \"function\") continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName).map((name)=>JSON.stringify(name)).join(\", \")}. Please try again`;\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                } else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = (0,_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n                } catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({\n                    role,\n                    tool_call_id,\n                    content\n                });\n                if (singleFunctionToCall) {\n                    return;\n                }\n            }\n        }\n        return;\n    }\n}\n_AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while(i-- > 0){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message)) {\n            const { function_call, ...rest } = message;\n            // TODO: support audio here\n            const ret = {\n                ...rest,\n                content: message.content ?? null,\n                refusal: message.refusal ?? null\n            };\n            if (function_call) {\n                ret.function_call = function_call;\n            }\n            return ret;\n        }\n    }\n    throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"stream ended without producing a ChatCompletionMessage with role=assistant\");\n}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall() {\n    for(let i = this.messages.length - 1; i >= 0; i--){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message?.function_call) {\n            return message.function_call;\n        }\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message?.tool_calls?.length) {\n            return message.tool_calls.at(-1)?.function;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult() {\n    for(let i = this.messages.length - 1; i >= 0; i--){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isFunctionMessage)(message) && message.content != null) {\n            return message.content;\n        }\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isToolMessage)(message) && message.content != null && typeof message.content === \"string\" && this.messages.some((x)=>x.role === \"assistant\" && x.tool_calls?.some((y)=>y.type === \"function\" && y.id === message.tool_call_id))) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0\n    };\n    for (const { usage } of this._chatCompletions){\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.\");\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return typeof rawContent === \"string\" ? rawContent : rawContent === undefined ? \"undefined\" : JSON.stringify(rawContent);\n}; //# sourceMappingURL=AbstractChatCompletionRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNOLFlBQVlHLElBQUlBLEVBQUVJLEtBQUssR0FBR04sTUFBTU8sR0FBRyxDQUFDUjtBQUN4RjtBQUNBLElBQUlTLHlDQUF5Q0MsK0NBQStDQywrQ0FBK0NDLG9EQUFvREMsMERBQTBEQyxtREFBbURDLDhDQUE4Q0M7QUFDL1M7QUFDMkI7QUFDMkI7QUFDakQ7QUFDNEI7QUFDNUUsTUFBTVMsK0JBQStCO0FBQzlCLE1BQU1DLHFDQUFxQ0oseURBQVdBO0lBQ3pESyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNUbkIsd0NBQXdDb0IsR0FBRyxDQUFDLElBQUk7UUFDaEQsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxFQUFFO1FBQzFCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLEVBQUU7SUFDdEI7SUFDQUMsbUJBQW1CQyxjQUFjLEVBQUU7UUFDL0IsSUFBSSxDQUFDSCxnQkFBZ0IsQ0FBQ0ksSUFBSSxDQUFDRDtRQUMzQixJQUFJLENBQUNFLEtBQUssQ0FBQyxrQkFBa0JGO1FBQzdCLE1BQU1HLFVBQVVILGVBQWVJLE9BQU8sQ0FBQyxFQUFFLEVBQUVEO1FBQzNDLElBQUlBLFNBQ0EsSUFBSSxDQUFD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QUF5RCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qcz9iZjQ5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdDtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSAnb3BlbmFpL2Vycm9yJztcbmltcG9ydCB7IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZSwgfSBmcm9tIFwiLi9SdW5uYWJsZUZ1bmN0aW9uLm1qc1wiO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlLCBpc0Z1bmN0aW9uTWVzc2FnZSwgaXNUb29sTWVzc2FnZSB9IGZyb20gXCIuL2NoYXRDb21wbGV0aW9uVXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFdmVudFN0cmVhbSB9IGZyb20gXCIuL0V2ZW50U3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgaXNBdXRvUGFyc2FibGVUb29sLCBwYXJzZUNoYXRDb21wbGV0aW9uIH0gZnJvbSAnb3BlbmFpL2xpYi9wYXJzZXInO1xuY29uc3QgREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyA9IDEwO1xuZXhwb3J0IGNsYXNzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIgZXh0ZW5kcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NoYXRDb21wbGV0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gW107XG4gICAgfVxuICAgIF9hZGRDaGF0Q29tcGxldGlvbihjaGF0Q29tcGxldGlvbikge1xuICAgICAgICB0aGlzLl9jaGF0Q29tcGxldGlvbnMucHVzaChjaGF0Q29tcGxldGlvbik7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2NoYXRDb21wbGV0aW9uJywgY2hhdENvbXBsZXRpb24pO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpXG4gICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gY2hhdENvbXBsZXRpb247XG4gICAgfVxuICAgIF9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQgPSB0cnVlKSB7XG4gICAgICAgIGlmICghKCdjb250ZW50JyBpbiBtZXNzYWdlKSlcbiAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgaWYgKGVtaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICgoaXNGdW5jdGlvbk1lc3NhZ2UobWVzc2FnZSkgfHwgaXNUb29sTWVzc2FnZShtZXNzYWdlKSkgJiYgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gTm90ZSwgdGhpcyBhc3N1bWVzIHRoYXQge3JvbGU6ICd0b29sJywgY29udGVudDog4oCmfSBpcyBhbHdheXMgdGhlIHJlc3VsdCBvZiBhIGNhbGwgb2YgdG9vbCBvZiB0eXBlPWZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbFJlc3VsdCcsIG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsJywgbWVzc2FnZS5mdW5jdGlvbl9jYWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xfY2FsbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGwnLCB0b29sX2NhbGwuZnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGZpbmFsIENoYXRDb21wbGV0aW9uLCBvciByZWplY3RzXG4gICAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsQ2hhdENvbXBsZXRpb24oKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFjb21wbGV0aW9uKVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbicpO1xuICAgICAgICByZXR1cm4gY29tcGxldGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgZmluYWwgQ2hhdENvbXBsZXRpb25NZXNzYWdlLCBvciByZWplY3RzXG4gICAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbENvbnRlbnQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHRoZSBmaW5hbCBhc3Npc3RhbnQgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHJlc3BvbnNlLFxuICAgICAqIG9yIHJlamVjdHMgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbE1lc3NhZ2UoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlIGZpbmFsIEZ1bmN0aW9uQ2FsbCwgb3IgcmVqZWN0c1xuICAgICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxGdW5jdGlvbkNhbGwoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgYXN5bmMgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgYXN5bmMgdG90YWxVc2FnZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGFsbENoYXRDb21wbGV0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9jaGF0Q29tcGxldGlvbnNdO1xuICAgIH1cbiAgICBfZW1pdEZpbmFsKCkge1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGNvbXBsZXRpb24pXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbENoYXRDb21wbGV0aW9uJywgY29tcGxldGlvbik7XG4gICAgICAgIGNvbnN0IGZpbmFsTWVzc2FnZSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxNZXNzYWdlKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxNZXNzYWdlJywgZmluYWxNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZmluYWxDb250ZW50ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbENvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbENvbnRlbnQnLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICBjb25zdCBmaW5hbEZ1bmN0aW9uQ2FsbCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGwpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbEZ1bmN0aW9uQ2FsbClcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ZpbmFsRnVuY3Rpb25DYWxsJywgZmluYWxGdW5jdGlvbkNhbGwpO1xuICAgICAgICBjb25zdCBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQnLCBmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCk7XG4gICAgICAgIGlmICh0aGlzLl9jaGF0Q29tcGxldGlvbnMuc29tZSgoYykgPT4gYy51c2FnZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RvdGFsVXNhZ2UnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UpLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3ZhbGlkYXRlUGFyYW1zKS5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHsgLi4ucGFyYW1zLCBzdHJlYW06IGZhbHNlIH0sIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKHBhcnNlQ2hhdENvbXBsZXRpb24oY2hhdENvbXBsZXRpb24sIHBhcmFtcykpO1xuICAgIH1cbiAgICBhc3luYyBfcnVuQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1bkZ1bmN0aW9ucyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByb2xlID0gJ2Z1bmN0aW9uJztcbiAgICAgICAgY29uc3QgeyBmdW5jdGlvbl9jYWxsID0gJ2F1dG8nLCBzdHJlYW0sIC4uLnJlc3RQYXJhbXMgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgPSB0eXBlb2YgZnVuY3Rpb25fY2FsbCAhPT0gJ3N0cmluZycgJiYgZnVuY3Rpb25fY2FsbD8ubmFtZTtcbiAgICAgICAgY29uc3QgeyBtYXhDaGF0Q29tcGxldGlvbnMgPSBERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TIH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBmdW5jdGlvbnNCeU5hbWUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHBhcmFtcy5mdW5jdGlvbnMpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uc0J5TmFtZVtmLm5hbWUgfHwgZi5mdW5jdGlvbi5uYW1lXSA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnVuY3Rpb25zID0gcGFyYW1zLmZ1bmN0aW9ucy5tYXAoKGYpID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBmLm5hbWUgfHwgZi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogZi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGYuZGVzY3JpcHRpb24sXG4gICAgICAgIH0pKTtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDaGF0Q29tcGxldGlvbnM7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY2hhdENvbXBsZXRpb24gPSBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uX2NhbGwsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb25zLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjaGF0Q29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWVzc2FnZS5mdW5jdGlvbl9jYWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gPSBtZXNzYWdlLmZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uc0J5TmFtZVtuYW1lXTtcbiAgICAgICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgZnVuY3Rpb25fY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uIEF2YWlsYWJsZSBvcHRpb25zIGFyZTogJHtmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZikgPT4gSlNPTi5zdHJpbmdpZnkoZi5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyl9LiBQbGVhc2UgdHJ5IGFnYWluYDtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsICYmIHNpbmdsZUZ1bmN0aW9uVG9DYWxsICE9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIGZ1bmN0aW9uX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiAke0pTT04uc3RyaW5naWZ5KHNpbmdsZUZ1bmN0aW9uVG9DYWxsKX0gcmVxdWVzdGVkLiBQbGVhc2UgdHJ5IGFnYWluYDtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikgPyBhd2FpdCBmbi5wYXJzZShhcmdzKSA6IGFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgcm9sZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpdCBjYW4ndCBydWxlIG91dCBgbmV2ZXJgIHR5cGUuXG4gICAgICAgICAgICBjb25zdCByYXdDb250ZW50ID0gYXdhaXQgZm4uZnVuY3Rpb24ocGFyc2VkLCB0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdCkuY2FsbCh0aGlzLCByYXdDb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCBuYW1lLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfcnVuVG9vbHMoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgcm9sZSA9ICd0b29sJztcbiAgICAgICAgY29uc3QgeyB0b29sX2Nob2ljZSA9ICdhdXRvJywgc3RyZWFtLCAuLi5yZXN0UGFyYW1zIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHNpbmdsZUZ1bmN0aW9uVG9DYWxsID0gdHlwZW9mIHRvb2xfY2hvaWNlICE9PSAnc3RyaW5nJyAmJiB0b29sX2Nob2ljZT8uZnVuY3Rpb24/Lm5hbWU7XG4gICAgICAgIGNvbnN0IHsgbWF4Q2hhdENvbXBsZXRpb25zID0gREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLy8gVE9ETyhzb21lZGF5KTogY2xlYW4gdGhpcyBsb2dpYyB1cFxuICAgICAgICBjb25zdCBpbnB1dFRvb2xzID0gcGFyYW1zLnRvb2xzLm1hcCgodG9vbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSkge1xuICAgICAgICAgICAgICAgIGlmICghdG9vbC4kY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdUb29sIGdpdmVuIHRvIGAucnVuVG9vbHMoKWAgdGhhdCBkb2VzIG5vdCBoYXZlIGFuIGFzc29jaWF0ZWQgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB0b29sLiRjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRvb2wuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmZ1bmN0aW9uLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5mdW5jdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2U6IHRvb2wuJHBhcnNlUmF3LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9vbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uc0J5TmFtZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgaW5wdXRUb29scykge1xuICAgICAgICAgICAgaWYgKGYudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uc0J5TmFtZVtmLmZ1bmN0aW9uLm5hbWUgfHwgZi5mdW5jdGlvbi5mdW5jdGlvbi5uYW1lXSA9IGYuZnVuY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSAndG9vbHMnIGluIHBhcmFtcyA/XG4gICAgICAgICAgICBpbnB1dFRvb2xzLm1hcCgodCkgPT4gdC50eXBlID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0LmZ1bmN0aW9uLm5hbWUgfHwgdC5mdW5jdGlvbi5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdC5mdW5jdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHQuZnVuY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpY3Q6IHQuZnVuY3Rpb24uc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHQpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHBhcmFtcy5tZXNzYWdlcykge1xuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDaGF0Q29tcGxldGlvbnM7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY2hhdENvbXBsZXRpb24gPSBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN0UGFyYW1zLFxuICAgICAgICAgICAgICAgIHRvb2xfY2hvaWNlLFxuICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5tZXNzYWdlc10sXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjaGF0Q29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG1lc3NhZ2UgaW4gQ2hhdENvbXBsZXRpb24gcmVzcG9uc2VgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWVzc2FnZS50b29sX2NhbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9vbF9jYWxsLnR5cGUgIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xfY2FsbF9pZCA9IHRvb2xfY2FsbC5pZDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9ID0gdG9vbF9jYWxsLmZ1bmN0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gZnVuY3Rpb25zQnlOYW1lW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIHRvb2xfY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uIEF2YWlsYWJsZSBvcHRpb25zIGFyZTogJHtPYmplY3Qua2V5cyhmdW5jdGlvbnNCeU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChuYW1lKSA9PiBKU09OLnN0cmluZ2lmeShuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpfS4gUGxlYXNlIHRyeSBhZ2FpbmA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCAmJiBzaW5nbGVGdW5jdGlvblRvQ2FsbCAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYEludmFsaWQgdG9vbF9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gJHtKU09OLnN0cmluZ2lmeShzaW5nbGVGdW5jdGlvblRvQ2FsbCl9IHJlcXVlc3RlZC4gUGxlYXNlIHRyeSBhZ2FpbmA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZCA9IGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikgPyBhd2FpdCBmbi5wYXJzZShhcmdzKSA6IGFyZ3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpdCBjYW4ndCBydWxlIG91dCBgbmV2ZXJgIHR5cGUuXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q29udGVudCA9IGF3YWl0IGZuLmZ1bmN0aW9uKHBhcnNlZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KS5jYWxsKHRoaXMsIHJhd0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UoeyByb2xlLCB0b29sX2NhbGxfaWQsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUZ1bmN0aW9uVG9DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cbl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCgpIHtcbiAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UpLmNhbGwodGhpcykuY29udGVudCA/PyBudWxsO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKCkge1xuICAgIGxldCBpID0gdGhpcy5tZXNzYWdlcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb25fY2FsbCwgLi4ucmVzdCB9ID0gbWVzc2FnZTtcbiAgICAgICAgICAgIC8vIFRPRE86IHN1cHBvcnQgYXVkaW8gaGVyZVxuICAgICAgICAgICAgY29uc3QgcmV0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50ID8/IG51bGwsXG4gICAgICAgICAgICAgICAgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICAgICAgICByZXQuZnVuY3Rpb25fY2FsbCA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlIHdpdGggcm9sZT1hc3Npc3RhbnQnKTtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGwoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZT8uZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2U/LnRvb2xfY2FsbHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UudG9vbF9jYWxscy5hdCgtMSk/LmZ1bmN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uTWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLmNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNUb29sTWVzc2FnZShtZXNzYWdlKSAmJlxuICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLnNvbWUoKHgpID0+IHgucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiZcbiAgICAgICAgICAgICAgICB4LnRvb2xfY2FsbHM/LnNvbWUoKHkpID0+IHkudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB5LmlkID09PSBtZXNzYWdlLnRvb2xfY2FsbF9pZCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5jb250ZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlKCkge1xuICAgIGNvbnN0IHRvdGFsID0ge1xuICAgICAgICBjb21wbGV0aW9uX3Rva2VuczogMCxcbiAgICAgICAgcHJvbXB0X3Rva2VuczogMCxcbiAgICAgICAgdG90YWxfdG9rZW5zOiAwLFxuICAgIH07XG4gICAgZm9yIChjb25zdCB7IHVzYWdlIH0gb2YgdGhpcy5fY2hhdENvbXBsZXRpb25zKSB7XG4gICAgICAgIGlmICh1c2FnZSkge1xuICAgICAgICAgICAgdG90YWwuY29tcGxldGlvbl90b2tlbnMgKz0gdXNhZ2UuY29tcGxldGlvbl90b2tlbnM7XG4gICAgICAgICAgICB0b3RhbC5wcm9tcHRfdG9rZW5zICs9IHVzYWdlLnByb21wdF90b2tlbnM7XG4gICAgICAgICAgICB0b3RhbC50b3RhbF90b2tlbnMgKz0gdXNhZ2UudG90YWxfdG9rZW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b3RhbDtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3ZhbGlkYXRlUGFyYW1zID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5uICE9IG51bGwgJiYgcGFyYW1zLm4gPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2hhdENvbXBsZXRpb24gY29udmVuaWVuY2UgaGVscGVycyBvbmx5IHN1cHBvcnQgbj0xIGF0IHRoaXMgdGltZS4gVG8gdXNlIG4+MSwgcGxlYXNlIHVzZSBjaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSgpIGRpcmVjdGx5LicpO1xuICAgIH1cbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdCA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdChyYXdDb250ZW50KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgcmF3Q29udGVudCA9PT0gJ3N0cmluZycgPyByYXdDb250ZW50XG4gICAgICAgIDogcmF3Q29udGVudCA9PT0gdW5kZWZpbmVkID8gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkocmF3Q29udGVudCkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInZhbHVlIiwiZ2V0IiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50IiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGwiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcyIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdCIsIk9wZW5BSUVycm9yIiwiaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlIiwiaXNBc3Npc3RhbnRNZXNzYWdlIiwiaXNGdW5jdGlvbk1lc3NhZ2UiLCJpc1Rvb2xNZXNzYWdlIiwiRXZlbnRTdHJlYW0iLCJpc0F1dG9QYXJzYWJsZVRvb2wiLCJwYXJzZUNoYXRDb21wbGV0aW9uIiwiREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyIsIkFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsImFkZCIsIl9jaGF0Q29tcGxldGlvbnMiLCJtZXNzYWdlcyIsIl9hZGRDaGF0Q29tcGxldGlvbiIsImNoYXRDb21wbGV0aW9uIiwicHVzaCIsIl9lbWl0IiwibWVzc2FnZSIsImNob2ljZXMiLCJfYWRkTWVzc2FnZSIsImVtaXQiLCJjb250ZW50IiwiZnVuY3Rpb25fY2FsbCIsInRvb2xfY2FsbHMiLCJ0b29sX2NhbGwiLCJ0eXBlIiwiZnVuY3Rpb24iLCJmaW5hbENoYXRDb21wbGV0aW9uIiwiZG9uZSIsImNvbXBsZXRpb24iLCJsZW5ndGgiLCJmaW5hbENvbnRlbnQiLCJmaW5hbE1lc3NhZ2UiLCJmaW5hbEZ1bmN0aW9uQ2FsbCIsImZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0IiwidG90YWxVc2FnZSIsImFsbENoYXRDb21wbGV0aW9ucyIsIl9lbWl0RmluYWwiLCJzb21lIiwiYyIsInVzYWdlIiwiX2NyZWF0ZUNoYXRDb21wbGV0aW9uIiwiY2xpZW50IiwicGFyYW1zIiwib3B0aW9ucyIsInNpZ25hbCIsImFib3J0ZWQiLCJjb250cm9sbGVyIiwiYWJvcnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwic3RyZWFtIiwiX2Nvbm5lY3RlZCIsIl9ydW5DaGF0Q29tcGxldGlvbiIsIl9ydW5GdW5jdGlvbnMiLCJyb2xlIiwicmVzdFBhcmFtcyIsInNpbmdsZUZ1bmN0aW9uVG9DYWxsIiwibmFtZSIsIm1heENoYXRDb21wbGV0aW9ucyIsImZ1bmN0aW9uc0J5TmFtZSIsImZ1bmN0aW9ucyIsIm1hcCIsInBhcmFtZXRlcnMiLCJkZXNjcmlwdGlvbiIsImkiLCJhcmdzIiwiZm4iLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsInBhcnNlZCIsInBhcnNlIiwiZXJyb3IiLCJFcnJvciIsIlN0cmluZyIsInJhd0NvbnRlbnQiLCJfcnVuVG9vbHMiLCJ0b29sX2Nob2ljZSIsImlucHV0VG9vbHMiLCJ0b29scyIsInRvb2wiLCIkY2FsbGJhY2siLCIkcGFyc2VSYXciLCJzdHJpY3QiLCJ0IiwidW5kZWZpbmVkIiwidG9vbF9jYWxsX2lkIiwiaWQiLCJPYmplY3QiLCJrZXlzIiwiV2Vha1NldCIsInJlc3QiLCJyZXQiLCJyZWZ1c2FsIiwiYXQiLCJ4IiwieSIsInRvdGFsIiwiY29tcGxldGlvbl90b2tlbnMiLCJwcm9tcHRfdG9rZW5zIiwidG90YWxfdG9rZW5zIiwibiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/AbstractChatCompletionRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/AssistantStream.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/openai/lib/AssistantStream.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssistantStream: () => (/* binding */ AssistantStream)\n/* harmony export */ });\n/* harmony import */ var openai_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai/core */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var openai_streaming__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/streaming */ \"(rsc)/./node_modules/openai/streaming.mjs\");\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventStream.mjs */ \"(rsc)/./node_modules/openai/lib/EventStream.mjs\");\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _AssistantStream_instances, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;\n\n\n\n\nclass AssistantStream extends _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__.EventStream {\n    constructor(){\n        super(...arguments);\n        _AssistantStream_instances.add(this);\n        //Track all events in a single list for reference\n        _AssistantStream_events.set(this, []);\n        //Used to accumulate deltas\n        //We are accumulating many types so the value here is not strict\n        _AssistantStream_runStepSnapshots.set(this, {});\n        _AssistantStream_messageSnapshots.set(this, {});\n        _AssistantStream_messageSnapshot.set(this, void 0);\n        _AssistantStream_finalRun.set(this, void 0);\n        _AssistantStream_currentContentIndex.set(this, void 0);\n        _AssistantStream_currentContent.set(this, void 0);\n        _AssistantStream_currentToolCallIndex.set(this, void 0);\n        _AssistantStream_currentToolCall.set(this, void 0);\n        //For current snapshot methods\n        _AssistantStream_currentEvent.set(this, void 0);\n        _AssistantStream_currentRunSnapshot.set(this, void 0);\n        _AssistantStream_currentRunStepSnapshot.set(this, void 0);\n    }\n    [(_AssistantStream_events = new WeakMap(), _AssistantStream_runStepSnapshots = new WeakMap(), _AssistantStream_messageSnapshots = new WeakMap(), _AssistantStream_messageSnapshot = new WeakMap(), _AssistantStream_finalRun = new WeakMap(), _AssistantStream_currentContentIndex = new WeakMap(), _AssistantStream_currentContent = new WeakMap(), _AssistantStream_currentToolCallIndex = new WeakMap(), _AssistantStream_currentToolCall = new WeakMap(), _AssistantStream_currentEvent = new WeakMap(), _AssistantStream_currentRunSnapshot = new WeakMap(), _AssistantStream_currentRunStepSnapshot = new WeakMap(), _AssistantStream_instances = new WeakSet(), Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        //Catch all for passing along all events\n        this.on(\"event\", (event)=>{\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            } else {\n                pushQueue.push(event);\n            }\n        });\n        this.on(\"end\", ()=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"abort\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"error\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async ()=>{\n                if (!pushQueue.length) {\n                    if (done) {\n                        return {\n                            value: undefined,\n                            done: true\n                        };\n                    }\n                    return new Promise((resolve, reject)=>readQueue.push({\n                            resolve,\n                            reject\n                        })).then((chunk)=>chunk ? {\n                            value: chunk,\n                            done: false\n                        } : {\n                            value: undefined,\n                            done: true\n                        });\n                }\n                const chunk = pushQueue.shift();\n                return {\n                    value: chunk,\n                    done: false\n                };\n            },\n            return: async ()=>{\n                this.abort();\n                return {\n                    value: undefined,\n                    done: true\n                };\n            }\n        };\n    }\n    static fromReadableStream(stream) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        this._connected();\n        const stream = openai_streaming__WEBPACK_IMPORTED_MODULE_1__.Stream.fromReadableStream(readableStream, this.controller);\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    toReadableStream() {\n        const stream = new openai_streaming__WEBPACK_IMPORTED_MODULE_1__.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n    static createToolAssistantStream(threadId, runId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._runToolAssistantStream(threadId, runId, runs, params, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    async _createToolAssistantStream(run, threadId, runId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await run.submitToolOutputs(threadId, runId, body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static createThreadAssistantStream(params, thread, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._threadAssistantStream(params, thread, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    static createAssistantStream(threadId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._runAssistantStream(threadId, runs, params, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    currentEvent() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentEvent, \"f\");\n    }\n    currentRun() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunSnapshot, \"f\");\n    }\n    currentMessageSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\");\n    }\n    currentRunStepSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunStepSnapshot, \"f\");\n    }\n    async finalRunSteps() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\"));\n    }\n    async finalMessages() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\"));\n    }\n    async finalRun() {\n        await this.done();\n        if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\")) throw Error(\"Final run was not received.\");\n        return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n    }\n    async _createThreadAssistantStream(thread, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await thread.createAndRun(body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    async _createAssistantStream(run, threadId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await run.create(threadId, body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static accumulateDelta(acc, delta) {\n        for (const [key, deltaValue] of Object.entries(delta)){\n            if (!acc.hasOwnProperty(key)) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            let accValue = acc[key];\n            if (accValue === null || accValue === undefined) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // We don't accumulate these special properties\n            if (key === \"index\" || key === \"type\") {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // Type-specific accumulation logic\n            if (typeof accValue === \"string\" && typeof deltaValue === \"string\") {\n                accValue += deltaValue;\n            } else if (typeof accValue === \"number\" && typeof deltaValue === \"number\") {\n                accValue += deltaValue;\n            } else if (openai_core__WEBPACK_IMPORTED_MODULE_3__.isObj(accValue) && openai_core__WEBPACK_IMPORTED_MODULE_3__.isObj(deltaValue)) {\n                accValue = this.accumulateDelta(accValue, deltaValue);\n            } else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {\n                if (accValue.every((x)=>typeof x === \"string\" || typeof x === \"number\")) {\n                    accValue.push(...deltaValue); // Use spread syntax for efficient addition\n                    continue;\n                }\n                for (const deltaEntry of deltaValue){\n                    if (!openai_core__WEBPACK_IMPORTED_MODULE_3__.isObj(deltaEntry)) {\n                        throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);\n                    }\n                    const index = deltaEntry[\"index\"];\n                    if (index == null) {\n                        console.error(deltaEntry);\n                        throw new Error(\"Expected array delta entry to have an `index` property\");\n                    }\n                    if (typeof index !== \"number\") {\n                        throw new Error(`Expected array delta entry \\`index\\` property to be a number but got ${index}`);\n                    }\n                    const accEntry = accValue[index];\n                    if (accEntry == null) {\n                        accValue.push(deltaEntry);\n                    } else {\n                        accValue[index] = this.accumulateDelta(accEntry, deltaEntry);\n                    }\n                }\n                continue;\n            } else {\n                throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);\n            }\n            acc[key] = accValue;\n        }\n        return acc;\n    }\n    _addRun(run) {\n        return run;\n    }\n    async _threadAssistantStream(params, thread, options) {\n        return await this._createThreadAssistantStream(thread, params, options);\n    }\n    async _runAssistantStream(threadId, runs, params, options) {\n        return await this._createAssistantStream(runs, threadId, params, options);\n    }\n    async _runToolAssistantStream(threadId, runId, runs, params, options) {\n        return await this._createToolAssistantStream(runs, threadId, runId, params, options);\n    }\n}\n_AssistantStream_addEvent = function _AssistantStream_addEvent(event) {\n    if (this.ended) return;\n    __classPrivateFieldSet(this, _AssistantStream_currentEvent, event, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleEvent).call(this, event);\n    switch(event.event){\n        case \"thread.created\":\n            break;\n        case \"thread.run.created\":\n        case \"thread.run.queued\":\n        case \"thread.run.in_progress\":\n        case \"thread.run.requires_action\":\n        case \"thread.run.completed\":\n        case \"thread.run.failed\":\n        case \"thread.run.cancelling\":\n        case \"thread.run.cancelled\":\n        case \"thread.run.expired\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRun).call(this, event);\n            break;\n        case \"thread.run.step.created\":\n        case \"thread.run.step.in_progress\":\n        case \"thread.run.step.delta\":\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRunStep).call(this, event);\n            break;\n        case \"thread.message.created\":\n        case \"thread.message.in_progress\":\n        case \"thread.message.delta\":\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleMessage).call(this, event);\n            break;\n        case \"error\":\n            //This is included for completeness, but errors are processed in the SSE event processing so this should not occur\n            throw new Error(\"Encountered an error event in event processing - errors should be processed earlier\");\n    }\n}, _AssistantStream_endRequest = function _AssistantStream_endRequest() {\n    if (this.ended) {\n        throw new openai_error__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`stream has ended, this shouldn't happen`);\n    }\n    if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\")) throw Error(\"Final run has not been received\");\n    return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage(event) {\n    const [accumulatedMessage, newContent] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n    __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, accumulatedMessage, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\")[accumulatedMessage.id] = accumulatedMessage;\n    for (const content of newContent){\n        const snapshotContent = accumulatedMessage.content[content.index];\n        if (snapshotContent?.type == \"text\") {\n            this._emit(\"textCreated\", snapshotContent.text);\n        }\n    }\n    switch(event.event){\n        case \"thread.message.created\":\n            this._emit(\"messageCreated\", event.data);\n            break;\n        case \"thread.message.in_progress\":\n            break;\n        case \"thread.message.delta\":\n            this._emit(\"messageDelta\", event.data.delta, accumulatedMessage);\n            if (event.data.delta.content) {\n                for (const content of event.data.delta.content){\n                    //If it is text delta, emit a text delta event\n                    if (content.type == \"text\" && content.text) {\n                        let textDelta = content.text;\n                        let snapshot = accumulatedMessage.content[content.index];\n                        if (snapshot && snapshot.type == \"text\") {\n                            this._emit(\"textDelta\", textDelta, snapshot.text);\n                        } else {\n                            throw Error(\"The snapshot associated with this text delta is not text or missing\");\n                        }\n                    }\n                    if (content.index != __classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")) {\n                        //See if we have in progress content\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\")) {\n                            switch(__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").type){\n                                case \"text\":\n                                    this._emit(\"textDone\", __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                                case \"image_file\":\n                                    this._emit(\"imageFileDone\", __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                            }\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentContentIndex, content.index, \"f\");\n                    }\n                    __classPrivateFieldSet(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], \"f\");\n                }\n            }\n            break;\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            //We emit the latest content we were working on on completion (including incomplete)\n            if (__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\") !== undefined) {\n                const currentContent = event.data.content[__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")];\n                if (currentContent) {\n                    switch(currentContent.type){\n                        case \"image_file\":\n                            this._emit(\"imageFileDone\", currentContent.image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                        case \"text\":\n                            this._emit(\"textDone\", currentContent.text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                    }\n                }\n            }\n            if (__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\")) {\n                this._emit(\"messageDone\", event.data);\n            }\n            __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, undefined, \"f\");\n    }\n}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep(event) {\n    const accumulatedRunStep = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateRunStep).call(this, event);\n    __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, \"f\");\n    switch(event.event){\n        case \"thread.run.step.created\":\n            this._emit(\"runStepCreated\", event.data);\n            break;\n        case \"thread.run.step.delta\":\n            const delta = event.data.delta;\n            if (delta.step_details && delta.step_details.type == \"tool_calls\" && delta.step_details.tool_calls && accumulatedRunStep.step_details.type == \"tool_calls\") {\n                for (const toolCall of delta.step_details.tool_calls){\n                    if (toolCall.index == __classPrivateFieldGet(this, _AssistantStream_currentToolCallIndex, \"f\")) {\n                        this._emit(\"toolCallDelta\", toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);\n                    } else {\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                            this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCallIndex, toolCall.index, \"f\");\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], \"f\");\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) this._emit(\"toolCallCreated\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    }\n                }\n            }\n            this._emit(\"runStepDelta\", event.data.delta, accumulatedRunStep);\n            break;\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n            __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, undefined, \"f\");\n            const details = event.data.step_details;\n            if (details.type == \"tool_calls\") {\n                if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                    this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n                }\n            }\n            this._emit(\"runStepDone\", event.data, accumulatedRunStep);\n            break;\n        case \"thread.run.step.in_progress\":\n            break;\n    }\n}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent(event) {\n    __classPrivateFieldGet(this, _AssistantStream_events, \"f\").push(event);\n    this._emit(\"event\", event);\n}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep(event) {\n    switch(event.event){\n        case \"thread.run.step.created\":\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            return event.data;\n        case \"thread.run.step.delta\":\n            let snapshot = __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n            if (!snapshot) {\n                throw Error(\"Received a RunStepDelta before creation of a snapshot\");\n            }\n            let data = event.data;\n            if (data.delta) {\n                const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);\n                __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = accumulated;\n            }\n            return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n        case \"thread.run.step.in_progress\":\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            break;\n    }\n    if (__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id]) return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n    throw new Error(\"No snapshot available\");\n}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage(event, snapshot) {\n    let newContent = [];\n    switch(event.event){\n        case \"thread.message.created\":\n            //On creation the snapshot is just the initial message\n            return [\n                event.data,\n                newContent\n            ];\n        case \"thread.message.delta\":\n            if (!snapshot) {\n                throw Error(\"Received a delta with no existing snapshot (there should be one from message creation)\");\n            }\n            let data = event.data;\n            //If this delta does not have content, nothing to process\n            if (data.delta.content) {\n                for (const contentElement of data.delta.content){\n                    if (contentElement.index in snapshot.content) {\n                        let currentContent = snapshot.content[contentElement.index];\n                        snapshot.content[contentElement.index] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);\n                    } else {\n                        snapshot.content[contentElement.index] = contentElement;\n                        // This is a new element\n                        newContent.push(contentElement);\n                    }\n                }\n            }\n            return [\n                snapshot,\n                newContent\n            ];\n        case \"thread.message.in_progress\":\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            //No changes on other thread events\n            if (snapshot) {\n                return [\n                    snapshot,\n                    newContent\n                ];\n            } else {\n                throw Error(\"Received thread message event with no existing snapshot\");\n            }\n    }\n    throw Error(\"Tried to accumulate a non-message event\");\n}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent(contentElement, currentContent) {\n    return AssistantStream.accumulateDelta(currentContent, contentElement);\n}, _AssistantStream_handleRun = function _AssistantStream_handleRun(event) {\n    __classPrivateFieldSet(this, _AssistantStream_currentRunSnapshot, event.data, \"f\");\n    switch(event.event){\n        case \"thread.run.created\":\n            break;\n        case \"thread.run.queued\":\n            break;\n        case \"thread.run.in_progress\":\n            break;\n        case \"thread.run.requires_action\":\n        case \"thread.run.cancelled\":\n        case \"thread.run.failed\":\n        case \"thread.run.completed\":\n        case \"thread.run.expired\":\n            __classPrivateFieldSet(this, _AssistantStream_finalRun, event.data, \"f\");\n            if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n            }\n            break;\n        case \"thread.run.cancelling\":\n            break;\n    }\n}; //# sourceMappingURL=AssistantStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9Bc3Npc3RhbnRTdHJlYW0ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSUEseUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLENBQUM7SUFDcEcsSUFBSUQsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0gsVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNFLElBQUksQ0FBQ0YsTUFBTUksR0FBRyxDQUFDTCxXQUFXLE1BQU0sSUFBSUksVUFBVTtJQUN2RyxPQUFPRixTQUFTLE1BQU1DLElBQUlELFNBQVMsTUFBTUMsRUFBRUcsSUFBSSxDQUFDTixZQUFZRyxJQUFJQSxFQUFFSSxLQUFLLEdBQUdOLE1BQU1PLEdBQUcsQ0FBQ1I7QUFDeEY7QUFDQSxJQUFJUyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVNLEtBQUssRUFBRUwsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0gsVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNFLElBQUksQ0FBQ0YsTUFBTUksR0FBRyxDQUFDTCxXQUFXLE1BQU0sSUFBSUksVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDTixVQUFVTyxTQUFTSixJQUFJQSxFQUFFSSxLQUFLLEdBQUdBLFFBQVFOLE1BQU1TLEdBQUcsQ0FBQ1YsVUFBVU8sUUFBU0E7QUFDeEc7QUFDQSxJQUFJSSw0QkFBNEJDLHlCQUF5QkMsbUNBQW1DQyxtQ0FBbUNDLGtDQUFrQ0MsMkJBQTJC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QUFrQztnQkFDMUZYLHVCQUF1QixJQUFJLEVBQUVXLGtDQUFrQ21DLFdBQVc7WUFDOUU7WUFDQTtRQUNKLEtBQUs7WUFDRDtJQUNSO0FBQ0osR0FDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQXNzaXN0YW50U3RyZWFtLm1qcz84MDBhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZVJ1blN0ZXAsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZUNvbnRlbnQsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICdvcGVuYWkvY29yZSc7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICdvcGVuYWkvc3RyZWFtaW5nJztcbmltcG9ydCB7IEFQSVVzZXJBYm9ydEVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gJ29wZW5haS9lcnJvcic7XG5pbXBvcnQgeyBFdmVudFN0cmVhbSB9IGZyb20gXCIuL0V2ZW50U3RyZWFtLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEFzc2lzdGFudFN0cmVhbSBleHRlbmRzIEV2ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICAvL1RyYWNrIGFsbCBldmVudHMgaW4gYSBzaW5nbGUgbGlzdCBmb3IgcmVmZXJlbmNlXG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fZXZlbnRzLnNldCh0aGlzLCBbXSk7XG4gICAgICAgIC8vVXNlZCB0byBhY2N1bXVsYXRlIGRlbHRhc1xuICAgICAgICAvL1dlIGFyZSBhY2N1bXVsYXRpbmcgbWFueSB0eXBlcyBzbyB0aGUgdmFsdWUgaGVyZSBpcyBub3Qgc3RyaWN0XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cy5zZXQodGhpcywge30pO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4uc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIC8vRm9yIGN1cnJlbnQgc25hcHNob3QgbWV0aG9kc1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgWyhfQXNzaXN0YW50U3RyZWFtX2V2ZW50cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIC8vQ2F0Y2ggYWxsIGZvciBwYXNzaW5nIGFsb25nIGFsbCBldmVudHNcbiAgICAgICAgdGhpcy5vbignZXZlbnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSkpLnRoZW4oKGNodW5rKSA9PiAoY2h1bmsgPyB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS50b1JlYWRhYmxlU3RyZWFtKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBBc3Npc3RhbnRTdHJlYW0oKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Ub29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0ocnVuLCB0aHJlYWRJZCwgcnVuSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBydW4uc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBib2R5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFJ1bihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fdGhyZWFkQXNzaXN0YW50U3RyZWFtKHBhcmFtcywgdGhyZWFkLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBBc3Npc3RhbnRTdHJlYW0oKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Bc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHJ1bnMsIHBhcmFtcywge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIGN1cnJlbnRFdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudFJ1bigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudE1lc3NhZ2VTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudFJ1blN0ZXBTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90LCBcImZcIik7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsUnVuU3RlcHMoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpKTtcbiAgICB9XG4gICAgYXN5bmMgZmluYWxNZXNzYWdlcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLCBcImZcIikpO1xuICAgIH1cbiAgICBhc3luYyBmaW5hbFJ1bigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBcImZcIikpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRmluYWwgcnVuIHdhcyBub3QgcmVjZWl2ZWQuJyk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIFwiZlwiKTtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbSh0aHJlYWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aHJlYWQuY3JlYXRlQW5kUnVuKGJvZHksIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkUnVuKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQXNzaXN0YW50U3RyZWFtKHJ1biwgdGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBydW4uY3JlYXRlKHRocmVhZElkLCBib2R5LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFJ1bihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGFjY3VtdWxhdGVEZWx0YShhY2MsIGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgZGVsdGFWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVsdGEpKSB7XG4gICAgICAgICAgICBpZiAoIWFjYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFjY1ZhbHVlID0gYWNjW2tleV07XG4gICAgICAgICAgICBpZiAoYWNjVmFsdWUgPT09IG51bGwgfHwgYWNjVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGFjY3VtdWxhdGUgdGhlc2Ugc3BlY2lhbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnaW5kZXgnIHx8IGtleSA9PT0gJ3R5cGUnKSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHlwZS1zcGVjaWZpYyBhY2N1bXVsYXRpb24gbG9naWNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlICs9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlICs9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChDb3JlLmlzT2JqKGFjY1ZhbHVlKSAmJiBDb3JlLmlzT2JqKGRlbHRhVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgYWNjVmFsdWUgPSB0aGlzLmFjY3VtdWxhdGVEZWx0YShhY2NWYWx1ZSwgZGVsdGFWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFjY1ZhbHVlKSAmJiBBcnJheS5pc0FycmF5KGRlbHRhVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjY1ZhbHVlLmV2ZXJ5KCh4KSA9PiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHggPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgICAgICAgICBhY2NWYWx1ZS5wdXNoKC4uLmRlbHRhVmFsdWUpOyAvLyBVc2Ugc3ByZWFkIHN5bnRheCBmb3IgZWZmaWNpZW50IGFkZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbHRhRW50cnkgb2YgZGVsdGFWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUNvcmUuaXNPYmooZGVsdGFFbnRyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXJyYXkgZGVsdGEgZW50cnkgdG8gYmUgYW4gb2JqZWN0IGJ1dCBnb3Q6ICR7ZGVsdGFFbnRyeX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRlbHRhRW50cnlbJ2luZGV4J107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSB0byBoYXZlIGFuIGBpbmRleGAgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSBcXGBpbmRleFxcYCBwcm9wZXJ0eSB0byBiZSBhIG51bWJlciBidXQgZ290ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjRW50cnkgPSBhY2NWYWx1ZVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NWYWx1ZS5wdXNoKGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjVmFsdWVbaW5kZXhdID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjRW50cnksIGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuaGFuZGxlZCByZWNvcmQgdHlwZTogJHtrZXl9LCBkZWx0YVZhbHVlOiAke2RlbHRhVmFsdWV9LCBhY2NWYWx1ZTogJHthY2NWYWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjY1trZXldID0gYWNjVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgX2FkZFJ1bihydW4pIHtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgX3RocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKHRocmVhZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1bkFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVBc3Npc3RhbnRTdHJlYW0ocnVucywgdGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5Ub29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHJ1bnMsIHRocmVhZElkLCBydW5JZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG59XG5fQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudChldmVudCkge1xuICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICByZXR1cm47XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCwgZXZlbnQsIFwiZlwiKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQuY3JlYXRlZCc6XG4gICAgICAgICAgICAvL05vIGFjdGlvbiBvbiB0aGlzIGV2ZW50LlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY3JlYXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucXVldWVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGluZyc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1bikuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZXhwaXJlZCc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW5TdGVwKS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZSkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgLy9UaGlzIGlzIGluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3MsIGJ1dCBlcnJvcnMgYXJlIHByb2Nlc3NlZCBpbiB0aGUgU1NFIGV2ZW50IHByb2Nlc3Npbmcgc28gdGhpcyBzaG91bGQgbm90IG9jY3VyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY291bnRlcmVkIGFuIGVycm9yIGV2ZW50IGluIGV2ZW50IHByb2Nlc3NpbmcgLSBlcnJvcnMgc2hvdWxkIGJlIHByb2Nlc3NlZCBlYXJsaWVyJyk7XG4gICAgfVxufSwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBcImZcIikpXG4gICAgICAgIHRocm93IEVycm9yKCdGaW5hbCBydW4gaGFzIG5vdCBiZWVuIHJlY2VpdmVkJyk7XG4gICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3QgW2FjY3VtdWxhdGVkTWVzc2FnZSwgbmV3Q29udGVudF0gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSkuY2FsbCh0aGlzLCBldmVudCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBhY2N1bXVsYXRlZE1lc3NhZ2UsIFwiZlwiKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cywgXCJmXCIpW2FjY3VtdWxhdGVkTWVzc2FnZS5pZF0gPSBhY2N1bXVsYXRlZE1lc3NhZ2U7XG4gICAgZm9yIChjb25zdCBjb250ZW50IG9mIG5ld0NvbnRlbnQpIHtcbiAgICAgICAgY29uc3Qgc25hcHNob3RDb250ZW50ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0Q3JlYXRlZCcsIHNuYXBzaG90Q29udGVudC50ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZUNyZWF0ZWQnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZURlbHRhJywgZXZlbnQuZGF0YS5kZWx0YSwgYWNjdW11bGF0ZWRNZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgaXQgaXMgdGV4dCBkZWx0YSwgZW1pdCBhIHRleHQgZGVsdGEgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PSAndGV4dCcgJiYgY29udGVudC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dERlbHRhID0gY29udGVudC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNuYXBzaG90ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QgJiYgc25hcHNob3QudHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RGVsdGEnLCB0ZXh0RGVsdGEsIHNuYXBzaG90LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBzbmFwc2hvdCBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZXh0IGRlbHRhIGlzIG5vdCB0ZXh0IG9yIG1pc3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5pbmRleCAhPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NlZSBpZiB3ZSBoYXZlIGluIHByb2dyZXNzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RleHREb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikudGV4dCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbWFnZV9maWxlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIFwiZlwiKS5pbWFnZV9maWxlLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIGNvbnRlbnQuaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdLCBcImZcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAgICAgLy9XZSBlbWl0IHRoZSBsYXRlc3QgY29udGVudCB3ZSB3ZXJlIHdvcmtpbmcgb24gb24gY29tcGxldGlvbiAoaW5jbHVkaW5nIGluY29tcGxldGUpXG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBldmVudC5kYXRhLmNvbnRlbnRbX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudENvbnRlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2VfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnaW1hZ2VGaWxlRG9uZScsIGN1cnJlbnRDb250ZW50LmltYWdlX2ZpbGUsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIGN1cnJlbnRDb250ZW50LnRleHQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZURvbmUnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcChldmVudCkge1xuICAgIGNvbnN0IGFjY3VtdWxhdGVkUnVuU3RlcCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVSdW5TdGVwKS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCwgYWNjdW11bGF0ZWRSdW5TdGVwLCBcImZcIik7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc6XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwQ3JlYXRlZCcsIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV2ZW50LmRhdGEuZGVsdGE7XG4gICAgICAgICAgICBpZiAoZGVsdGEuc3RlcF9kZXRhaWxzICYmXG4gICAgICAgICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnICYmXG4gICAgICAgICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMgJiZcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBkZWx0YS5zdGVwX2RldGFpbHMudG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwuaW5kZXggPT0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4LCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRGVsdGEnLCB0b29sQ2FsbCwgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzW3Rvb2xDYWxsLmluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxEb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCwgdG9vbENhbGwuaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIGFjY3VtdWxhdGVkUnVuU3RlcC5zdGVwX2RldGFpbHMudG9vbF9jYWxsc1t0b29sQ2FsbC5pbmRleF0sIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxDcmVhdGVkJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEZWx0YScsIGV2ZW50LmRhdGEuZGVsdGEsIGFjY3VtdWxhdGVkUnVuU3RlcCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IGV2ZW50LmRhdGEuc3RlcF9kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKGRldGFpbHMudHlwZSA9PSAndG9vbF9jYWxscycpIHtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEb25lJywgZXZlbnQuZGF0YSwgYWNjdW11bGF0ZWRSdW5TdGVwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZXZlbnRzLCBcImZcIikucHVzaChldmVudCk7XG4gICAgdGhpcy5fZW1pdCgnZXZlbnQnLCBldmVudCk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVSdW5TdGVwID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgUnVuU3RlcERlbHRhIGJlZm9yZSBjcmVhdGlvbiBvZiBhIHNuYXBzaG90Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YS5kZWx0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY3VtdWxhdGVkID0gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShzbmFwc2hvdCwgZGF0YS5kZWx0YSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSA9IGFjY3VtdWxhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdKVxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNuYXBzaG90IGF2YWlsYWJsZScpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UoZXZlbnQsIHNuYXBzaG90KSB7XG4gICAgbGV0IG5ld0NvbnRlbnQgPSBbXTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICAgICAgLy9PbiBjcmVhdGlvbiB0aGUgc25hcHNob3QgaXMganVzdCB0aGUgaW5pdGlhbCBtZXNzYWdlXG4gICAgICAgICAgICByZXR1cm4gW2V2ZW50LmRhdGEsIG5ld0NvbnRlbnRdO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgZGVsdGEgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCAodGhlcmUgc2hvdWxkIGJlIG9uZSBmcm9tIG1lc3NhZ2UgY3JlYXRpb24pJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAvL0lmIHRoaXMgZGVsdGEgZG9lcyBub3QgaGF2ZSBjb250ZW50LCBub3RoaW5nIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnRFbGVtZW50IG9mIGRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuaW5kZXggaW4gc25hcHNob3QuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb250ZW50ID0gc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50KS5jYWxsKHRoaXMsIGNvbnRlbnRFbGVtZW50LCBjdXJyZW50Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IGNvbnRlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50LnB1c2goY29udGVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc6XG4gICAgICAgICAgICAvL05vIGNoYW5nZXMgb24gb3RoZXIgdGhyZWFkIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUmVjZWl2ZWQgdGhyZWFkIG1lc3NhZ2UgZXZlbnQgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCcpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignVHJpZWQgdG8gYWNjdW11bGF0ZSBhIG5vbi1tZXNzYWdlIGV2ZW50Jyk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudChjb250ZW50RWxlbWVudCwgY3VycmVudENvbnRlbnQpIHtcbiAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShjdXJyZW50Q29udGVudCwgY29udGVudEVsZW1lbnQpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4gPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1bihldmVudCkge1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3QsIGV2ZW50LmRhdGEsIFwiZlwiKTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY3JlYXRlZCc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5xdWV1ZWQnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgZXZlbnQuZGF0YSwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsaW5nJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3Npc3RhbnRTdHJlYW0ubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInZhbHVlIiwiZ2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsIl9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzIiwiX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMiLCJfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4iLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsIiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCJDb3JlIiwiU3RyZWFtIiwiQVBJVXNlckFib3J0RXJyb3IiLCJPcGVuQUlFcnJvciIsIkV2ZW50U3RyZWFtIiwiQXNzaXN0YW50U3RyZWFtIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJhZGQiLCJXZWFrTWFwIiwiV2Vha1NldCIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJwdXNoUXVldWUiLCJyZWFkUXVldWUiLCJkb25lIiwib24iLCJldmVudCIsInJlYWRlciIsInNoaWZ0IiwicmVzb2x2ZSIsInB1c2giLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJlcnIiLCJyZWplY3QiLCJuZXh0IiwiUHJvbWlzZSIsInRoZW4iLCJjaHVuayIsInJldHVybiIsImFib3J0IiwiZnJvbVJlYWRhYmxlU3RyZWFtIiwic3RyZWFtIiwicnVubmVyIiwiX3J1biIsIl9mcm9tUmVhZGFibGVTdHJlYW0iLCJyZWFkYWJsZVN0cmVhbSIsIm9wdGlvbnMiLCJzaWduYWwiLCJhYm9ydGVkIiwiY29udHJvbGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY29ubmVjdGVkIiwiX2FkZFJ1biIsInRvUmVhZGFibGVTdHJlYW0iLCJiaW5kIiwiY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbSIsInRocmVhZElkIiwicnVuSWQiLCJydW5zIiwicGFyYW1zIiwiX3J1blRvb2xBc3Npc3RhbnRTdHJlYW0iLCJoZWFkZXJzIiwiX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0iLCJydW4iLCJib2R5Iiwic3VibWl0VG9vbE91dHB1dHMiLCJjcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0iLCJ0aHJlYWQiLCJfdGhyZWFkQXNzaXN0YW50U3RyZWFtIiwiY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiX3J1bkFzc2lzdGFudFN0cmVhbSIsImN1cnJlbnRFdmVudCIsImN1cnJlbnRSdW4iLCJjdXJyZW50TWVzc2FnZVNuYXBzaG90IiwiY3VycmVudFJ1blN0ZXBTbmFwc2hvdCIsImZpbmFsUnVuU3RlcHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaW5hbE1lc3NhZ2VzIiwiZmluYWxSdW4iLCJFcnJvciIsIl9jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0iLCJjcmVhdGVBbmRSdW4iLCJfY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiY3JlYXRlIiwiYWNjdW11bGF0ZURlbHRhIiwiYWNjIiwiZGVsdGEiLCJrZXkiLCJkZWx0YVZhbHVlIiwiZW50cmllcyIsImhhc093blByb3BlcnR5IiwiYWNjVmFsdWUiLCJpc09iaiIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwieCIsImRlbHRhRW50cnkiLCJpbmRleCIsImNvbnNvbGUiLCJlcnJvciIsImFjY0VudHJ5IiwiZW5kZWQiLCJhY2N1bXVsYXRlZE1lc3NhZ2UiLCJuZXdDb250ZW50IiwiaWQiLCJjb250ZW50Iiwic25hcHNob3RDb250ZW50IiwidHlwZSIsIl9lbWl0IiwidGV4dCIsImRhdGEiLCJ0ZXh0RGVsdGEiLCJzbmFwc2hvdCIsImltYWdlX2ZpbGUiLCJjdXJyZW50Q29udGVudCIsImFjY3VtdWxhdGVkUnVuU3RlcCIsInN0ZXBfZGV0YWlscyIsInRvb2xfY2FsbHMiLCJ0b29sQ2FsbCIsImRldGFpbHMiLCJhY2N1bXVsYXRlZCIsImNvbnRlbnRFbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/AssistantStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/ChatCompletionRunner.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/openai/lib/ChatCompletionRunner.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionRunner: () => (/* binding */ ChatCompletionRunner)\n/* harmony export */ });\n/* harmony import */ var _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractChatCompletionRunner.mjs */ \"(rsc)/./node_modules/openai/lib/AbstractChatCompletionRunner.mjs\");\n/* harmony import */ var _chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chatCompletionUtils.mjs */ \"(rsc)/./node_modules/openai/lib/chatCompletionUtils.mjs\");\n\n\nclass ChatCompletionRunner extends _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractChatCompletionRunner {\n    /** @deprecated - please use `runTools` instead. */ static runFunctions(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runFunctions\"\n            }\n        };\n        runner._run(()=>runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runTools\"\n            }\n        };\n        runner._run(()=>runner._runTools(client, params, opts));\n        return runner;\n    }\n    _addMessage(message, emit = true) {\n        super._addMessage(message, emit);\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.content) {\n            this._emit(\"content\", message.content);\n        }\n    }\n} //# sourceMappingURL=ChatCompletionRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1GO0FBQ3BCO0FBQ3hELE1BQU1FLDZCQUE2QkYsMkZBQTRCQTtJQUNsRSxpREFBaUQsR0FDakQsT0FBT0csYUFBYUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtRQUN6QyxNQUFNQyxTQUFTLElBQUlMO1FBQ25CLE1BQU1NLE9BQU87WUFDVCxHQUFHRixPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsR0FBR0gsU0FBU0csT0FBTztnQkFBRSw2QkFBNkI7WUFBZTtRQUNoRjtRQUNBRixPQUFPRyxJQUFJLENBQUMsSUFBTUgsT0FBT0ksYUFBYSxDQUFDUCxRQUFRQyxRQUFRRztRQUN2RCxPQUFPRDtJQUNYO0lBQ0EsT0FBT0ssU0FBU1IsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtRQUNyQyxNQUFNQyxTQUFTLElBQUlMO1FBQ25CLE1BQU1NLE9BQU87WUFDVCxHQUFHRixPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsR0FBR0gsU0FBU0csT0FBTztnQkFBRSw2QkFBNkI7WUFBVztRQUM1RTtRQUNBRixPQUFPRyxJQUFJLENBQUMsSUFBTUgsT0FBT00sU0FBUyxDQUFDVCxRQUFRQyxRQUFRRztRQUNuRCxPQUFPRDtJQUNYO0lBQ0FPLFlBQVlDLE9BQU8sRUFBRUMsT0FBTyxJQUFJLEVBQUU7UUFDOUIsS0FBSyxDQUFDRixZQUFZQyxTQUFTQztRQUMzQixJQUFJZiw0RUFBa0JBLENBQUNjLFlBQVlBLFFBQVFFLE9BQU8sRUFBRTtZQUNoRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxXQUFXSCxRQUFRRSxPQUFPO1FBQ3pDO0lBQ0o7QUFDSixFQUNBLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanM/MWUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLCB9IGZyb20gXCIuL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzXCI7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UgfSBmcm9tIFwiLi9jaGF0Q29tcGxldGlvblV0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uUnVubmVyIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciB7XG4gICAgLyoqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBgcnVuVG9vbHNgIGluc3RlYWQuICovXG4gICAgc3RhdGljIHJ1bkZ1bmN0aW9ucyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXIoKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIHJ1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblJ1bm5lcigpO1xuICAgICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuVG9vbHMnIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbHMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCk7XG4gICAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgbWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYXRDb21wbGV0aW9uUnVubmVyLm1qcy5tYXAiXSwibmFtZXMiOlsiQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciIsImlzQXNzaXN0YW50TWVzc2FnZSIsIkNoYXRDb21wbGV0aW9uUnVubmVyIiwicnVuRnVuY3Rpb25zIiwiY2xpZW50IiwicGFyYW1zIiwib3B0aW9ucyIsInJ1bm5lciIsIm9wdHMiLCJoZWFkZXJzIiwiX3J1biIsIl9ydW5GdW5jdGlvbnMiLCJydW5Ub29scyIsIl9ydW5Ub29scyIsIl9hZGRNZXNzYWdlIiwibWVzc2FnZSIsImVtaXQiLCJjb250ZW50IiwiX2VtaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/ChatCompletionRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/ChatCompletionStream.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/openai/lib/ChatCompletionStream.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStream: () => (/* binding */ ChatCompletionStream)\n/* harmony export */ });\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractChatCompletionRunner.mjs */ \"(rsc)/./node_modules/openai/lib/AbstractChatCompletionRunner.mjs\");\n/* harmony import */ var openai_streaming__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai/streaming */ \"(rsc)/./node_modules/openai/streaming.mjs\");\n/* harmony import */ var openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! openai/lib/parser */ \"(rsc)/./node_modules/openai/lib/parser.mjs\");\n/* harmony import */ var _vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_vendor/partial-json-parser/parser.mjs */ \"(rsc)/./node_modules/openai/_vendor/partial-json-parser/parser.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;\n\n\n\n\n\nclass ChatCompletionStream extends _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractChatCompletionRunner {\n    constructor(params){\n        super();\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_params.set(this, void 0);\n        _ChatCompletionStream_choiceEventStates.set(this, void 0);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n        __classPrivateFieldSet(this, _ChatCompletionStream_params, params, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n    }\n    get currentChatCompletionSnapshot() {\n        return __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */ static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream(null);\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(client, params, options) {\n        const runner = new ChatCompletionStream(params);\n        runner._run(()=>runner._runChatCompletion(client, {\n                ...params,\n                stream: true\n            }, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    async _createChatCompletion(client, params, options) {\n        super._createChatCompletion;\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await client.chat.completions.create({\n            ...params,\n            stream: true\n        }, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const chunk of stream){\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = openai_streaming__WEBPACK_IMPORTED_MODULE_2__.Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream){\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_params = new WeakMap(), _ChatCompletionStream_choiceEventStates = new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended) return;\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState(choice) {\n        let state = __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index];\n        if (state) {\n            return state;\n        }\n        state = {\n            content_done: false,\n            refusal_done: false,\n            logprobs_content_done: false,\n            logprobs_refusal_done: false,\n            done_tool_calls: new Set(),\n            current_tool_call_index: null\n        };\n        __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index] = state;\n        return state;\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended) return;\n        const completion = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit(\"chunk\", chunk, completion);\n        for (const choice of chunk.choices){\n            const choiceSnapshot = completion.choices[choice.index];\n            if (choice.delta.content != null && choiceSnapshot.message?.role === \"assistant\" && choiceSnapshot.message?.content) {\n                this._emit(\"content\", choice.delta.content, choiceSnapshot.message.content);\n                this._emit(\"content.delta\", {\n                    delta: choice.delta.content,\n                    snapshot: choiceSnapshot.message.content,\n                    parsed: choiceSnapshot.message.parsed\n                });\n            }\n            if (choice.delta.refusal != null && choiceSnapshot.message?.role === \"assistant\" && choiceSnapshot.message?.refusal) {\n                this._emit(\"refusal.delta\", {\n                    delta: choice.delta.refusal,\n                    snapshot: choiceSnapshot.message.refusal\n                });\n            }\n            if (choice.logprobs?.content != null && choiceSnapshot.message?.role === \"assistant\") {\n                this._emit(\"logprobs.content.delta\", {\n                    content: choice.logprobs?.content,\n                    snapshot: choiceSnapshot.logprobs?.content ?? []\n                });\n            }\n            if (choice.logprobs?.refusal != null && choiceSnapshot.message?.role === \"assistant\") {\n                this._emit(\"logprobs.refusal.delta\", {\n                    refusal: choice.logprobs?.refusal,\n                    snapshot: choiceSnapshot.logprobs?.refusal ?? []\n                });\n            }\n            const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n            if (choiceSnapshot.finish_reason) {\n                __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                if (state.current_tool_call_index != null) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                }\n            }\n            for (const toolCall of choice.delta.tool_calls ?? []){\n                if (state.current_tool_call_index !== toolCall.index) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                    // new tool call started, the previous one is done\n                    if (state.current_tool_call_index != null) {\n                        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                    }\n                }\n                state.current_tool_call_index = toolCall.index;\n            }\n            for (const toolCallDelta of choice.delta.tool_calls ?? []){\n                const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallDelta.index];\n                if (!toolCallSnapshot?.type) {\n                    continue;\n                }\n                if (toolCallSnapshot?.type === \"function\") {\n                    this._emit(\"tool_calls.function.arguments.delta\", {\n                        name: toolCallSnapshot.function?.name,\n                        index: toolCallDelta.index,\n                        arguments: toolCallSnapshot.function.arguments,\n                        parsed_arguments: toolCallSnapshot.function.parsed_arguments,\n                        arguments_delta: toolCallDelta.function?.arguments ?? \"\"\n                    });\n                } else {\n                    assertNever(toolCallSnapshot?.type);\n                }\n            }\n        }\n    }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent(choiceSnapshot, toolCallIndex) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (state.done_tool_calls.has(toolCallIndex)) {\n            // we've already fired the done event\n            return;\n        }\n        const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallIndex];\n        if (!toolCallSnapshot) {\n            throw new Error(\"no tool call snapshot\");\n        }\n        if (!toolCallSnapshot.type) {\n            throw new Error(\"tool call snapshot missing `type`\");\n        }\n        if (toolCallSnapshot.type === \"function\") {\n            const inputTool = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.tools?.find((tool)=>tool.type === \"function\" && tool.function.name === toolCallSnapshot.function.name);\n            this._emit(\"tool_calls.function.arguments.done\", {\n                name: toolCallSnapshot.function.name,\n                index: toolCallIndex,\n                arguments: toolCallSnapshot.function.arguments,\n                parsed_arguments: (0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableTool)(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments) : inputTool?.function.strict ? JSON.parse(toolCallSnapshot.function.arguments) : null\n            });\n        } else {\n            assertNever(toolCallSnapshot.type);\n        }\n    }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents(choiceSnapshot) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (choiceSnapshot.message.content && !state.content_done) {\n            state.content_done = true;\n            const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);\n            this._emit(\"content.done\", {\n                content: choiceSnapshot.message.content,\n                parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null\n            });\n        }\n        if (choiceSnapshot.message.refusal && !state.refusal_done) {\n            state.refusal_done = true;\n            this._emit(\"refusal.done\", {\n                refusal: choiceSnapshot.message.refusal\n            });\n        }\n        if (choiceSnapshot.logprobs?.content && !state.logprobs_content_done) {\n            state.logprobs_content_done = true;\n            this._emit(\"logprobs.content.done\", {\n                content: choiceSnapshot.logprobs.content\n            });\n        }\n        if (choiceSnapshot.logprobs?.refusal && !state.logprobs_refusal_done) {\n            state.logprobs_refusal_done = true;\n            this._emit(\"logprobs.refusal.done\", {\n                refusal: choiceSnapshot.logprobs.refusal\n            });\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`request ended without sending any chunks`);\n        }\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n        return finalizeChatCompletion(snapshot, __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"));\n    }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat() {\n        const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.response_format;\n        if ((0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableResponseFormat)(responseFormat)) {\n            return responseFormat;\n        }\n        return null;\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b, _c, _d;\n        let snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: []\n            }, \"f\");\n        } else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices){\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                choice = snapshot.choices[index] = {\n                    finish_reason,\n                    index,\n                    message: {},\n                    logprobs,\n                    ...other\n                };\n            }\n            if (logprobs) {\n                if (!choice.logprobs) {\n                    choice.logprobs = Object.assign({}, logprobs);\n                } else {\n                    const { content, refusal, ...rest } = logprobs;\n                    assertIsEmpty(rest);\n                    Object.assign(choice.logprobs, rest);\n                    if (content) {\n                        (_a = choice.logprobs).content ?? (_a.content = []);\n                        choice.logprobs.content.push(...content);\n                    }\n                    if (refusal) {\n                        (_b = choice.logprobs).refusal ?? (_b.refusal = []);\n                        choice.logprobs.refusal.push(...refusal);\n                    }\n                }\n            }\n            if (finish_reason) {\n                choice.finish_reason = finish_reason;\n                if (__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\") && (0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.hasAutoParseableInput)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"))) {\n                    if (finish_reason === \"length\") {\n                        throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.LengthFinishReasonError();\n                    }\n                    if (finish_reason === \"content_filter\") {\n                        throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.ContentFilterFinishReasonError();\n                    }\n                }\n            }\n            Object.assign(choice, other);\n            if (!delta) continue; // Shouldn't happen; just in case.\n            const { content, refusal, function_call, role, tool_calls, ...rest } = delta;\n            assertIsEmpty(rest);\n            Object.assign(choice.message, rest);\n            if (refusal) {\n                choice.message.refusal = (choice.message.refusal || \"\") + refusal;\n            }\n            if (role) choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                } else {\n                    if (function_call.name) choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_c = choice.message.function_call).arguments ?? (_c.arguments = \"\");\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (content) {\n                choice.message.content = (choice.message.content || \"\") + content;\n                if (!choice.message.refusal && __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {\n                    choice.message.parsed = (0,_vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__.partialParse)(choice.message.content);\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls) choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn, ...rest } of tool_calls){\n                    const tool_call = (_d = choice.message.tool_calls)[index] ?? (_d[index] = {});\n                    Object.assign(tool_call, rest);\n                    if (id) tool_call.id = id;\n                    if (type) tool_call.type = type;\n                    if (fn) tool_call.function ?? (tool_call.function = {\n                        name: fn.name ?? \"\",\n                        arguments: \"\"\n                    });\n                    if (fn?.name) tool_call.function.name = fn.name;\n                    if (fn?.arguments) {\n                        tool_call.function.arguments += fn.arguments;\n                        if ((0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.shouldParseToolCall)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"), tool_call)) {\n                            tool_call.function.parsed_arguments = (0,_vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__.partialParse)(tool_call.function.arguments);\n                        }\n                    }\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on(\"chunk\", (chunk)=>{\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(chunk);\n            } else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on(\"end\", ()=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"abort\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"error\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async ()=>{\n                if (!pushQueue.length) {\n                    if (done) {\n                        return {\n                            value: undefined,\n                            done: true\n                        };\n                    }\n                    return new Promise((resolve, reject)=>readQueue.push({\n                            resolve,\n                            reject\n                        })).then((chunk)=>chunk ? {\n                            value: chunk,\n                            done: false\n                        } : {\n                            value: undefined,\n                            done: true\n                        });\n                }\n                const chunk = pushQueue.shift();\n                return {\n                    value: chunk,\n                    done: false\n                };\n            },\n            return: async ()=>{\n                this.abort();\n                return {\n                    value: undefined,\n                    done: true\n                };\n            }\n        };\n    }\n    toReadableStream() {\n        const stream = new openai_streaming__WEBPACK_IMPORTED_MODULE_2__.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nfunction finalizeChatCompletion(snapshot, params) {\n    const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;\n    const completion = {\n        ...rest,\n        id,\n        choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest })=>{\n            if (!finish_reason) {\n                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing finish_reason for choice ${index}`);\n            }\n            const { content = null, function_call, tool_calls, ...messageRest } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role) {\n                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing role for choice ${index}`);\n            }\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null) {\n                    throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing function_call.arguments for choice ${index}`);\n                }\n                if (!name) {\n                    throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing function_call.name for choice ${index}`);\n                }\n                return {\n                    ...choiceRest,\n                    message: {\n                        content,\n                        function_call: {\n                            arguments: args,\n                            name\n                        },\n                        role,\n                        refusal: message.refusal ?? null\n                    },\n                    finish_reason,\n                    index,\n                    logprobs\n                };\n            }\n            if (tool_calls) {\n                return {\n                    ...choiceRest,\n                    index,\n                    finish_reason,\n                    logprobs,\n                    message: {\n                        ...messageRest,\n                        role,\n                        content,\n                        refusal: message.refusal ?? null,\n                        tool_calls: tool_calls.map((tool_call, i)=>{\n                            const { function: fn, type, id, ...toolRest } = tool_call;\n                            const { arguments: args, name, ...fnRest } = fn || {};\n                            if (id == null) {\n                                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            }\n                            if (type == null) {\n                                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            }\n                            if (name == null) {\n                                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            }\n                            if (args == null) {\n                                throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            }\n                            return {\n                                ...toolRest,\n                                id,\n                                type,\n                                function: {\n                                    ...fnRest,\n                                    name,\n                                    arguments: args\n                                }\n                            };\n                        })\n                    }\n                };\n            }\n            return {\n                ...choiceRest,\n                message: {\n                    ...messageRest,\n                    content,\n                    role,\n                    refusal: message.refusal ?? null\n                },\n                finish_reason,\n                index,\n                logprobs\n            };\n        }),\n        created,\n        model,\n        object: \"chat.completion\",\n        ...system_fingerprint ? {\n            system_fingerprint\n        } : {}\n    };\n    return (0,openai_lib_parser__WEBPACK_IMPORTED_MODULE_3__.maybeParseChatCompletion)(completion, params);\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n/**\n * Ensures the given argument is an empty object, useful for\n * asserting that all known properties on an object have been\n * destructured.\n */ function assertIsEmpty(obj) {\n    return;\n}\nfunction assertNever(_x) {} //# sourceMappingURL=ChatCompletionStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBSUEseUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUMzRyxJQUFJRCxTQUFTLEtBQUssTUFBTSxJQUFJRSxVQUFVO0lBQ3RDLElBQUlGLFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9KLFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRyxJQUFJLENBQUNILE1BQU1LLEdBQUcsQ0FBQ04sV0FBVyxNQUFNLElBQUlLLFVBQVU7SUFDdkcsT0FBTyxTQUFVLE1BQU1ELEVBQUVHLElBQUksQ0FBQ1AsVUFBVUUsU0FBU0UsSUFBSUEsRUFBRUYsS0FBSyxHQUFHQSxRQUFRRCxNQUFNTyxHQUFHLENBQUNSLFVBQVVFLFFBQVNBO0FBQ3hHO0FBQ0EsSUFBSU8seUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVULFFBQVEsRUFBRUMsS0FBSyxFQUFFRSxJQUFJLEVBQUVDLENBQUM7SUFDcEcsSUFBSUQsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPRixTQUFTLE1BQU1DLElBQUlELFNBQVMsTUFBTUMsRUFBRUcsSUFBSSxDQUFDUCxZQUFZSSxJQUFJQSxFQUFFRixLQUFLLEdBQUdELE1BQU1TLEdBQUcsQ0FBQ1Y7QUFDeEY7QUFDQSxJQUFJVyxpQ0FBaUNDLDhCQUE4QkMseUNBQXlDQyxxREFBcURDLG9DQUFvQ0Ms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eUQ7UUFDQUM7UUFDQVUsUUFBUTtRQUNSLEdBQUlULHFCQUFxQjtZQUFFQTtRQUFtQixJQUFJLENBQUMsQ0FBQztJQUN4RDtJQUNBLE9BQU9wSCwyRUFBd0JBLENBQUM4QyxZQUFZekM7QUFDaEQ7QUFDQSxTQUFTdUgsSUFBSUUsQ0FBQztJQUNWLE9BQU9oRCxLQUFLaUQsU0FBUyxDQUFDRDtBQUMxQjtBQUNBOzs7O0NBSUMsR0FDRCxTQUFTbkMsY0FBY3FDLEdBQUc7SUFDdEI7QUFDSjtBQUNBLFNBQVMzRCxZQUFZNEQsRUFBRSxHQUFJLEVBQzNCLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanM/NjI0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmssIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciwgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLCB9IGZyb20gJ29wZW5haS9lcnJvcic7XG5pbXBvcnQgeyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLCB9IGZyb20gXCIuL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tICdvcGVuYWkvc3RyZWFtaW5nJztcbmltcG9ydCB7IGhhc0F1dG9QYXJzZWFibGVJbnB1dCwgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCwgaXNBdXRvUGFyc2FibGVUb29sLCBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24sIHNob3VsZFBhcnNlVG9vbENhbGwsIH0gZnJvbSAnb3BlbmFpL2xpYi9wYXJzZXInO1xuaW1wb3J0IHsgcGFydGlhbFBhcnNlIH0gZnJvbSBcIi4uL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdHJlYW0gZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIHBhcmFtcywgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgW10sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZW5kZWQgZm9yIHVzZSBvbiB0aGUgZnJvbnRlbmQsIGNvbnN1bWluZyBhIHN0cmVhbSBwcm9kdWNlZCB3aXRoXG4gICAgICogYC50b1JlYWRhYmxlU3RyZWFtKClgIG9uIHRoZSBiYWNrZW5kLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IG1lc3NhZ2VzIHNlbnQgdG8gdGhlIG1vZGVsIGRvIG5vdCBhcHBlYXIgaW4gYC5vbignbWVzc2FnZScpYFxuICAgICAqIGluIHRoaXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW0obnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtKHBhcmFtcyk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuX2NyZWF0ZUNoYXRDb21wbGV0aW9uO1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmspLmNhbGwodGhpcywgY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGxldCBjaGF0SWQ7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoY2hhdElkICYmIGNoYXRJZCAhPT0gY2h1bmsuaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5ldyByZXF1ZXN0IGhhcyBiZWVuIG1hZGUuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKS5jYWxsKHRoaXMsIGNodW5rKTtcbiAgICAgICAgICAgIGNoYXRJZCA9IGNodW5rLmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIFsoX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0ID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlKGNob2ljZSkge1xuICAgICAgICBsZXQgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgXCJmXCIpW2Nob2ljZS5pbmRleF07XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgY29udGVudF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHJlZnVzYWxfZG9uZTogZmFsc2UsXG4gICAgICAgICAgICBsb2dwcm9ic19jb250ZW50X2RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgbG9ncHJvYnNfcmVmdXNhbF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGRvbmVfdG9vbF9jYWxsczogbmV3IFNldCgpLFxuICAgICAgICAgICAgY3VycmVudF90b29sX2NhbGxfaW5kZXg6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBcImZcIilbY2hvaWNlLmluZGV4XSA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKGNodW5rKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbikuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2NodW5rJywgY2h1bmssIGNvbXBsZXRpb24pO1xuICAgICAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiBjaHVuay5jaG9pY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VTbmFwc2hvdCA9IGNvbXBsZXRpb24uY2hvaWNlc1tjaG9pY2UuaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgY2hvaWNlLmRlbHRhLmNvbnRlbnQsIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGNob2ljZS5kZWx0YS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UucGFyc2VkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5yZWZ1c2FsICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdyZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogY2hvaWNlLmRlbHRhLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50ICE9IG51bGwgJiYgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5jb250ZW50LmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2UubG9ncHJvYnM/LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaG9pY2UubG9ncHJvYnM/LnJlZnVzYWwgIT0gbnVsbCAmJiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLnJlZnVzYWwuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IGNob2ljZS5sb2dwcm9icz8ucmVmdXNhbCxcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5yZWZ1c2FsID8/IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAoY2hvaWNlU25hcHNob3QuZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9PSB0b29sQ2FsbC5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzKS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IHRvb2wgY2FsbCBzdGFydGVkLCB0aGUgcHJldmlvdXMgb25lIGlzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCA9IHRvb2xDYWxsLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsRGVsdGEuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghdG9vbENhbGxTbmFwc2hvdD8udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsRGVsdGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzX2RlbHRhOiB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uPy5hcmd1bWVudHMgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0TmV2ZXIodG9vbENhbGxTbmFwc2hvdD8udHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQoY2hvaWNlU25hcHNob3QsIHRvb2xDYWxsSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChzdGF0ZS5kb25lX3Rvb2xfY2FsbHMuaGFzKHRvb2xDYWxsSW5kZXgpKSB7XG4gICAgICAgICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGZpcmVkIHRoZSBkb25lIGV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsSW5kZXhdO1xuICAgICAgICBpZiAoIXRvb2xDYWxsU25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gdG9vbCBjYWxsIHNuYXBzaG90Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90LnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndG9vbCBjYWxsIHNuYXBzaG90IG1pc3NpbmcgYHR5cGVgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3QudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRUb29sID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIik/LnRvb2xzPy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5mdW5jdGlvbi5uYW1lID09PSB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsSW5kZXgsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnROZXZlcih0b29sQ2FsbFNuYXBzaG90LnR5cGUpO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3QpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQgJiYgIXN0YXRlLmNvbnRlbnRfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUuY29udGVudF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRm9ybWF0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgcGFyc2VkOiByZXNwb25zZUZvcm1hdCA/IHJlc3BvbnNlRm9ybWF0LiRwYXJzZVJhdyhjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgJiYgIXN0YXRlLnJlZnVzYWxfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUucmVmdXNhbF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3JlZnVzYWwuZG9uZScsIHsgcmVmdXNhbDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCAmJiAhc3RhdGUubG9ncHJvYnNfY29udGVudF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMuY29udGVudC5kb25lJywgeyBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5jb250ZW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8ucmVmdXNhbCAmJiAhc3RhdGUubG9ncHJvYnNfcmVmdXNhbF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19yZWZ1c2FsX2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMucmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBbXSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gZmluYWxpemVDaGF0Q29tcGxldGlvbihzbmFwc2hvdCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikpO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCByZXNwb25zZUZvcm1hdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpPy5yZXNwb25zZV9mb3JtYXQ7XG4gICAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlRm9ybWF0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlRm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24gPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uKGNodW5rKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgY29uc3QgeyBjaG9pY2VzLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgICAgICB9LCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNuYXBzaG90LCByZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHsgZGVsdGEsIGZpbmlzaF9yZWFzb24sIGluZGV4LCBsb2dwcm9icyA9IG51bGwsIC4uLm90aGVyIH0gb2YgY2h1bmsuY2hvaWNlcykge1xuICAgICAgICAgICAgbGV0IGNob2ljZSA9IHNuYXBzaG90LmNob2ljZXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XSA9IHsgZmluaXNoX3JlYXNvbiwgaW5kZXgsIG1lc3NhZ2U6IHt9LCBsb2dwcm9icywgLi4ub3RoZXIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2dwcm9icykge1xuICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLmxvZ3Byb2JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icyA9IE9iamVjdC5hc3NpZ24oe30sIGxvZ3Byb2JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCwgcmVmdXNhbCwgLi4ucmVzdCB9ID0gbG9ncHJvYnM7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLmxvZ3Byb2JzLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGNob2ljZS5sb2dwcm9icykuY29udGVudCA/PyAoX2EuY29udGVudCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5jb250ZW50LnB1c2goLi4uY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGNob2ljZS5sb2dwcm9icykucmVmdXNhbCA/PyAoX2IucmVmdXNhbCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5yZWZ1c2FsLnB1c2goLi4ucmVmdXNhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gZmluaXNoX3JlYXNvbjtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikgJiYgaGFzQXV0b1BhcnNlYWJsZUlucHV0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnY29udGVudF9maWx0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZSwgb3RoZXIpO1xuICAgICAgICAgICAgaWYgKCFkZWx0YSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2hvdWxkbid0IGhhcHBlbjsganVzdCBpbiBjYXNlLlxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCBmdW5jdGlvbl9jYWxsLCByb2xlLCB0b29sX2NhbGxzLCAuLi5yZXN0IH0gPSBkZWx0YTtcbiAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZS5tZXNzYWdlLCByZXN0KTtcbiAgICAgICAgICAgIGlmIChyZWZ1c2FsKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA9IChjaG9pY2UubWVzc2FnZS5yZWZ1c2FsIHx8ICcnKSArIHJlZnVzYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9sZSlcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5yb2xlID0gcm9sZTtcbiAgICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSA9IGZ1bmN0aW9uX2NhbGwubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKS5hcmd1bWVudHMgPz8gKF9jLmFyZ3VtZW50cyA9ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICs9IGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5jb250ZW50ID0gKGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgfHwgJycpICsgY29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnJlZnVzYWwgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5wYXJzZWQgPSBwYXJ0aWFsUGFyc2UoY2hvaWNlLm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpXG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIGlkLCB0eXBlLCBmdW5jdGlvbjogZm4sIC4uLnJlc3QgfSBvZiB0b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xfY2FsbCA9ICgoX2QgPSBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzKVtpbmRleF0gPz8gKF9kW2luZGV4XSA9IHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG9vbF9jYWxsLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24gPz8gKHRvb2xfY2FsbC5mdW5jdGlvbiA9IHsgbmFtZTogZm4ubmFtZSA/PyAnJywgYXJndW1lbnRzOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLm5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4/LmFyZ3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyArPSBmbi5hcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUGFyc2VUb29sQ2FsbChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIFwiZlwiKSwgdG9vbF9jYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzID0gcGFydGlhbFBhcnNlKHRvb2xfY2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMub24oJ2NodW5rJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9SZWFkYWJsZVN0cmVhbSgpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSh0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXS5iaW5kKHRoaXMpLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uKHNuYXBzaG90LCBwYXJhbXMpIHtcbiAgICBjb25zdCB7IGlkLCBjaG9pY2VzLCBjcmVhdGVkLCBtb2RlbCwgc3lzdGVtX2ZpbmdlcnByaW50LCAuLi5yZXN0IH0gPSBzbmFwc2hvdDtcbiAgICBjb25zdCBjb21wbGV0aW9uID0ge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBpZCxcbiAgICAgICAgY2hvaWNlczogY2hvaWNlcy5tYXAoKHsgbWVzc2FnZSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzLCAuLi5jaG9pY2VSZXN0IH0pID0+IHtcbiAgICAgICAgICAgIGlmICghZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmaW5pc2hfcmVhc29uIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCA9IG51bGwsIGZ1bmN0aW9uX2NhbGwsIHRvb2xfY2FsbHMsIC4uLm1lc3NhZ2VSZXN0IH0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTsgLy8gdGhpcyBpcyB3aGF0IHdlIGV4cGVjdDsgaW4gdGhlb3J5IGl0IGNvdWxkIGJlIGRpZmZlcmVudCB3aGljaCB3b3VsZCBtYWtlIG91ciB0eXBlcyBhIHNsaWdodCBsaWUgYnV0IHdvdWxkIGJlIGZpbmUuXG4gICAgICAgICAgICBpZiAoIXJvbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgcm9sZSBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lIH0gPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmdW5jdGlvbl9jYWxsLm5hbWUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsczogdG9vbF9jYWxscy5tYXAoKHRvb2xfY2FsbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb246IGZuLCB0eXBlLCBpZCwgLi4udG9vbFJlc3QgfSA9IHRvb2xfY2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSwgLi4uZm5SZXN0IH0gPSBmbiB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5pZFxcbiR7c3RyKHNuYXBzaG90KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS50eXBlXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmZ1bmN0aW9uLm5hbWVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24uYXJndW1lbnRzXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50b29sUmVzdCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiB7IC4uLmZuUmVzdCwgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogeyAuLi5tZXNzYWdlUmVzdCwgY29udGVudCwgcm9sZSwgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwgfSxcbiAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGNyZWF0ZWQsXG4gICAgICAgIG1vZGVsLFxuICAgICAgICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nLFxuICAgICAgICAuLi4oc3lzdGVtX2ZpbmdlcnByaW50ID8geyBzeXN0ZW1fZmluZ2VycHJpbnQgfSA6IHt9KSxcbiAgICB9O1xuICAgIHJldHVybiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIHN0cih4KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoZSBnaXZlbiBhcmd1bWVudCBpcyBhbiBlbXB0eSBvYmplY3QsIHVzZWZ1bCBmb3JcbiAqIGFzc2VydGluZyB0aGF0IGFsbCBrbm93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdCBoYXZlIGJlZW5cbiAqIGRlc3RydWN0dXJlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0SXNFbXB0eShvYmopIHtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGF0Q29tcGxldGlvblN0cmVhbS5tanMubWFwIl0sIm5hbWVzIjpbIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJyZWNlaXZlciIsInN0YXRlIiwidmFsdWUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJzZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiZ2V0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcyIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldENob2ljZUV2ZW50U3RhdGUiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmsiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdFRvb2xDYWxsRG9uZUV2ZW50IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24iLCJPcGVuQUlFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwiTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IiLCJDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IiLCJBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIiwiU3RyZWFtIiwiaGFzQXV0b1BhcnNlYWJsZUlucHV0IiwiaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCIsImlzQXV0b1BhcnNhYmxlVG9vbCIsIm1heWJlUGFyc2VDaGF0Q29tcGxldGlvbiIsInNob3VsZFBhcnNlVG9vbENhbGwiLCJwYXJ0aWFsUGFyc2UiLCJDaGF0Q29tcGxldGlvblN0cmVhbSIsImNvbnN0cnVjdG9yIiwicGFyYW1zIiwiYWRkIiwiY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QiLCJmcm9tUmVhZGFibGVTdHJlYW0iLCJzdHJlYW0iLCJydW5uZXIiLCJfcnVuIiwiX2Zyb21SZWFkYWJsZVN0cmVhbSIsImNyZWF0ZUNoYXRDb21wbGV0aW9uIiwiY2xpZW50Iiwib3B0aW9ucyIsIl9ydW5DaGF0Q29tcGxldGlvbiIsImhlYWRlcnMiLCJfY3JlYXRlQ2hhdENvbXBsZXRpb24iLCJzaWduYWwiLCJhYm9ydGVkIiwiY29udHJvbGxlciIsImFib3J0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIl9jb25uZWN0ZWQiLCJjaHVuayIsIl9hZGRDaGF0Q29tcGxldGlvbiIsInJlYWRhYmxlU3RyZWFtIiwiY2hhdElkIiwiaWQiLCJXZWFrTWFwIiwiV2Vha1NldCIsImVuZGVkIiwidW5kZWZpbmVkIiwiY2hvaWNlIiwiaW5kZXgiLCJjb250ZW50X2RvbmUiLCJyZWZ1c2FsX2RvbmUiLCJsb2dwcm9ic19jb250ZW50X2RvbmUiLCJsb2dwcm9ic19yZWZ1c2FsX2RvbmUiLCJkb25lX3Rvb2xfY2FsbHMiLCJTZXQiLCJjdXJyZW50X3Rvb2xfY2FsbF9pbmRleCIsImNvbXBsZXRpb24iLCJfZW1pdCIsImNob2ljZXMiLCJjaG9pY2VTbmFwc2hvdCIsImRlbHRhIiwiY29udGVudCIsIm1lc3NhZ2UiLCJyb2xlIiwic25hcHNob3QiLCJwYXJzZWQiLCJyZWZ1c2FsIiwibG9ncHJvYnMiLCJmaW5pc2hfcmVhc29uIiwidG9vbENhbGwiLCJ0b29sX2NhbGxzIiwidG9vbENhbGxEZWx0YSIsInRvb2xDYWxsU25hcHNob3QiLCJ0eXBlIiwibmFtZSIsImZ1bmN0aW9uIiwiYXJndW1lbnRzIiwicGFyc2VkX2FyZ3VtZW50cyIsImFyZ3VtZW50c19kZWx0YSIsImFzc2VydE5ldmVyIiwidG9vbENhbGxJbmRleCIsIkVycm9yIiwiaW5wdXRUb29sIiwidG9vbHMiLCJmaW5kIiwidG9vbCIsIiRwYXJzZVJhdyIsInN0cmljdCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlRm9ybWF0IiwiZmluYWxpemVDaGF0Q29tcGxldGlvbiIsInJlc3BvbnNlX2Zvcm1hdCIsIl9hIiwiX2IiLCJfYyIsIl9kIiwicmVzdCIsIk9iamVjdCIsImFzc2lnbiIsIm90aGVyIiwiYXNzZXJ0SXNFbXB0eSIsInB1c2giLCJmdW5jdGlvbl9jYWxsIiwiZm4iLCJ0b29sX2NhbGwiLCJTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwicHVzaFF1ZXVlIiwicmVhZFF1ZXVlIiwiZG9uZSIsIm9uIiwicmVhZGVyIiwic2hpZnQiLCJyZXNvbHZlIiwibGVuZ3RoIiwiZXJyIiwicmVqZWN0IiwibmV4dCIsIlByb21pc2UiLCJ0aGVuIiwicmV0dXJuIiwidG9SZWFkYWJsZVN0cmVhbSIsImJpbmQiLCJjcmVhdGVkIiwibW9kZWwiLCJzeXN0ZW1fZmluZ2VycHJpbnQiLCJtYXAiLCJjaG9pY2VSZXN0IiwibWVzc2FnZVJlc3QiLCJhcmdzIiwiaSIsInRvb2xSZXN0IiwiZm5SZXN0Iiwic3RyIiwib2JqZWN0IiwieCIsInN0cmluZ2lmeSIsIm9iaiIsIl94Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/ChatCompletionStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/ChatCompletionStreamingRunner.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/openai/lib/ChatCompletionStreamingRunner.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStreamingRunner: () => (/* binding */ ChatCompletionStreamingRunner)\n/* harmony export */ });\n/* harmony import */ var _ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChatCompletionStream.mjs */ \"(rsc)/./node_modules/openai/lib/ChatCompletionStream.mjs\");\n\nclass ChatCompletionStreamingRunner extends _ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    /** @deprecated - please use `runTools` instead. */ static runFunctions(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runFunctions\"\n            }\n        };\n        runner._run(()=>runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(// @ts-expect-error TODO these types are incompatible\n        params);\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runTools\"\n            }\n        };\n        runner._run(()=>runner._runTools(client, params, opts));\n        return runner;\n    }\n} //# sourceMappingURL=ChatCompletionStreamingRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0U7QUFDM0QsTUFBTUMsc0NBQXNDRCwyRUFBb0JBO0lBQ25FLE9BQU9FLG1CQUFtQkMsTUFBTSxFQUFFO1FBQzlCLE1BQU1DLFNBQVMsSUFBSUgsOEJBQThCO1FBQ2pERyxPQUFPQyxJQUFJLENBQUMsSUFBTUQsT0FBT0UsbUJBQW1CLENBQUNIO1FBQzdDLE9BQU9DO0lBQ1g7SUFDQSxpREFBaUQsR0FDakQsT0FBT0csYUFBYUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtRQUN6QyxNQUFNTixTQUFTLElBQUlILDhCQUE4QjtRQUNqRCxNQUFNVSxPQUFPO1lBQ1QsR0FBR0QsT0FBTztZQUNWRSxTQUFTO2dCQUFFLEdBQUdGLFNBQVNFLE9BQU87Z0JBQUUsNkJBQTZCO1lBQWU7UUFDaEY7UUFDQVIsT0FBT0MsSUFBSSxDQUFDLElBQU1ELE9BQU9TLGFBQWEsQ0FBQ0wsUUFBUUMsUUFBUUU7UUFDdkQsT0FBT1A7SUFDWDtJQUNBLE9BQU9VLFNBQVNOLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUU7UUFDckMsTUFBTU4sU0FBUyxJQUFJSCw4QkFDbkIscURBQXFEO1FBQ3JEUTtRQUNBLE1BQU1FLE9BQU87WUFDVCxHQUFHRCxPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsR0FBR0YsU0FBU0UsT0FBTztnQkFBRSw2QkFBNkI7WUFBVztRQUM1RTtRQUNBUixPQUFPQyxJQUFJLENBQUMsSUFBTUQsT0FBT1csU0FBUyxDQUFDUCxRQUFRQyxRQUFRRTtRQUNuRCxPQUFPUDtJQUNYO0FBQ0osRUFDQSwwREFBMEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzP2I0ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciBleHRlbmRzIENoYXRDb21wbGV0aW9uU3RyZWFtIHtcbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIobnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgICBzdGF0aWMgcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIHJ1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHRoZXNlIHR5cGVzIGFyZSBpbmNvbXBhdGlibGVcbiAgICAgICAgcGFyYW1zKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJDaGF0Q29tcGxldGlvblN0cmVhbSIsIkNoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIiwiZnJvbVJlYWRhYmxlU3RyZWFtIiwic3RyZWFtIiwicnVubmVyIiwiX3J1biIsIl9mcm9tUmVhZGFibGVTdHJlYW0iLCJydW5GdW5jdGlvbnMiLCJjbGllbnQiLCJwYXJhbXMiLCJvcHRpb25zIiwib3B0cyIsImhlYWRlcnMiLCJfcnVuRnVuY3Rpb25zIiwicnVuVG9vbHMiLCJfcnVuVG9vbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/ChatCompletionStreamingRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/EventStream.mjs":
/*!*************************************************!*\
  !*** ./node_modules/openai/lib/EventStream.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStream: () => (/* binding */ EventStream)\n/* harmony export */ });\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;\n\nclass EventStream {\n    constructor(){\n        _EventStream_instances.add(this);\n        this.controller = new AbortController();\n        _EventStream_connectedPromise.set(this, void 0);\n        _EventStream_resolveConnectedPromise.set(this, ()=>{});\n        _EventStream_rejectConnectedPromise.set(this, ()=>{});\n        _EventStream_endPromise.set(this, void 0);\n        _EventStream_resolveEndPromise.set(this, ()=>{});\n        _EventStream_rejectEndPromise.set(this, ()=>{});\n        _EventStream_listeners.set(this, {});\n        _EventStream_ended.set(this, false);\n        _EventStream_errored.set(this, false);\n        _EventStream_aborted.set(this, false);\n        _EventStream_catchingPromiseCreated.set(this, false);\n        __classPrivateFieldSet(this, _EventStream_connectedPromise, new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_resolveConnectedPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        __classPrivateFieldSet(this, _EventStream_endPromise, new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_resolveEndPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        __classPrivateFieldGet(this, _EventStream_connectedPromise, \"f\").catch(()=>{});\n        __classPrivateFieldGet(this, _EventStream_endPromise, \"f\").catch(()=>{});\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(()=>{\n            executor().then(()=>{\n                this._emitFinal();\n                this._emit(\"end\");\n            }, __classPrivateFieldGet(this, _EventStream_instances, \"m\", _EventStream_handleError).bind(this));\n        }, 0);\n    }\n    _connected() {\n        if (this.ended) return;\n        __classPrivateFieldGet(this, _EventStream_resolveConnectedPromise, \"f\").call(this);\n        this._emit(\"connect\");\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _EventStream_ended, \"f\");\n    }\n    get errored() {\n        return __classPrivateFieldGet(this, _EventStream_errored, \"f\");\n    }\n    get aborted() {\n        return __classPrivateFieldGet(this, _EventStream_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ on(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({\n            listener\n        });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ off(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (!listeners) return this;\n        const index = listeners.findIndex((l)=>l.listener === listener);\n        if (index >= 0) listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ once(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({\n            listener,\n            once: true\n        });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */ emitted(event) {\n        return new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n            if (event !== \"error\") this.once(\"error\", reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n        await __classPrivateFieldGet(this, _EventStream_endPromise, \"f\");\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (__classPrivateFieldGet(this, _EventStream_ended, \"f\")) {\n            return;\n        }\n        if (event === \"end\") {\n            __classPrivateFieldSet(this, _EventStream_ended, true, \"f\");\n            __classPrivateFieldGet(this, _EventStream_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (listeners) {\n            __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = listeners.filter((l)=>!l.once);\n            listeners.forEach(({ listener })=>listener(...args));\n        }\n        if (event === \"abort\") {\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit(\"end\");\n            return;\n        }\n        if (event === \"error\") {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit(\"end\");\n        }\n    }\n    _emitFinal() {}\n}\n_EventStream_connectedPromise = new WeakMap(), _EventStream_resolveConnectedPromise = new WeakMap(), _EventStream_rejectConnectedPromise = new WeakMap(), _EventStream_endPromise = new WeakMap(), _EventStream_resolveEndPromise = new WeakMap(), _EventStream_rejectEndPromise = new WeakMap(), _EventStream_listeners = new WeakMap(), _EventStream_ended = new WeakMap(), _EventStream_errored = new WeakMap(), _EventStream_aborted = new WeakMap(), _EventStream_catchingPromiseCreated = new WeakMap(), _EventStream_instances = new WeakSet(), _EventStream_handleError = function _EventStream_handleError(error) {\n    __classPrivateFieldSet(this, _EventStream_errored, true, \"f\");\n    if (error instanceof Error && error.name === \"AbortError\") {\n        error = new openai_error__WEBPACK_IMPORTED_MODULE_0__.APIUserAbortError();\n    }\n    if (error instanceof openai_error__WEBPACK_IMPORTED_MODULE_0__.APIUserAbortError) {\n        __classPrivateFieldSet(this, _EventStream_aborted, true, \"f\");\n        return this._emit(\"abort\", error);\n    }\n    if (error instanceof openai_error__WEBPACK_IMPORTED_MODULE_0__.OpenAIError) {\n        return this._emit(\"error\", error);\n    }\n    if (error instanceof Error) {\n        const openAIError = new openai_error__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(error.message);\n        // @ts-ignore\n        openAIError.cause = error;\n        return this._emit(\"error\", openAIError);\n    }\n    return this._emit(\"error\", new openai_error__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(String(error)));\n}; //# sourceMappingURL=EventStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9FdmVudFN0cmVhbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDUCxVQUFVRSxTQUFTRSxJQUFJQSxFQUFFRixLQUFLLEdBQUdBLFFBQVFELE1BQU1PLEdBQUcsQ0FBQ1IsVUFBVUUsUUFBU0E7QUFDeEc7QUFDQSxJQUFJTyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNQLFlBQVlJLElBQUlBLEVBQUVGLEtBQUssR0FBR0QsTUFBTVMsR0FBRyxDQUFDVjtBQUN4RjtBQUNBLElBQUlXLHdCQUF3QkMsK0JBQStCQyxzQ0FBc0NDLHFDQUFxQ0MseUJBQXlCQyxnQ0FBZ0NDLCtCQUEr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QSxDQUFDc0MsTUFBTU8sT0FBTztRQUNqRCxhQUFhO1FBQ2JELFlBQVlFLEtBQUssR0FBR1I7UUFDcEIsT0FBTyxJQUFJLENBQUN2QixLQUFLLENBQUMsU0FBUzZCO0lBQy9CO0lBQ0EsT0FBTyxJQUFJLENBQUM3QixLQUFLLENBQUMsU0FBUyxJQUFJZixxREFBV0EsQ0FBQytDLE9BQU9UO0FBQ3RELEdBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0V2ZW50U3RyZWFtLm1qcz80ZTAzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIF9FdmVudFN0cmVhbV9lbmRlZCwgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSAnb3BlbmFpL2Vycm9yJztcbmV4cG9ydCBjbGFzcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2xpc3RlbmVycy5zZXQodGhpcywge30pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZW5kZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Vycm9yZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Fib3J0ZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UsIHJlc29sdmUsIFwiZlwiKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIHJlamVjdCwgXCJmXCIpO1xuICAgICAgICB9KSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgcmVzb2x2ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIC8vIERvbid0IGxldCB0aGVzZSBwcm9taXNlcyBjYXVzZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9ycy5cbiAgICAgICAgLy8gd2Ugd2lsbCBtYW51YWxseSBjYXVzZSBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9yIGxhdGVyXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBsaXN0ZW5lciBvciBjYWxsZWRcbiAgICAgICAgLy8gYW55IHByb21pc2UtcmV0dXJuaW5nIG1ldGhvZC5cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIFwiZlwiKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIH1cbiAgICBfcnVuKGV4ZWN1dG9yKSB7XG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgaWYgd2UgY2FsbCBgZXhlY3V0b3IoKWAgaW1tZWRpYXRlbHkgd2UgZ2V0IHJ1bnRpbWUgZXJyb3JzIGFib3V0XG4gICAgICAgIC8vIHJlZmVyZW5jZXMgdG8gYHRoaXNgIGJlZm9yZSB0aGUgYHN1cGVyKClgIGNvbnN0cnVjdG9yIGNhbGwgcmV0dXJucy5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBleGVjdXRvcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRGaW5hbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICAgICAgfSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yKS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuICAgIF9jb25uZWN0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3QnKTtcbiAgICB9XG4gICAgZ2V0IGVuZGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kZWQsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGVycm9yZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lcnJvcmVkLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBhYm9ydGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgICAqIE5vIGNoZWNrcyBhcmUgbWFkZSB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIE11bHRpcGxlIGNhbGxzIHBhc3NpbmdcbiAgICAgKiB0aGUgc2FtZSBjb21iaW5hdGlvbiBvZiBldmVudCBhbmQgbGlzdGVuZXIgd2lsbCByZXN1bHQgaW4gdGhlIGxpc3RlbmVyIGJlaW5nIGFkZGVkLCBhbmRcbiAgICAgKiBjYWxsZWQsIG11bHRpcGxlIHRpbWVzLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBldmVudC5cbiAgICAgKiBvZmYoKSB3aWxsIHJlbW92ZSwgYXQgbW9zdCwgb25lIGluc3RhbmNlIG9mIGEgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkuIElmIGFueSBzaW5nbGVcbiAgICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICAgKiBvZmYoKSBtdXN0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byByZW1vdmUgZWFjaCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAgICovXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmZpbmRJbmRleCgobCkgPT4gbC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZS10aW1lIGxpc3RlbmVyIGZ1bmN0aW9uIGZvciB0aGUgZXZlbnQuIFRoZSBuZXh0IHRpbWUgdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCxcbiAgICAgKiB0aGlzIGxpc3RlbmVyIGlzIHJlbW92ZWQgYW5kIHRoZW4gaW52b2tlZC5cbiAgICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAgICovXG4gICAgb25jZShldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIsIG9uY2U6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gYC5vbmNlKClgLCBidXQgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0aGUgbmV4dCB0aW1lXG4gICAgICogdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCwgaW5zdGVhZCBvZiBjYWxsaW5nIGEgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZSBnaXZlbiBldmVudCBpcyB0cmlnZ2VyZWQsXG4gICAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyBlbWl0dGVkLiAgKElmIHlvdSByZXF1ZXN0IHRoZSAnZXJyb3InIGV2ZW50LFxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXJyb3IpLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHN0cmVhbS5lbWl0dGVkKCdtZXNzYWdlJykgLy8gcmVqZWN0cyBpZiB0aGUgc3RyZWFtIGVycm9yc1xuICAgICAqL1xuICAgIGVtaXR0ZWQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChldmVudCAhPT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIHRoaXMub25jZShldmVudCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBkb25lKCkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIFwiZlwiKTtcbiAgICB9XG4gICAgX2VtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGVtaXQgYW55IGV2ZW50cyBhZnRlciBlbmRcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZGVkLCBcImZcIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gbGlzdGVuZXJzLmZpbHRlcigobCkgPT4gIWwub25jZSk7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoeyBsaXN0ZW5lciB9KSA9PiBsaXN0ZW5lciguLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIFwiZlwiKSAmJiAhbGlzdGVuZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IF9lbWl0KCdlcnJvcicsIGVycm9yKSBzaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSAjaGFuZGxlRXJyb3IoKS5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgXCJmXCIpICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgYW4gdW5oYW5kbGVkIHJlamVjdGlvbiBpZiB0aGUgdXNlciBoYXNuJ3QgcmVnaXN0ZXJlZCBhbnkgZXJyb3IgaGFuZGxlcnMuXG4gICAgICAgICAgICAgICAgLy8gSWYgeW91IGFyZSBzZWVpbmcgc3RhY2sgdHJhY2VzIGhlcmUsIG1ha2Ugc3VyZSB0byBoYW5kbGUgZXJyb3JzIHZpYSBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy8gLSBydW5uZXIub24oJ2Vycm9yJywgKCkgPT4gLi4uKVxuICAgICAgICAgICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmRvbmUoKVxuICAgICAgICAgICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmZpbmFsQ2hhdENvbXBsZXRpb24oKVxuICAgICAgICAgICAgICAgIC8vIC0gZXRjLlxuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9lbWl0RmluYWwoKSB7IH1cbn1cbl9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2xpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lbmRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lcnJvcmVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2Fib3J0ZWQgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IgPSBmdW5jdGlvbiBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lcnJvcmVkLCB0cnVlLCBcImZcIik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFQSVVzZXJBYm9ydEVycm9yKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2Fib3J0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBPcGVuQUlFcnJvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGNvbnN0IG9wZW5BSUVycm9yID0gbmV3IE9wZW5BSUVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG9wZW5BSUVycm9yLmNhdXNlID0gZXJyb3I7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIG9wZW5BSUVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IE9wZW5BSUVycm9yKFN0cmluZyhlcnJvcikpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFN0cmVhbS5tanMubWFwIl0sIm5hbWVzIjpbIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJyZWNlaXZlciIsInN0YXRlIiwidmFsdWUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJzZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiZ2V0IiwiX0V2ZW50U3RyZWFtX2luc3RhbmNlcyIsIl9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX2xpc3RlbmVycyIsIl9FdmVudFN0cmVhbV9lbmRlZCIsIl9FdmVudFN0cmVhbV9lcnJvcmVkIiwiX0V2ZW50U3RyZWFtX2Fib3J0ZWQiLCJfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCIsIl9FdmVudFN0cmVhbV9oYW5kbGVFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwiT3BlbkFJRXJyb3IiLCJFdmVudFN0cmVhbSIsImNvbnN0cnVjdG9yIiwiYWRkIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2F0Y2giLCJfcnVuIiwiZXhlY3V0b3IiLCJzZXRUaW1lb3V0IiwidGhlbiIsIl9lbWl0RmluYWwiLCJfZW1pdCIsImJpbmQiLCJfY29ubmVjdGVkIiwiZW5kZWQiLCJlcnJvcmVkIiwiYWJvcnRlZCIsImFib3J0Iiwib24iLCJldmVudCIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwicHVzaCIsIm9mZiIsImluZGV4IiwiZmluZEluZGV4IiwibCIsInNwbGljZSIsIm9uY2UiLCJlbWl0dGVkIiwiZG9uZSIsImFyZ3MiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiZXJyb3IiLCJsZW5ndGgiLCJXZWFrTWFwIiwiV2Vha1NldCIsIkVycm9yIiwibmFtZSIsIm9wZW5BSUVycm9yIiwibWVzc2FnZSIsImNhdXNlIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/EventStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/RunnableFunction.mjs":
/*!******************************************************!*\
  !*** ./node_modules/openai/lib/RunnableFunction.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParsingFunction: () => (/* binding */ ParsingFunction),\n/* harmony export */   ParsingToolFunction: () => (/* binding */ ParsingToolFunction),\n/* harmony export */   isRunnableFunctionWithParse: () => (/* binding */ isRunnableFunctionWithParse)\n/* harmony export */ });\nfunction isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === \"function\";\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n *\n * @deprecated - please use ParsingToolFunction instead.\n */ class ParsingFunction {\n    constructor(input){\n        this.function = input.function;\n        this.parse = input.parse;\n        this.parameters = input.parameters;\n        this.description = input.description;\n        this.name = input.name;\n    }\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */ class ParsingToolFunction {\n    constructor(input){\n        this.type = \"function\";\n        this.function = input;\n    }\n} //# sourceMappingURL=RunnableFunction.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9SdW5uYWJsZUZ1bmN0aW9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxTQUFTQSw0QkFBNEJDLEVBQUU7SUFDMUMsT0FBTyxPQUFPQSxHQUFHQyxLQUFLLEtBQUs7QUFDL0I7QUFDQTs7Ozs7Q0FLQyxHQUNNLE1BQU1DO0lBQ1RDLFlBQVlDLEtBQUssQ0FBRTtRQUNmLElBQUksQ0FBQ0MsUUFBUSxHQUFHRCxNQUFNQyxRQUFRO1FBQzlCLElBQUksQ0FBQ0osS0FBSyxHQUFHRyxNQUFNSCxLQUFLO1FBQ3hCLElBQUksQ0FBQ0ssVUFBVSxHQUFHRixNQUFNRSxVQUFVO1FBQ2xDLElBQUksQ0FBQ0MsV0FBVyxHQUFHSCxNQUFNRyxXQUFXO1FBQ3BDLElBQUksQ0FBQ0MsSUFBSSxHQUFHSixNQUFNSSxJQUFJO0lBQzFCO0FBQ0o7QUFDQTs7O0NBR0MsR0FDTSxNQUFNQztJQUNUTixZQUFZQyxLQUFLLENBQUU7UUFDZixJQUFJLENBQUNNLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ0wsUUFBUSxHQUFHRDtJQUNwQjtBQUNKLEVBQ0EsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1J1bm5hYmxlRnVuY3Rpb24ubWpzP2E2YjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4ucGFyc2UgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICpcbiAqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBQYXJzaW5nVG9vbEZ1bmN0aW9uIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzaW5nRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dC5mdW5jdGlvbjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IGlucHV0LnBhcnNlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBpbnB1dC5wYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMubmFtZSA9IGlucHV0Lm5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGlzIGhlbHBlciBjbGFzcyBmb3IgcGFzc2luZyBhIGBmdW5jdGlvbmAgYW5kIGBwYXJzZWAgd2hlcmUgdGhlIGBmdW5jdGlvbmBcbiAqIGFyZ3VtZW50IHR5cGUgbWF0Y2hlcyB0aGUgYHBhcnNlYCByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdUb29sRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdmdW5jdGlvbic7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SdW5uYWJsZUZ1bmN0aW9uLm1qcy5tYXAiXSwibmFtZXMiOlsiaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlIiwiZm4iLCJwYXJzZSIsIlBhcnNpbmdGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwiaW5wdXQiLCJmdW5jdGlvbiIsInBhcmFtZXRlcnMiLCJkZXNjcmlwdGlvbiIsIm5hbWUiLCJQYXJzaW5nVG9vbEZ1bmN0aW9uIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/RunnableFunction.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/Util.mjs":
/*!******************************************!*\
  !*** ./node_modules/openai/lib/Util.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   allSettledWithThrow: () => (/* binding */ allSettledWithThrow)\n/* harmony export */ });\n/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */ const allSettledWithThrow = async (promises)=>{\n    const results = await Promise.allSettled(promises);\n    const rejected = results.filter((result)=>result.status === \"rejected\");\n    if (rejected.length) {\n        for (const result of rejected){\n            console.error(result.reason);\n        }\n        throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n    }\n    // Note: TS was complaining about using `.filter().map()` here for some reason\n    const values = [];\n    for (const result of results){\n        if (result.status === \"fulfilled\") {\n            values.push(result.value);\n        }\n    }\n    return values;\n}; //# sourceMappingURL=Util.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9VdGlsLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0NBRUMsR0FDTSxNQUFNQSxzQkFBc0IsT0FBT0M7SUFDdEMsTUFBTUMsVUFBVSxNQUFNQyxRQUFRQyxVQUFVLENBQUNIO0lBQ3pDLE1BQU1JLFdBQVdILFFBQVFJLE1BQU0sQ0FBQyxDQUFDQyxTQUFXQSxPQUFPQyxNQUFNLEtBQUs7SUFDOUQsSUFBSUgsU0FBU0ksTUFBTSxFQUFFO1FBQ2pCLEtBQUssTUFBTUYsVUFBVUYsU0FBVTtZQUMzQkssUUFBUUMsS0FBSyxDQUFDSixPQUFPSyxNQUFNO1FBQy9CO1FBQ0EsTUFBTSxJQUFJQyxNQUFNLENBQUMsRUFBRVIsU0FBU0ksTUFBTSxDQUFDLHlDQUF5QyxDQUFDO0lBQ2pGO0lBQ0EsOEVBQThFO0lBQzlFLE1BQU1LLFNBQVMsRUFBRTtJQUNqQixLQUFLLE1BQU1QLFVBQVVMLFFBQVM7UUFDMUIsSUFBSUssT0FBT0MsTUFBTSxLQUFLLGFBQWE7WUFDL0JNLE9BQU9DLElBQUksQ0FBQ1IsT0FBT1MsS0FBSztRQUM1QjtJQUNKO0lBQ0EsT0FBT0Y7QUFDWCxFQUFFLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1V0aWwubWpzP2M4ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWtlIGBQcm9taXNlLmFsbFNldHRsZWQoKWAgYnV0IHRocm93cyBhbiBlcnJvciBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgYWxsU2V0dGxlZFdpdGhUaHJvdyA9IGFzeW5jIChwcm9taXNlcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gICAgaWYgKHJlamVjdGVkLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZWplY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXN1bHQucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVqZWN0ZWQubGVuZ3RofSBwcm9taXNlKHMpIGZhaWxlZCAtIHNlZSB0aGUgYWJvdmUgZXJyb3JzYCk7XG4gICAgfVxuICAgIC8vIE5vdGU6IFRTIHdhcyBjb21wbGFpbmluZyBhYm91dCB1c2luZyBgLmZpbHRlcigpLm1hcCgpYCBoZXJlIGZvciBzb21lIHJlYXNvblxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbC5tanMubWFwIl0sIm5hbWVzIjpbImFsbFNldHRsZWRXaXRoVGhyb3ciLCJwcm9taXNlcyIsInJlc3VsdHMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInJlamVjdGVkIiwiZmlsdGVyIiwicmVzdWx0Iiwic3RhdHVzIiwibGVuZ3RoIiwiY29uc29sZSIsImVycm9yIiwicmVhc29uIiwiRXJyb3IiLCJ2YWx1ZXMiLCJwdXNoIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/Util.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/chatCompletionUtils.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/openai/lib/chatCompletionUtils.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAssistantMessage: () => (/* binding */ isAssistantMessage),\n/* harmony export */   isFunctionMessage: () => (/* binding */ isFunctionMessage),\n/* harmony export */   isPresent: () => (/* binding */ isPresent),\n/* harmony export */   isToolMessage: () => (/* binding */ isToolMessage)\n/* harmony export */ });\nconst isAssistantMessage = (message)=>{\n    return message?.role === \"assistant\";\n};\nconst isFunctionMessage = (message)=>{\n    return message?.role === \"function\";\n};\nconst isToolMessage = (message)=>{\n    return message?.role === \"tool\";\n};\nfunction isPresent(obj) {\n    return obj != null;\n} //# sourceMappingURL=chatCompletionUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9jaGF0Q29tcGxldGlvblV0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU8sTUFBTUEscUJBQXFCLENBQUNDO0lBQy9CLE9BQU9BLFNBQVNDLFNBQVM7QUFDN0IsRUFBRTtBQUNLLE1BQU1DLG9CQUFvQixDQUFDRjtJQUM5QixPQUFPQSxTQUFTQyxTQUFTO0FBQzdCLEVBQUU7QUFDSyxNQUFNRSxnQkFBZ0IsQ0FBQ0g7SUFDMUIsT0FBT0EsU0FBU0MsU0FBUztBQUM3QixFQUFFO0FBQ0ssU0FBU0csVUFBVUMsR0FBRztJQUN6QixPQUFPQSxPQUFPO0FBQ2xCLEVBQ0EsZ0RBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMubWpzPzcyYTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzQXNzaXN0YW50TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnO1xufTtcbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdmdW5jdGlvbic7XG59O1xuZXhwb3J0IGNvbnN0IGlzVG9vbE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAndG9vbCc7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlc2VudChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0Q29tcGxldGlvblV0aWxzLm1qcy5tYXAiXSwibmFtZXMiOlsiaXNBc3Npc3RhbnRNZXNzYWdlIiwibWVzc2FnZSIsInJvbGUiLCJpc0Z1bmN0aW9uTWVzc2FnZSIsImlzVG9vbE1lc3NhZ2UiLCJpc1ByZXNlbnQiLCJvYmoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/chatCompletionUtils.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/lib/parser.mjs":
/*!********************************************!*\
  !*** ./node_modules/openai/lib/parser.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasAutoParseableInput: () => (/* binding */ hasAutoParseableInput),\n/* harmony export */   isAutoParsableResponseFormat: () => (/* binding */ isAutoParsableResponseFormat),\n/* harmony export */   isAutoParsableTool: () => (/* binding */ isAutoParsableTool),\n/* harmony export */   makeParseableResponseFormat: () => (/* binding */ makeParseableResponseFormat),\n/* harmony export */   makeParseableTool: () => (/* binding */ makeParseableTool),\n/* harmony export */   maybeParseChatCompletion: () => (/* binding */ maybeParseChatCompletion),\n/* harmony export */   parseChatCompletion: () => (/* binding */ parseChatCompletion),\n/* harmony export */   shouldParseToolCall: () => (/* binding */ shouldParseToolCall),\n/* harmony export */   validateInputTools: () => (/* binding */ validateInputTools)\n/* harmony export */ });\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\n\nfunction makeParseableResponseFormat(response_format, parser) {\n    const obj = {\n        ...response_format\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-response-format\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction isAutoParsableResponseFormat(response_format) {\n    return response_format?.[\"$brand\"] === \"auto-parseable-response-format\";\n}\nfunction makeParseableTool(tool, { parser, callback }) {\n    const obj = {\n        ...tool\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-tool\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        },\n        $callback: {\n            value: callback,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction isAutoParsableTool(tool) {\n    return tool?.[\"$brand\"] === \"auto-parseable-tool\";\n}\nfunction maybeParseChatCompletion(completion, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...completion,\n            choices: completion.choices.map((choice)=>({\n                    ...choice,\n                    message: {\n                        ...choice.message,\n                        parsed: null,\n                        tool_calls: choice.message.tool_calls ?? []\n                    }\n                }))\n        };\n    }\n    return parseChatCompletion(completion, params);\n}\nfunction parseChatCompletion(completion, params) {\n    const choices = completion.choices.map((choice)=>{\n        if (choice.finish_reason === \"length\") {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_0__.LengthFinishReasonError();\n        }\n        if (choice.finish_reason === \"content_filter\") {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_0__.ContentFilterFinishReasonError();\n        }\n        return {\n            ...choice,\n            message: {\n                ...choice.message,\n                tool_calls: choice.message.tool_calls?.map((toolCall)=>parseToolCall(params, toolCall)) ?? [],\n                parsed: choice.message.content && !choice.message.refusal ? parseResponseFormat(params, choice.message.content) : null\n            }\n        };\n    });\n    return {\n        ...completion,\n        choices\n    };\n}\nfunction parseResponseFormat(params, content) {\n    if (params.response_format?.type !== \"json_schema\") {\n        return null;\n    }\n    if (params.response_format?.type === \"json_schema\") {\n        if (\"$parseRaw\" in params.response_format) {\n            const response_format = params.response_format;\n            return response_format.$parseRaw(content);\n        }\n        return JSON.parse(content);\n    }\n    return null;\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = params.tools?.find((inputTool)=>inputTool.function?.name === toolCall.function.name);\n    return {\n        ...toolCall,\n        function: {\n            ...toolCall.function,\n            parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments) : inputTool?.function.strict ? JSON.parse(toolCall.function.arguments) : null\n        }\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = params.tools?.find((inputTool)=>inputTool.function?.name === toolCall.function.name);\n    return isAutoParsableTool(inputTool) || inputTool?.function.strict || false;\n}\nfunction hasAutoParseableInput(params) {\n    if (isAutoParsableResponseFormat(params.response_format)) {\n        return true;\n    }\n    return params.tools?.some((t)=>isAutoParsableTool(t) || t.type === \"function\" && t.function.strict === true) ?? false;\n}\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []){\n        if (tool.type !== \"function\") {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new openai_error__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n} //# sourceMappingURL=parser.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9wYXJzZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBb0c7QUFDN0YsU0FBU0csNEJBQTRCQyxlQUFlLEVBQUVDLE1BQU07SUFDL0QsTUFBTUMsTUFBTTtRQUFFLEdBQUdGLGVBQWU7SUFBQztJQUNqQ0csT0FBT0MsZ0JBQWdCLENBQUNGLEtBQUs7UUFDekJHLFFBQVE7WUFDSkMsT0FBTztZQUNQQyxZQUFZO1FBQ2hCO1FBQ0FDLFdBQVc7WUFDUEYsT0FBT0w7WUFDUE0sWUFBWTtRQUNoQjtJQUNKO0lBQ0EsT0FBT0w7QUFDWDtBQUNPLFNBQVNPLDZCQUE2QlQsZUFBZTtJQUN4RCxPQUFPQSxpQkFBaUIsQ0FBQyxTQUFTLEtBQUs7QUFDM0M7QUFDTyxTQUFTVSxrQkFBa0JDLElBQUksRUFBRSxFQUFFVixNQUFNLEVBQUVXLFFBQVEsRUFBRztJQUN6RCxNQUFNVixNQUFNO1FBQUUsR0FBR1MsSUFBSTtJQUFDO0lBQ3RCUixPQUFPQyxnQkFBZ0IsQ0FBQ0YsS0FBSztRQUN6QkcsUUFBUTtZQUNKQyxPQUFPO1lBQ1BDLFlBQVk7UUFDaEI7UUFDQUMsV0FBVztZQUNQRixPQUFPTDtZQUNQTSxZQUFZO1FBQ2hCO1FBQ0FNLFdBQVc7WUFDUFAsT0FBT007WUFDUEwsWUFBWTtRQUNoQjtJQUNKO0lBQ0EsT0FBT0w7QUFDWDtBQUNPLFNBQVNZLG1CQUFtQkgsSUFBSTtJQUNuQyxPQUFPQSxNQUFNLENBQUMsU0FBUyxLQUFLO0FBQ2hDO0FBQ08sU0FBU0kseUJBQXlCQyxVQUFVLEVBQUVDLE1BQU07SUFDdkQsSUFBSSxDQUFDQSxVQUFVLENBQUNDLHNCQUFzQkQsU0FBUztRQUMzQyxPQUFPO1lBQ0gsR0FBR0QsVUFBVTtZQUNiRyxTQUFTSCxXQUFXRyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxTQUFZO29CQUN6QyxHQUFHQSxNQUFNO29CQUNUQyxTQUFTO3dCQUFFLEdBQUdELE9BQU9DLE9BQU87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WUFBWTtZQUMxQixNQUFNLElBQUlsQyxxREFBV0EsQ0FBQyxDQUFDLHdFQUF3RSxFQUFFYSxLQUFLcUIsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsSDtRQUNBLElBQUlyQixLQUFLMkIsUUFBUSxDQUFDSSxNQUFNLEtBQUssTUFBTTtZQUMvQixNQUFNLElBQUk1QyxxREFBV0EsQ0FBQyxDQUFDLE1BQU0sRUFBRWEsS0FBSzJCLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDLDBGQUEwRixDQUFDO1FBQ2pKO0lBQ0o7QUFDSixFQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9wYXJzZXIubWpzPzNmOTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLCBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tICdvcGVuYWkvZXJyb3InO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQsIHBhcnNlcikge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQpIHtcbiAgICByZXR1cm4gcmVzcG9uc2VfZm9ybWF0Py5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlVG9vbCh0b29sLCB7IHBhcnNlciwgY2FsbGJhY2ssIH0pIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNvbXBsZXRpb24sXG4gICAgICAgICAgICBjaG9pY2VzOiBjb21wbGV0aW9uLmNob2ljZXMubWFwKChjaG9pY2UpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHsgLi4uY2hvaWNlLm1lc3NhZ2UsIHBhcnNlZDogbnVsbCwgdG9vbF9jYWxsczogY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyA/PyBbXSB9LFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICBpZiAoY2hvaWNlLmZpbmlzaF9yZWFzb24gPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hvaWNlLmZpbmlzaF9yZWFzb24gPT09ICdjb250ZW50X2ZpbHRlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHM/Lm1hcCgodG9vbENhbGwpID0+IHBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkpID8/IFtdLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlucHV0VG9vbC5mdW5jdGlvbj8ubmFtZSA9PT0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAuLi50b29sQ2FsbC5mdW5jdGlvbixcbiAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgOiBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiXSwibmFtZXMiOlsiQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIiwiTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IiLCJPcGVuQUlFcnJvciIsIm1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdCIsInJlc3BvbnNlX2Zvcm1hdCIsInBhcnNlciIsIm9iaiIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCIkYnJhbmQiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCIkcGFyc2VSYXciLCJpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0IiwibWFrZVBhcnNlYWJsZVRvb2wiLCJ0b29sIiwiY2FsbGJhY2siLCIkY2FsbGJhY2siLCJpc0F1dG9QYXJzYWJsZVRvb2wiLCJtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24iLCJjb21wbGV0aW9uIiwicGFyYW1zIiwiaGFzQXV0b1BhcnNlYWJsZUlucHV0IiwiY2hvaWNlcyIsIm1hcCIsImNob2ljZSIsIm1lc3NhZ2UiLCJwYXJzZWQiLCJ0b29sX2NhbGxzIiwicGFyc2VDaGF0Q29tcGxldGlvbiIsImZpbmlzaF9yZWFzb24iLCJ0b29sQ2FsbCIsInBhcnNlVG9vbENhbGwiLCJjb250ZW50IiwicmVmdXNhbCIsInBhcnNlUmVzcG9uc2VGb3JtYXQiLCJ0eXBlIiwiSlNPTiIsInBhcnNlIiwiaW5wdXRUb29sIiwidG9vbHMiLCJmaW5kIiwiZnVuY3Rpb24iLCJuYW1lIiwicGFyc2VkX2FyZ3VtZW50cyIsImFyZ3VtZW50cyIsInN0cmljdCIsInNob3VsZFBhcnNlVG9vbENhbGwiLCJzb21lIiwidCIsInZhbGlkYXRlSW5wdXRUb29scyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/lib/parser.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/pagination.mjs":
/*!********************************************!*\
  !*** ./node_modules/openai/pagination.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CursorPage: () => (/* binding */ CursorPage),\n/* harmony export */   Page: () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class Page extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractPage {\n    constructor(client, response, body, options){\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    /**\n     * This page represents a response that isn't actually paginated at the API level\n     * so there will never be any next page params.\n     */ nextPageParams() {\n        return null;\n    }\n    nextPageInfo() {\n        return null;\n    }\n}\nclass CursorPage extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractPage {\n    constructor(client, response, body, options){\n        super(client, response, body, options);\n        this.data = body.data || [];\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    nextPageParams() {\n        const info = this.nextPageInfo();\n        if (!info) return null;\n        if (\"params\" in info) return info.params;\n        const params = Object.fromEntries(info.url.searchParams);\n        if (!Object.keys(params).length) return null;\n        return params;\n    }\n    nextPageInfo() {\n        const data = this.getPaginatedItems();\n        if (!data.length) {\n            return null;\n        }\n        const id = data[data.length - 1]?.id;\n        if (!id) {\n            return null;\n        }\n        return {\n            params: {\n                after: id\n            }\n        };\n    }\n} //# sourceMappingURL=pagination.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3BhZ2luYXRpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUM1QztBQUMxQzs7Q0FFQyxHQUNNLE1BQU1DLGFBQWFELG1EQUFZQTtJQUNsQ0UsWUFBWUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsT0FBTyxDQUFFO1FBQ3pDLEtBQUssQ0FBQ0gsUUFBUUMsVUFBVUMsTUFBTUM7UUFDOUIsSUFBSSxDQUFDQyxJQUFJLEdBQUdGLEtBQUtFLElBQUksSUFBSSxFQUFFO1FBQzNCLElBQUksQ0FBQ0MsTUFBTSxHQUFHSCxLQUFLRyxNQUFNO0lBQzdCO0lBQ0FDLG9CQUFvQjtRQUNoQixPQUFPLElBQUksQ0FBQ0YsSUFBSSxJQUFJLEVBQUU7SUFDMUI7SUFDQSxrREFBa0Q7SUFDbEQ7OztLQUdDLEdBQ0RHLGlCQUFpQjtRQUNiLE9BQU87SUFDWDtJQUNBQyxlQUFlO1FBQ1gsT0FBTztJQUNYO0FBQ0o7QUFDTyxNQUFNQyxtQkFBbUJaLG1EQUFZQTtJQUN4Q0UsWUFBWUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsT0FBTyxDQUFFO1FBQ3pDLEtBQUssQ0FBQ0gsUUFBUUMsVUFBVUMsTUFBTUM7UUFDOUIsSUFBSSxDQUFDQyxJQUFJLEdBQUdGLEtBQUtFLElBQUksSUFBSSxFQUFFO0lBQy9CO0lBQ0FFLG9CQUFvQjtRQUNoQixPQUFPLElBQUksQ0FBQ0YsSUFBSSxJQUFJLEVBQUU7SUFDMUI7SUFDQSxrREFBa0Q7SUFDbERHLGlCQUFpQjtRQUNiLE1BQU1HLE9BQU8sSUFBSSxDQUFDRixZQUFZO1FBQzlCLElBQUksQ0FBQ0UsTUFDRCxPQUFPO1FBQ1gsSUFBSSxZQUFZQSxNQUNaLE9BQU9BLEtBQUtDLE1BQU07UUFDdEIsTUFBTUEsU0FBU0MsT0FBT0MsV0FBVyxDQUFDSCxLQUFLSSxHQUFHLENBQUNDLFlBQVk7UUFDdkQsSUFBSSxDQUFDSCxPQUFPSSxJQUFJLENBQUNMLFFBQVFNLE1BQU0sRUFDM0IsT0FBTztRQUNYLE9BQU9OO0lBQ1g7SUFDQUgsZUFBZTtRQUNYLE1BQU1KLE9BQU8sSUFBSSxDQUFDRSxpQkFBaUI7UUFDbkMsSUFBSSxDQUFDRixLQUFLYSxNQUFNLEVBQUU7WUFDZCxPQUFPO1FBQ1g7UUFDQSxNQUFNQyxLQUFLZCxJQUFJLENBQUNBLEtBQUthLE1BQU0sR0FBRyxFQUFFLEVBQUVDO1FBQ2xDLElBQUksQ0FBQ0EsSUFBSTtZQUNMLE9BQU87UUFDWDtRQUNBLE9BQU87WUFBRVAsUUFBUTtnQkFBRVEsT0FBT0Q7WUFBRztRQUFFO0lBQ25DO0FBQ0osRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9wYWdpbmF0aW9uLm1qcz8yYzdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBYnN0cmFjdFBhZ2UgfSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlIGV4dGVuZHMgQWJzdHJhY3RQYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBib2R5LmRhdGEgfHwgW107XG4gICAgICAgIHRoaXMub2JqZWN0ID0gYm9keS5vYmplY3Q7XG4gICAgfVxuICAgIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICAgIH1cbiAgICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAgIC8qKlxuICAgICAqIFRoaXMgcGFnZSByZXByZXNlbnRzIGEgcmVzcG9uc2UgdGhhdCBpc24ndCBhY3R1YWxseSBwYWdpbmF0ZWQgYXQgdGhlIEFQSSBsZXZlbFxuICAgICAqIHNvIHRoZXJlIHdpbGwgbmV2ZXIgYmUgYW55IG5leHQgcGFnZSBwYXJhbXMuXG4gICAgICovXG4gICAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBuZXh0UGFnZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXJzb3JQYWdlIGV4dGVuZHMgQWJzdHJhY3RQYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBib2R5LmRhdGEgfHwgW107XG4gICAgfVxuICAgIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICAgIH1cbiAgICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAgIG5leHRQYWdlUGFyYW1zKCkge1xuICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICAgICAgaWYgKCFpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgncGFyYW1zJyBpbiBpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5mby51cmwuc2VhcmNoUGFyYW1zKTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBuZXh0UGFnZUluZm8oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldFBhZ2luYXRlZEl0ZW1zKCk7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlkID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdPy5pZDtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcGFyYW1zOiB7IGFmdGVyOiBpZCB9IH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnaW5hdGlvbi5tanMubWFwIl0sIm5hbWVzIjpbIkFic3RyYWN0UGFnZSIsIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImNsaWVudCIsInJlc3BvbnNlIiwiYm9keSIsIm9wdGlvbnMiLCJkYXRhIiwib2JqZWN0IiwiZ2V0UGFnaW5hdGVkSXRlbXMiLCJuZXh0UGFnZVBhcmFtcyIsIm5leHRQYWdlSW5mbyIsIkN1cnNvclBhZ2UiLCJpbmZvIiwicGFyYW1zIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJ1cmwiLCJzZWFyY2hQYXJhbXMiLCJrZXlzIiwibGVuZ3RoIiwiaWQiLCJhZnRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/pagination.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resource.mjs":
/*!******************************************!*\
  !*** ./node_modules/openai/resource.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIResource: () => (/* binding */ APIResource)\n/* harmony export */ });\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nclass APIResource {\n    constructor(client){\n        this._client = client;\n    }\n} //# sourceMappingURL=resource.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsc0ZBQXNGO0FBQy9FLE1BQU1BO0lBQ1RDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixJQUFJLENBQUNDLE9BQU8sR0FBR0Q7SUFDbkI7QUFDSixFQUNBLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlLm1qcz9lMmM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImNvbnN0cnVjdG9yIiwiY2xpZW50IiwiX2NsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resource.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/audio/audio.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/openai/resources/audio/audio.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Audio: () => (/* binding */ Audio)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _speech_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./speech.mjs */ \"(rsc)/./node_modules/openai/resources/audio/speech.mjs\");\n/* harmony import */ var _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transcriptions.mjs */ \"(rsc)/./node_modules/openai/resources/audio/transcriptions.mjs\");\n/* harmony import */ var _translations_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./translations.mjs */ \"(rsc)/./node_modules/openai/resources/audio/translations.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Audio extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.transcriptions = new _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__.Transcriptions(this._client);\n        this.translations = new _translations_mjs__WEBPACK_IMPORTED_MODULE_2__.Translations(this._client);\n        this.speech = new _speech_mjs__WEBPACK_IMPORTED_MODULE_3__.Speech(this._client);\n    }\n}\n(function(Audio) {\n    Audio.Transcriptions = _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__.Transcriptions;\n    Audio.Translations = _translations_mjs__WEBPACK_IMPORTED_MODULE_2__.Translations;\n    Audio.Speech = _speech_mjs__WEBPACK_IMPORTED_MODULE_3__.Speech;\n})(Audio || (Audio = {})); //# sourceMappingURL=audio.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby9hdWRpby5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDUDtBQUNnQjtBQUNKO0FBQy9DLE1BQU1JLGNBQWNKLHNEQUFXQTtJQUNsQ0ssYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLGNBQWMsR0FBRyxJQUFJTCwrREFBZ0MsQ0FBQyxJQUFJLENBQUNPLE9BQU87UUFDdkUsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSVAsMkRBQTRCLENBQUMsSUFBSSxDQUFDTSxPQUFPO1FBQ2pFLElBQUksQ0FBQ0csTUFBTSxHQUFHLElBQUlYLCtDQUFnQixDQUFDLElBQUksQ0FBQ1EsT0FBTztJQUNuRDtBQUNKO0FBQ0MsVUFBVUwsS0FBSztJQUNaQSxNQUFNSSxjQUFjLEdBQUdOLCtEQUFnQztJQUN2REUsTUFBTU8sWUFBWSxHQUFHUiwyREFBNEI7SUFDakRDLE1BQU1TLE1BQU0sR0FBR1osK0NBQWdCO0FBQ25DLEdBQUdHLFNBQVVBLENBQUFBLFFBQVEsQ0FBQyxLQUN0QixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYXVkaW8vYXVkaW8ubWpzP2RhNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgU3BlZWNoQVBJIGZyb20gXCIuL3NwZWVjaC5tanNcIjtcbmltcG9ydCAqIGFzIFRyYW5zY3JpcHRpb25zQVBJIGZyb20gXCIuL3RyYW5zY3JpcHRpb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNsYXRpb25zQVBJIGZyb20gXCIuL3RyYW5zbGF0aW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBBdWRpbyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy50cmFuc2NyaXB0aW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9ucyA9IG5ldyBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25zKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMuc3BlZWNoID0gbmV3IFNwZWVjaEFQSS5TcGVlY2godGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKEF1ZGlvKSB7XG4gICAgQXVkaW8uVHJhbnNjcmlwdGlvbnMgPSBUcmFuc2NyaXB0aW9uc0FQSS5UcmFuc2NyaXB0aW9ucztcbiAgICBBdWRpby5UcmFuc2xhdGlvbnMgPSBUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25zO1xuICAgIEF1ZGlvLlNwZWVjaCA9IFNwZWVjaEFQSS5TcGVlY2g7XG59KShBdWRpbyB8fCAoQXVkaW8gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXVkaW8ubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIlNwZWVjaEFQSSIsIlRyYW5zY3JpcHRpb25zQVBJIiwiVHJhbnNsYXRpb25zQVBJIiwiQXVkaW8iLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInRyYW5zY3JpcHRpb25zIiwiVHJhbnNjcmlwdGlvbnMiLCJfY2xpZW50IiwidHJhbnNsYXRpb25zIiwiVHJhbnNsYXRpb25zIiwic3BlZWNoIiwiU3BlZWNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/audio/audio.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/audio/speech.mjs":
/*!********************************************************!*\
  !*** ./node_modules/openai/resources/audio/speech.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Speech: () => (/* binding */ Speech)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Speech extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Generates audio from the input text.\n     */ create(body, options) {\n        return this._client.post(\"/audio/speech\", {\n            body,\n            ...options,\n            __binaryResponse: true\n        });\n    }\n}\n(function(Speech) {})(Speech || (Speech = {})); //# sourceMappingURL=speech.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby9zcGVlY2gubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQzFDLE1BQU1DLGVBQWVELHNEQUFXQTtJQUNuQzs7S0FFQyxHQUNERSxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsaUJBQWlCO1lBQUVIO1lBQU0sR0FBR0MsT0FBTztZQUFFRyxrQkFBa0I7UUFBSztJQUN6RjtBQUNKO0FBQ0MsVUFBVU4sTUFBTSxHQUNqQixHQUFHQSxVQUFXQSxDQUFBQSxTQUFTLENBQUMsS0FDeEIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3NwZWVjaC5tanM/OWNiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgU3BlZWNoIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhdWRpbyBmcm9tIHRoZSBpbnB1dCB0ZXh0LlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3NwZWVjaCcsIHsgYm9keSwgLi4ub3B0aW9ucywgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSB9KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKFNwZWVjaCkge1xufSkoU3BlZWNoIHx8IChTcGVlY2ggPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BlZWNoLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJTcGVlY2giLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwiX19iaW5hcnlSZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/audio/speech.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/audio/transcriptions.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/openai/resources/audio/transcriptions.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Transcriptions: () => (/* binding */ Transcriptions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Transcriptions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/audio/transcriptions\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n}\n(function(Transcriptions) {})(Transcriptions || (Transcriptions = {})); //# sourceMappingURL=transcriptions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2NyaXB0aW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ1Y7QUFDaEMsTUFBTUUsdUJBQXVCRixzREFBV0E7SUFDM0NHLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyx5QkFBeUJOLGtFQUFnQyxDQUFDO1lBQUVHO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQzFHO0FBQ0o7QUFDQyxVQUFVSCxjQUFjLEdBQ3pCLEdBQUdBLGtCQUFtQkEsQ0FBQUEsaUJBQWlCLENBQUMsS0FDeEMsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcz81ZmM5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYXVkaW8vdHJhbnNjcmlwdGlvbnMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoVHJhbnNjcmlwdGlvbnMpIHtcbn0pKFRyYW5zY3JpcHRpb25zIHx8IChUcmFuc2NyaXB0aW9ucyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2NyaXB0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29yZSIsIlRyYW5zY3JpcHRpb25zIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/audio/transcriptions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/audio/translations.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/openai/resources/audio/translations.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Translations: () => (/* binding */ Translations)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Translations extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/audio/translations\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n}\n(function(Translations) {})(Translations || (Translations = {})); //# sourceMappingURL=translations.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNWO0FBQ2hDLE1BQU1FLHFCQUFxQkYsc0RBQVdBO0lBQ3pDRyxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsdUJBQXVCTixrRUFBZ0MsQ0FBQztZQUFFRztZQUFNLEdBQUdDLE9BQU87UUFBQztJQUN4RztBQUNKO0FBQ0MsVUFBVUgsWUFBWSxHQUN2QixHQUFHQSxnQkFBaUJBLENBQUFBLGVBQWUsQ0FBQyxLQUNwQyx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYXVkaW8vdHJhbnNsYXRpb25zLm1qcz80YzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3RyYW5zbGF0aW9ucycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChUcmFuc2xhdGlvbnMpIHtcbn0pKFRyYW5zbGF0aW9ucyB8fCAoVHJhbnNsYXRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zbGF0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29yZSIsIlRyYW5zbGF0aW9ucyIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/audio/translations.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/batches.mjs":
/*!***************************************************!*\
  !*** ./node_modules/openai/resources/batches.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Batches: () => (/* binding */ Batches),\n/* harmony export */   BatchesPage: () => (/* binding */ BatchesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _batches_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./batches.mjs */ \"(rsc)/./node_modules/openai/resources/batches.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Batches extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates and executes a batch from an uploaded file of requests\n     */ create(body, options) {\n        return this._client.post(\"/batches\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Retrieves a batch.\n     */ retrieve(batchId, options) {\n        return this._client.get(`/batches/${batchId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/batches\", BatchesPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Cancels an in-progress batch. The batch will be in status `cancelling` for up to\n     * 10 minutes, before changing to `cancelled`, where it will have partial results\n     * (if any) available in the output file.\n     */ cancel(batchId, options) {\n        return this._client.post(`/batches/${batchId}/cancel`, options);\n    }\n}\nclass BatchesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Batches) {\n    Batches.BatchesPage = _batches_mjs__WEBPACK_IMPORTED_MODULE_3__.BatchesPage;\n})(Batches || (Batches = {})); //# sourceMappingURL=batches.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iYXRjaGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDeEM7QUFDQztBQUNIO0FBQ0c7QUFDeEMsTUFBTUksZ0JBQWdCSixzREFBV0E7SUFDcEM7O0tBRUMsR0FDREssT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLFlBQVk7WUFBRUg7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDNUQ7SUFDQTs7S0FFQyxHQUNERyxTQUFTQyxPQUFPLEVBQUVKLE9BQU8sRUFBRTtRQUN2QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSSxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUVELFFBQVEsQ0FBQyxFQUFFSjtJQUNuRDtJQUNBTSxLQUFLQyxRQUFRLENBQUMsQ0FBQyxFQUFFUCxPQUFPLEVBQUU7UUFDdEIsSUFBSU4sMkRBQWdCQSxDQUFDYSxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRCxJQUFJLENBQUMsQ0FBQyxHQUFHQztRQUN6QjtRQUNBLE9BQU8sSUFBSSxDQUFDTixPQUFPLENBQUNPLFVBQVUsQ0FBQyxZQUFZQyxhQUFhO1lBQUVGO1lBQU8sR0FBR1AsT0FBTztRQUFDO0lBQ2hGO0lBQ0E7Ozs7S0FJQyxHQUNEVSxPQUFPTixPQUFPLEVBQUVKLE9BQU8sRUFBRTtRQUNyQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUVFLFFBQVEsT0FBTyxDQUFDLEVBQUVKO0lBQzNEO0FBQ0o7QUFDTyxNQUFNUyxvQkFBb0JiLHVEQUFVQTtBQUMzQztBQUNDLFVBQVVDLE9BQU87SUFDZEEsUUFBUVksV0FBVyxHQUFHZCxxREFBc0I7QUFDaEQsR0FBR0UsV0FBWUEsQ0FBQUEsVUFBVSxDQUFDLEtBQzFCLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iYXRjaGVzLm1qcz9jNDk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIEJhdGNoZXNBUEkgZnJvbSBcIi4vYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIGV4ZWN1dGVzIGEgYmF0Y2ggZnJvbSBhbiB1cGxvYWRlZCBmaWxlIG9mIHJlcXVlc3RzXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYmF0Y2hlcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgYmF0Y2guXG4gICAgICovXG4gICAgcmV0cmlldmUoYmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2JhdGNoZXMvJHtiYXRjaElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvYmF0Y2hlcycsIEJhdGNoZXNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGluLXByb2dyZXNzIGJhdGNoLiBUaGUgYmF0Y2ggd2lsbCBiZSBpbiBzdGF0dXMgYGNhbmNlbGxpbmdgIGZvciB1cCB0b1xuICAgICAqIDEwIG1pbnV0ZXMsIGJlZm9yZSBjaGFuZ2luZyB0byBgY2FuY2VsbGVkYCwgd2hlcmUgaXQgd2lsbCBoYXZlIHBhcnRpYWwgcmVzdWx0c1xuICAgICAqIChpZiBhbnkpIGF2YWlsYWJsZSBpbiB0aGUgb3V0cHV0IGZpbGUuXG4gICAgICovXG4gICAgY2FuY2VsKGJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvYmF0Y2hlcy8ke2JhdGNoSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXRjaGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuKGZ1bmN0aW9uIChCYXRjaGVzKSB7XG4gICAgQmF0Y2hlcy5CYXRjaGVzUGFnZSA9IEJhdGNoZXNBUEkuQmF0Y2hlc1BhZ2U7XG59KShCYXRjaGVzIHx8IChCYXRjaGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhdGNoZXMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJCYXRjaGVzQVBJIiwiQ3Vyc29yUGFnZSIsIkJhdGNoZXMiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwicmV0cmlldmUiLCJiYXRjaElkIiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIkJhdGNoZXNQYWdlIiwiY2FuY2VsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/batches.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/assistants.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/openai/resources/beta/assistants.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Assistants: () => (/* binding */ Assistants),\n/* harmony export */   AssistantsPage: () => (/* binding */ AssistantsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assistants.mjs */ \"(rsc)/./node_modules/openai/resources/beta/assistants.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Assistants extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create an assistant with a model and instructions.\n     */ create(body, options) {\n        return this._client.post(\"/assistants\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     */ retrieve(assistantId, options) {\n        return this._client.get(`/assistants/${assistantId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies an assistant.\n     */ update(assistantId, body, options) {\n        return this._client.post(`/assistants/${assistantId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/assistants\", AssistantsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete an assistant.\n     */ del(assistantId, options) {\n        return this._client.delete(`/assistants/${assistantId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass AssistantsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Assistants) {\n    Assistants.AssistantsPage = _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantsPage;\n})(Assistants || (Assistants = {})); //# sourceMappingURL=assistants.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNDO0FBQ0E7QUFDQTtBQUMzQyxNQUFNSSxtQkFBbUJKLHNEQUFXQTtJQUN2Qzs7S0FFQyxHQUNESyxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsZUFBZTtZQUNwQ0g7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNEQyxTQUFTQyxXQUFXLEVBQUVMLE9BQU8sRUFBRTtRQUMzQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUVELFlBQVksQ0FBQyxFQUFFO1lBQ2xELEdBQUdMLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RJLE9BQU9GLFdBQVcsRUFBRU4sSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDL0IsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsWUFBWSxFQUFFRyxZQUFZLENBQUMsRUFBRTtZQUNuRE47WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQUssS0FBS0MsUUFBUSxDQUFDLENBQUMsRUFBRVQsT0FBTyxFQUFFO1FBQ3RCLElBQUlOLDJEQUFnQkEsQ0FBQ2UsUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBR0M7UUFDekI7UUFDQSxPQUFPLElBQUksQ0FBQ1IsT0FBTyxDQUFDUyxVQUFVLENBQUMsZUFBZUMsZ0JBQWdCO1lBQzFERjtZQUNBLEdBQUdULE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RTLElBQUlQLFdBQVcsRUFBRUwsT0FBTyxFQUFFO1FBQ3RCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNZLE1BQU0sQ0FBQyxDQUFDLFlBQVksRUFBRVIsWUFBWSxDQUFDLEVBQUU7WUFDckQsR0FBR0wsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0FBQ0o7QUFDTyxNQUFNUSx1QkFBdUJmLHVEQUFVQTtBQUM5QztBQUNDLFVBQVVDLFVBQVU7SUFDakJBLFdBQVdjLGNBQWMsR0FBR2hCLDJEQUE0QjtBQUM1RCxHQUFHRSxjQUFlQSxDQUFBQSxhQUFhLENBQUMsS0FDaEMsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvYXNzaXN0YW50cy5tanM/NDUzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBBc3Npc3RhbnRzQVBJIGZyb20gXCIuL2Fzc2lzdGFudHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQXNzaXN0YW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYXNzaXN0YW50IHdpdGggYSBtb2RlbCBhbmQgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2Fzc2lzdGFudHMnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYW4gYXNzaXN0YW50LlxuICAgICAqL1xuICAgIHJldHJpZXZlKGFzc2lzdGFudElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYW4gYXNzaXN0YW50LlxuICAgICAqL1xuICAgIHVwZGF0ZShhc3Npc3RhbnRJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9hc3Npc3RhbnRzLyR7YXNzaXN0YW50SWR9YCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2Fzc2lzdGFudHMnLCBBc3Npc3RhbnRzUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbiBhc3Npc3RhbnQuXG4gICAgICovXG4gICAgZGVsKGFzc2lzdGFudElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXNzaXN0YW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbihmdW5jdGlvbiAoQXNzaXN0YW50cykge1xuICAgIEFzc2lzdGFudHMuQXNzaXN0YW50c1BhZ2UgPSBBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHNQYWdlO1xufSkoQXNzaXN0YW50cyB8fCAoQXNzaXN0YW50cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3Npc3RhbnRzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQXNzaXN0YW50c0FQSSIsIkN1cnNvclBhZ2UiLCJBc3Npc3RhbnRzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsImhlYWRlcnMiLCJyZXRyaWV2ZSIsImFzc2lzdGFudElkIiwiZ2V0IiwidXBkYXRlIiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIkFzc2lzdGFudHNQYWdlIiwiZGVsIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/assistants.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/beta.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/openai/resources/beta/beta.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Beta: () => (/* binding */ Beta)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assistants.mjs */ \"(rsc)/./node_modules/openai/resources/beta/assistants.mjs\");\n/* harmony import */ var _chat_chat_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat/chat.mjs */ \"(rsc)/./node_modules/openai/resources/beta/chat/chat.mjs\");\n/* harmony import */ var _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./threads/threads.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/threads.mjs\");\n/* harmony import */ var _vector_stores_vector_stores_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector-stores/vector-stores.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/vector-stores.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Beta extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.vectorStores = new _vector_stores_vector_stores_mjs__WEBPACK_IMPORTED_MODULE_1__.VectorStores(this._client);\n        this.chat = new _chat_chat_mjs__WEBPACK_IMPORTED_MODULE_2__.Chat(this._client);\n        this.assistants = new _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.Assistants(this._client);\n        this.threads = new _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__.Threads(this._client);\n    }\n}\n(function(Beta) {\n    Beta.VectorStores = _vector_stores_vector_stores_mjs__WEBPACK_IMPORTED_MODULE_1__.VectorStores;\n    Beta.VectorStoresPage = _vector_stores_vector_stores_mjs__WEBPACK_IMPORTED_MODULE_1__.VectorStoresPage;\n    Beta.Chat = _chat_chat_mjs__WEBPACK_IMPORTED_MODULE_2__.Chat;\n    Beta.Assistants = _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.Assistants;\n    Beta.AssistantsPage = _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantsPage;\n    Beta.Threads = _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__.Threads;\n})(Beta || (Beta = {})); //# sourceMappingURL=beta.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2JldGEubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNDO0FBQ1A7QUFDUztBQUNpQjtBQUM5RCxNQUFNSyxhQUFhTCxzREFBV0E7SUFDakNNLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSUosMEVBQTRCLENBQUMsSUFBSSxDQUFDTSxPQUFPO1FBQ2pFLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlULGdEQUFZLENBQUMsSUFBSSxDQUFDUSxPQUFPO1FBQ3pDLElBQUksQ0FBQ0csVUFBVSxHQUFHLElBQUlaLHVEQUF3QixDQUFDLElBQUksQ0FBQ1MsT0FBTztRQUMzRCxJQUFJLENBQUNLLE9BQU8sR0FBRyxJQUFJWix5REFBa0IsQ0FBQyxJQUFJLENBQUNPLE9BQU87SUFDdEQ7QUFDSjtBQUNDLFVBQVVMLElBQUk7SUFDWEEsS0FBS0ksWUFBWSxHQUFHTCwwRUFBNEI7SUFDaERDLEtBQUtZLGdCQUFnQixHQUFHYiw4RUFBZ0M7SUFDeERDLEtBQUtPLElBQUksR0FBR1YsZ0RBQVk7SUFDeEJHLEtBQUtTLFVBQVUsR0FBR2IsdURBQXdCO0lBQzFDSSxLQUFLYSxjQUFjLEdBQUdqQiwyREFBNEI7SUFDbERJLEtBQUtXLE9BQU8sR0FBR2IseURBQWtCO0FBQ3JDLEdBQUdFLFFBQVNBLENBQUFBLE9BQU8sQ0FBQyxLQUNwQixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9iZXRhLm1qcz9mOTI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSBcIi4vYXNzaXN0YW50cy5tanNcIjtcbmltcG9ydCAqIGFzIENoYXRBUEkgZnJvbSBcIi4vY2hhdC9jaGF0Lm1qc1wiO1xuaW1wb3J0ICogYXMgVGhyZWFkc0FQSSBmcm9tIFwiLi90aHJlYWRzL3RocmVhZHMubWpzXCI7XG5pbXBvcnQgKiBhcyBWZWN0b3JTdG9yZXNBUEkgZnJvbSBcIi4vdmVjdG9yLXN0b3Jlcy92ZWN0b3Itc3RvcmVzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEJldGEgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmVjdG9yU3RvcmVzID0gbmV3IFZlY3RvclN0b3Jlc0FQSS5WZWN0b3JTdG9yZXModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IENoYXRBUEkuQ2hhdCh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmFzc2lzdGFudHMgPSBuZXcgQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMudGhyZWFkcyA9IG5ldyBUaHJlYWRzQVBJLlRocmVhZHModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKEJldGEpIHtcbiAgICBCZXRhLlZlY3RvclN0b3JlcyA9IFZlY3RvclN0b3Jlc0FQSS5WZWN0b3JTdG9yZXM7XG4gICAgQmV0YS5WZWN0b3JTdG9yZXNQYWdlID0gVmVjdG9yU3RvcmVzQVBJLlZlY3RvclN0b3Jlc1BhZ2U7XG4gICAgQmV0YS5DaGF0ID0gQ2hhdEFQSS5DaGF0O1xuICAgIEJldGEuQXNzaXN0YW50cyA9IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50cztcbiAgICBCZXRhLkFzc2lzdGFudHNQYWdlID0gQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzUGFnZTtcbiAgICBCZXRhLlRocmVhZHMgPSBUaHJlYWRzQVBJLlRocmVhZHM7XG59KShCZXRhIHx8IChCZXRhID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJldGEubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkFzc2lzdGFudHNBUEkiLCJDaGF0QVBJIiwiVGhyZWFkc0FQSSIsIlZlY3RvclN0b3Jlc0FQSSIsIkJldGEiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInZlY3RvclN0b3JlcyIsIlZlY3RvclN0b3JlcyIsIl9jbGllbnQiLCJjaGF0IiwiQ2hhdCIsImFzc2lzdGFudHMiLCJBc3Npc3RhbnRzIiwidGhyZWFkcyIsIlRocmVhZHMiLCJWZWN0b3JTdG9yZXNQYWdlIiwiQXNzaXN0YW50c1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/beta.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/chat/chat.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/openai/resources/beta/chat/chat.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _completions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./completions.mjs */ \"(rsc)/./node_modules/openai/resources/beta/chat/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Chat extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.completions = new _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions(this._client);\n    }\n}\n(function(Chat) {\n    Chat.Completions = _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions;\n})(Chat || (Chat = {})); //# sourceMappingURL=chat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2NoYXQvY2hhdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0E7QUFDN0MsTUFBTUUsYUFBYUYsc0RBQVdBO0lBQ2pDRyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlKLHlEQUEwQixDQUFDLElBQUksQ0FBQ00sT0FBTztJQUNsRTtBQUNKO0FBQ0MsVUFBVUwsSUFBSTtJQUNYQSxLQUFLSSxXQUFXLEdBQUdMLHlEQUEwQjtBQUNqRCxHQUFHQyxRQUFTQSxDQUFBQSxPQUFPLENBQUMsS0FDcEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvY2hhdC9jaGF0Lm1qcz82Zjg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gXCIuL2NvbXBsZXRpb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXQgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKENoYXQpIHtcbiAgICBDaGF0LkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnM7XG59KShDaGF0IHx8IChDaGF0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvbXBsZXRpb25zQVBJIiwiQ2hhdCIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiY29tcGxldGlvbnMiLCJDb21wbGV0aW9ucyIsIl9jbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/chat/chat.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/chat/completions.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/openai/resources/beta/chat/completions.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionRunner: () => (/* reexport safe */ _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionRunner),\n/* harmony export */   ChatCompletionStream: () => (/* reexport safe */ _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_3__.ChatCompletionStream),\n/* harmony export */   ChatCompletionStreamingRunner: () => (/* reexport safe */ _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_1__.ChatCompletionStreamingRunner),\n/* harmony export */   Completions: () => (/* binding */ Completions),\n/* harmony export */   ParsingFunction: () => (/* reexport safe */ _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_2__.ParsingFunction),\n/* harmony export */   ParsingToolFunction: () => (/* reexport safe */ _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_2__.ParsingToolFunction)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/ChatCompletionRunner.mjs */ \"(rsc)/./node_modules/openai/lib/ChatCompletionRunner.mjs\");\n/* harmony import */ var _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/ChatCompletionStreamingRunner.mjs */ \"(rsc)/./node_modules/openai/lib/ChatCompletionStreamingRunner.mjs\");\n/* harmony import */ var _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/RunnableFunction.mjs */ \"(rsc)/./node_modules/openai/lib/RunnableFunction.mjs\");\n/* harmony import */ var _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/ChatCompletionStream.mjs */ \"(rsc)/./node_modules/openai/lib/ChatCompletionStream.mjs\");\n/* harmony import */ var _lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/parser.mjs */ \"(rsc)/./node_modules/openai/lib/parser.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\n\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_4__.APIResource {\n    parse(body, options) {\n        (0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__.validateInputTools)(body.tools);\n        return this._client.chat.completions.create(body, {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"beta.chat.completions.parse\"\n            }\n        })._thenUnwrap((completion)=>(0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__.parseChatCompletion)(completion, body));\n    }\n    runFunctions(body, options) {\n        if (body.stream) {\n            return _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_1__.ChatCompletionStreamingRunner.runFunctions(this._client, body, options);\n        }\n        return _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionRunner.runFunctions(this._client, body, options);\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_1__.ChatCompletionStreamingRunner.runTools(this._client, body, options);\n        }\n        return _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionRunner.runTools(this._client, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */ stream(body, options) {\n        return _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_3__.ChatCompletionStream.createChatCompletion(this._client, body, options);\n    }\n} //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2NoYXQvY29tcGxldGlvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUN5QjtBQUNBO0FBQ21CO0FBQ0E7QUFDTjtBQUNiO0FBQ0s7QUFDTDtBQUN0RSxNQUFNUSxvQkFBb0JSLHNEQUFXQTtJQUN4Q1MsTUFBTUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDakJKLG1FQUFrQkEsQ0FBQ0csS0FBS0UsS0FBSztRQUM3QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUNDLFdBQVcsQ0FDL0JDLE1BQU0sQ0FBQ04sTUFBTTtZQUNkLEdBQUdDLE9BQU87WUFDVk0sU0FBUztnQkFDTCxHQUFHTixTQUFTTSxPQUFPO2dCQUNuQiw2QkFBNkI7WUFDakM7UUFDSixHQUNLQyxXQUFXLENBQUMsQ0FBQ0MsYUFBZWIsb0VBQW1CQSxDQUFDYSxZQUFZVDtJQUNyRTtJQUNBVSxhQUFhVixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUN4QixJQUFJRCxLQUFLVyxNQUFNLEVBQUU7WUFDYixPQUFPbkIsaUdBQTZCQSxDQUFDa0IsWUFBWSxDQUFDLElBQUksQ0FBQ1AsT0FBTyxFQUFFSCxNQUFNQztRQUMxRTtRQUNBLE9BQU9WLCtFQUFvQkEsQ0FBQ21CLFlBQVksQ0FBQyxJQUFJLENBQUNQLE9BQU8sRUFBRUgsTUFBTUM7SUFDakU7SUFDQVcsU0FBU1osSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDcEIsSUFBSUQsS0FBS1csTUFBTSxFQUFFO1lBQ2IsT0FBT25CLGlHQUE2QkEsQ0FBQ29CLFFBQVEsQ0FBQyxJQUFJLENBQUNULE9BQU8sRUFBRUgsTUFBTUM7UUFDdEU7UUFDQSxPQUFPViwrRUFBb0JBLENBQUNxQixRQUFRLENBQUMsSUFBSSxDQUFDVCxPQUFPLEVBQUVILE1BQU1DO0lBQzdEO0lBQ0E7O0tBRUMsR0FDRFUsT0FBT1gsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBT04sK0VBQW9CQSxDQUFDa0Isb0JBQW9CLENBQUMsSUFBSSxDQUFDVixPQUFPLEVBQUVILE1BQU1DO0lBQ3pFO0FBQ0osRUFDQSx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9jaGF0L2NvbXBsZXRpb25zLm1qcz8wMGNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uUnVubmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uUnVubmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzXCI7XG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciwgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qc1wiO1xuZXhwb3J0IHsgUGFyc2luZ0Z1bmN0aW9uLCBQYXJzaW5nVG9vbEZ1bmN0aW9uLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvUnVubmFibGVGdW5jdGlvbi5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanNcIjtcbmltcG9ydCB7IHBhcnNlQ2hhdENvbXBsZXRpb24sIHZhbGlkYXRlSW5wdXRUb29scyB9IGZyb20gXCIuLi8uLi8uLi9saWIvcGFyc2VyLm1qc1wiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIHBhcnNlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgdmFsaWRhdGVJbnB1dFRvb2xzKGJvZHkudG9vbHMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmNoYXQuY29tcGxldGlvbnNcbiAgICAgICAgICAgIC5jcmVhdGUoYm9keSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zPy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ2JldGEuY2hhdC5jb21wbGV0aW9ucy5wYXJzZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLl90aGVuVW53cmFwKChjb21wbGV0aW9uKSA9PiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIGJvZHkpKTtcbiAgICB9XG4gICAgcnVuRnVuY3Rpb25zKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGJvZHkuc3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIucnVuRnVuY3Rpb25zKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uUnVubmVyLnJ1bkZ1bmN0aW9ucyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBydW5Ub29scyhib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChib2R5LnN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLnJ1blRvb2xzKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uUnVubmVyLnJ1blRvb2xzKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjaGF0IGNvbXBsZXRpb24gc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIENoYXRDb21wbGV0aW9uU3RyZWFtLmNyZWF0ZUNoYXRDb21wbGV0aW9uKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNoYXRDb21wbGV0aW9uUnVubmVyIiwiQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIiLCJQYXJzaW5nRnVuY3Rpb24iLCJQYXJzaW5nVG9vbEZ1bmN0aW9uIiwiQ2hhdENvbXBsZXRpb25TdHJlYW0iLCJwYXJzZUNoYXRDb21wbGV0aW9uIiwidmFsaWRhdGVJbnB1dFRvb2xzIiwiQ29tcGxldGlvbnMiLCJwYXJzZSIsImJvZHkiLCJvcHRpb25zIiwidG9vbHMiLCJfY2xpZW50IiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwiaGVhZGVycyIsIl90aGVuVW53cmFwIiwiY29tcGxldGlvbiIsInJ1bkZ1bmN0aW9ucyIsInN0cmVhbSIsInJ1blRvb2xzIiwiY3JlYXRlQ2hhdENvbXBsZXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/chat/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/threads/messages.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/openai/resources/beta/threads/messages.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Messages: () => (/* binding */ Messages),\n/* harmony export */   MessagesPage: () => (/* binding */ MessagesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _messages_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/messages.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Messages extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a message.\n     */ create(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieve a message.\n     */ retrieve(threadId, messageId, options) {\n        return this._client.get(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a message.\n     */ update(threadId, messageId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages/${messageId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Deletes a message.\n     */ del(threadId, messageId, options) {\n        return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass MessagesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Messages) {\n    Messages.MessagesPage = _messages_mjs__WEBPACK_IMPORTED_MODULE_3__.MessagesPage;\n})(Messages || (Messages = {})); //# sourceMappingURL=messages.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUNDO0FBQ1A7QUFDTztBQUM5QyxNQUFNSSxpQkFBaUJKLHNEQUFXQTtJQUNyQzs7S0FFQyxHQUNESyxPQUFPQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzVCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUosU0FBUyxTQUFTLENBQUMsRUFBRTtZQUN0REM7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNEQyxTQUFTTixRQUFRLEVBQUVPLFNBQVMsRUFBRUwsT0FBTyxFQUFFO1FBQ25DLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNLLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRVIsU0FBUyxVQUFVLEVBQUVPLFVBQVUsQ0FBQyxFQUFFO1lBQ2xFLEdBQUdMLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RJLE9BQU9ULFFBQVEsRUFBRU8sU0FBUyxFQUFFTixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUN2QyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUVKLFNBQVMsVUFBVSxFQUFFTyxVQUFVLENBQUMsRUFBRTtZQUNuRU47WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQUssS0FBS1YsUUFBUSxFQUFFVyxRQUFRLENBQUMsQ0FBQyxFQUFFVCxPQUFPLEVBQUU7UUFDaEMsSUFBSVAsMkRBQWdCQSxDQUFDZ0IsUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDVixVQUFVLENBQUMsR0FBR1c7UUFDbkM7UUFDQSxPQUFPLElBQUksQ0FBQ1IsT0FBTyxDQUFDUyxVQUFVLENBQUMsQ0FBQyxTQUFTLEVBQUVaLFNBQVMsU0FBUyxDQUFDLEVBQUVhLGNBQWM7WUFDMUVGO1lBQ0EsR0FBR1QsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDRFMsSUFBSWQsUUFBUSxFQUFFTyxTQUFTLEVBQUVMLE9BQU8sRUFBRTtRQUM5QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDWSxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUVmLFNBQVMsVUFBVSxFQUFFTyxVQUFVLENBQUMsRUFBRTtZQUNyRSxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7QUFDSjtBQUNPLE1BQU1RLHFCQUFxQmhCLHVEQUFVQTtBQUM1QztBQUNDLFVBQVVDLFFBQVE7SUFDZkEsU0FBU2UsWUFBWSxHQUFHakIsdURBQXdCO0FBQ3BELEdBQUdFLFlBQWFBLENBQUFBLFdBQVcsQ0FBQyxLQUM1QixxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL21lc3NhZ2VzLm1qcz8wNWRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIE1lc3NhZ2VzQVBJIGZyb20gXCIuL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1lc3NhZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY3JlYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIG1lc3NhZ2UuXG4gICAgICovXG4gICAgcmV0cmlldmUodGhyZWFkSWQsIG1lc3NhZ2VJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIG1lc3NhZ2UuXG4gICAgICovXG4gICAgdXBkYXRlKHRocmVhZElkLCBtZXNzYWdlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlcy8ke21lc3NhZ2VJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHRocmVhZElkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzYCwgTWVzc2FnZXNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZGVsKHRocmVhZElkLCBtZXNzYWdlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWVzc2FnZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG4oZnVuY3Rpb24gKE1lc3NhZ2VzKSB7XG4gICAgTWVzc2FnZXMuTWVzc2FnZXNQYWdlID0gTWVzc2FnZXNBUEkuTWVzc2FnZXNQYWdlO1xufSkoTWVzc2FnZXMgfHwgKE1lc3NhZ2VzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiTWVzc2FnZXNBUEkiLCJDdXJzb3JQYWdlIiwiTWVzc2FnZXMiLCJjcmVhdGUiLCJ0aHJlYWRJZCIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJoZWFkZXJzIiwicmV0cmlldmUiLCJtZXNzYWdlSWQiLCJnZXQiLCJ1cGRhdGUiLCJsaXN0IiwicXVlcnkiLCJnZXRBUElMaXN0IiwiTWVzc2FnZXNQYWdlIiwiZGVsIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/threads/messages.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/threads/runs/runs.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/openai/resources/beta/threads/runs/runs.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Runs: () => (/* binding */ Runs),\n/* harmony export */   RunsPage: () => (/* binding */ RunsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/AssistantStream.mjs */ \"(rsc)/./node_modules/openai/lib/AssistantStream.mjs\");\n/* harmony import */ var _runs_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./runs.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/runs/runs.mjs\");\n/* harmony import */ var _steps_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./steps.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/runs/steps.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Runs extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.steps = new _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.Steps(this._client);\n    }\n    create(threadId, params, options) {\n        const { include, ...body } = params;\n        return this._client.post(`/threads/${threadId}/runs`, {\n            query: {\n                include\n            },\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: params.stream ?? false\n        });\n    }\n    /**\n     * Retrieves a run.\n     */ retrieve(threadId, runId, options) {\n        return this._client.get(`/threads/${threadId}/runs/${runId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a run.\n     */ update(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     */ cancel(threadId, runId, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * A helper to create a run an poll for a terminal state. More information on Run\n     * lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async createAndPoll(threadId, body, options) {\n        const run = await this.create(threadId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Create a Run stream\n     *\n     * @deprecated use `stream` instead\n     */ createAndStream(threadId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    /**\n     * A helper to poll a run status until it reaches a terminal state. More\n     * information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async poll(threadId, runId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const { data: run, response } = await this.retrieve(threadId, runId, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    ...headers\n                }\n            }).withResponse();\n            switch(run.status){\n                //If we are in any sort of intermediate state we poll\n                case \"queued\":\n                case \"in_progress\":\n                case \"cancelling\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.sleep)(sleepInterval);\n                    break;\n                //We return the run in any terminal state.\n                case \"requires_action\":\n                case \"incomplete\":\n                case \"cancelled\":\n                case \"completed\":\n                case \"failed\":\n                case \"expired\":\n                    return run;\n            }\n        }\n    }\n    /**\n     * Create a Run stream\n     */ stream(threadId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    submitToolOutputs(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: body.stream ?? false\n        });\n    }\n    /**\n     * A helper to submit a tool output to a run and poll for a terminal run state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async submitToolOutputsAndPoll(threadId, runId, body, options) {\n        const run = await this.submitToolOutputs(threadId, runId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Submit the tool outputs from a previous run and stream the run to a terminal\n     * state. More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ submitToolOutputsStream(threadId, runId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);\n    }\n}\nclass RunsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.CursorPage {\n}\n(function(Runs) {\n    Runs.RunsPage = _runs_mjs__WEBPACK_IMPORTED_MODULE_5__.RunsPage;\n    Runs.Steps = _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.Steps;\n    Runs.RunStepsPage = _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.RunStepsPage;\n})(Runs || (Runs = {})); //# sourceMappingURL=runs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9ydW5zLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUMvQjtBQUNDO0FBQ2M7QUFDekI7QUFDUDtBQUNFO0FBQ2dCO0FBQ2pELE1BQU1PLGFBQWFQLHNEQUFXQTtJQUNqQ1EsYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJTCw2Q0FBYyxDQUFDLElBQUksQ0FBQ08sT0FBTztJQUNoRDtJQUNBQyxPQUFPQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQzlCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdDLE1BQU0sR0FBR0g7UUFDN0IsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ08sSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFTCxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ2xETSxPQUFPO2dCQUFFSDtZQUFRO1lBQ2pCQztZQUNBLEdBQUdGLE9BQU87WUFDVkssU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHTCxTQUFTSyxPQUFPO1lBQUM7WUFDL0RDLFFBQVFQLE9BQU9PLE1BQU0sSUFBSTtRQUM3QjtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU1QsUUFBUSxFQUFFVSxLQUFLLEVBQUVSLE9BQU8sRUFBRTtRQUMvQixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDYSxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUVYLFNBQVMsTUFBTSxFQUFFVSxNQUFNLENBQUMsRUFBRTtZQUMxRCxHQUFHUixPQUFPO1lBQ1ZLLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0wsU0FBU0ssT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESyxPQUFPWixRQUFRLEVBQUVVLEtBQUssRUFBRU4sSUFBSSxFQUFFRixPQUFPLEVBQUU7UUFDbkMsT0FBTyxJQUFJLENBQUNKLE9BQU8s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QUFDWixPQUFPLENBQUN5QixJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFckIsTUFBTUY7SUFDNUc7QUFDSjtBQUNPLE1BQU1hLGlCQUFpQnZCLHVEQUFVQTtBQUN4QztBQUNDLFVBQVVDLElBQUk7SUFDWEEsS0FBS3NCLFFBQVEsR0FBR3pCLCtDQUFnQjtJQUNoQ0csS0FBS0ksS0FBSyxHQUFHTiw2Q0FBYztJQUMzQkUsS0FBS2dELFlBQVksR0FBR2xELG9EQUFxQjtBQUM3QyxHQUFHRSxRQUFTQSxDQUFBQSxPQUFPLENBQUMsS0FDcEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMubWpzPzc5ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQXNzaXN0YW50U3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgUnVuc0FQSSBmcm9tIFwiLi9ydW5zLm1qc1wiO1xuaW1wb3J0ICogYXMgU3RlcHNBUEkgZnJvbSBcIi4vc3RlcHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgUnVucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zdGVwcyA9IG5ldyBTdGVwc0FQSS5TdGVwcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICBjcmVhdGUodGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGluY2x1ZGUsIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zYCwge1xuICAgICAgICAgICAgcXVlcnk6IHsgaW5jbHVkZSB9LFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgc3RyZWFtOiBwYXJhbXMuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcnVuLlxuICAgICAqL1xuICAgIHJldHJpZXZlKHRocmVhZElkLCBydW5JZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYSBydW4uXG4gICAgICovXG4gICAgdXBkYXRlKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHRocmVhZElkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnNgLCBSdW5zUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBydW4gdGhhdCBpcyBgaW5fcHJvZ3Jlc3NgLlxuICAgICAqL1xuICAgIGNhbmNlbCh0aHJlYWRJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L2NhbmNlbGAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGEgcnVuIGFuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuXG4gICAgICogbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRQb2xsKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuY3JlYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh0aHJlYWRJZCwgcnVuLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBzdHJlYW1gIGluc3RlYWRcbiAgICAgKi9cbiAgICBjcmVhdGVBbmRTdHJlYW0odGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVBc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIHBvbGwgYSBydW4gc3RhdHVzIHVudGlsIGl0IHJlYWNoZXMgYSB0ZXJtaW5hbCBzdGF0ZS4gTW9yZVxuICAgICAqIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIHBvbGwodGhyZWFkSWQsIHJ1bklkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcnVuLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgLi4uaGVhZGVycyB9LFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHJ1bi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvL0lmIHdlIGFyZSBpbiBhbnkgc29ydCBvZiBpbnRlcm1lZGlhdGUgc3RhdGUgd2UgcG9sbFxuICAgICAgICAgICAgICAgIGNhc2UgJ3F1ZXVlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbmNlbGxpbmcnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy9XZSByZXR1cm4gdGhlIHJ1biBpbiBhbnkgdGVybWluYWwgc3RhdGUuXG4gICAgICAgICAgICAgICAgY2FzZSAncmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdpbmNvbXBsZXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdleHBpcmVkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBSdW4gc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdWJtaXRUb29sT3V0cHV0cyh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N1Ym1pdF90b29sX291dHB1dHNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgICAgICBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gc3VibWl0IGEgdG9vbCBvdXRwdXQgdG8gYSBydW4gYW5kIHBvbGwgZm9yIGEgdGVybWluYWwgcnVuIHN0YXRlLlxuICAgICAqIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAgICovXG4gICAgYXN5bmMgc3VibWl0VG9vbE91dHB1dHNBbmRQb2xsKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLnN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodGhyZWFkSWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1Ym1pdCB0aGUgdG9vbCBvdXRwdXRzIGZyb20gYSBwcmV2aW91cyBydW4gYW5kIHN0cmVhbSB0aGUgcnVuIHRvIGEgdGVybWluYWxcbiAgICAgKiBzdGF0ZS4gTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBzdWJtaXRUb29sT3V0cHV0c1N0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcy5ydW5zLCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbihmdW5jdGlvbiAoUnVucykge1xuICAgIFJ1bnMuUnVuc1BhZ2UgPSBSdW5zQVBJLlJ1bnNQYWdlO1xuICAgIFJ1bnMuU3RlcHMgPSBTdGVwc0FQSS5TdGVwcztcbiAgICBSdW5zLlJ1blN0ZXBzUGFnZSA9IFN0ZXBzQVBJLlJ1blN0ZXBzUGFnZTtcbn0pKFJ1bnMgfHwgKFJ1bnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsIkFzc2lzdGFudFN0cmVhbSIsInNsZWVwIiwiUnVuc0FQSSIsIlN0ZXBzQVBJIiwiQ3Vyc29yUGFnZSIsIlJ1bnMiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInN0ZXBzIiwiU3RlcHMiLCJfY2xpZW50IiwiY3JlYXRlIiwidGhyZWFkSWQiLCJwYXJhbXMiLCJvcHRpb25zIiwiaW5jbHVkZSIsImJvZHkiLCJwb3N0IiwicXVlcnkiLCJoZWFkZXJzIiwic3RyZWFtIiwicmV0cmlldmUiLCJydW5JZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJnZXRBUElMaXN0IiwiUnVuc1BhZ2UiLCJjYW5jZWwiLCJjcmVhdGVBbmRQb2xsIiwicnVuIiwicG9sbCIsImlkIiwiY3JlYXRlQW5kU3RyZWFtIiwiY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiYmV0YSIsInRocmVhZHMiLCJydW5zIiwicG9sbEludGVydmFsTXMiLCJ0b1N0cmluZyIsImRhdGEiLCJyZXNwb25zZSIsIndpdGhSZXNwb25zZSIsInN0YXR1cyIsInNsZWVwSW50ZXJ2YWwiLCJoZWFkZXJJbnRlcnZhbCIsImhlYWRlckludGVydmFsTXMiLCJwYXJzZUludCIsImlzTmFOIiwic3VibWl0VG9vbE91dHB1dHMiLCJzdWJtaXRUb29sT3V0cHV0c0FuZFBvbGwiLCJzdWJtaXRUb29sT3V0cHV0c1N0cmVhbSIsImNyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0iLCJSdW5TdGVwc1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/threads/runs/runs.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/threads/runs/steps.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/openai/resources/beta/threads/runs/steps.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunStepsPage: () => (/* binding */ RunStepsPage),\n/* harmony export */   Steps: () => (/* binding */ Steps)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _steps_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./steps.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/runs/steps.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Steps extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    retrieve(threadId, runId, stepId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.retrieve(threadId, runId, stepId, {}, query);\n        }\n        return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, runId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(threadId, runId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass RunStepsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Steps) {\n    Steps.RunStepsPage = _steps_mjs__WEBPACK_IMPORTED_MODULE_3__.RunStepsPage;\n})(Steps || (Steps = {})); //# sourceMappingURL=steps.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9zdGVwcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQy9CO0FBQ0M7QUFDaEI7QUFDZ0I7QUFDakQsTUFBTUksY0FBY0osc0RBQVdBO0lBQ2xDSyxTQUFTQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDbkQsSUFBSVQsMkRBQWdCQSxDQUFDUSxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDSixRQUFRLENBQUNDLFVBQVVDLE9BQU9DLFFBQVEsQ0FBQyxHQUFHQztRQUN0RDtRQUNBLE9BQU8sSUFBSSxDQUFDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRU4sU0FBUyxNQUFNLEVBQUVDLE1BQU0sT0FBTyxFQUFFQyxPQUFPLENBQUMsRUFBRTtZQUMxRUM7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQUMsS0FBS1IsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLFFBQVEsQ0FBQyxDQUFDLEVBQUVDLE9BQU8sRUFBRTtRQUN2QyxJQUFJVCwyREFBZ0JBLENBQUNRLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNLLElBQUksQ0FBQ1IsVUFBVUMsT0FBTyxDQUFDLEdBQUdFO1FBQzFDO1FBQ0EsT0FBTyxJQUFJLENBQUNFLE9BQU8sQ0FBQ0ksVUFBVSxDQUFDLENBQUMsU0FBUyxFQUFFVCxTQUFTLE1BQU0sRUFBRUMsTUFBTSxNQUFNLENBQUMsRUFBRVMsY0FBYztZQUNyRlA7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7QUFDSjtBQUNPLE1BQU1HLHFCQUFxQmIsdURBQVVBO0FBQzVDO0FBQ0MsVUFBVUMsS0FBSztJQUNaQSxNQUFNWSxZQUFZLEdBQUdkLG9EQUFxQjtBQUM5QyxHQUFHRSxTQUFVQSxDQUFBQSxRQUFRLENBQUMsS0FDdEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzLm1qcz80N2UzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIFN0ZXBzQVBJIGZyb20gXCIuL3N0ZXBzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFN0ZXBzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIHJldHJpZXZlKHRocmVhZElkLCBydW5JZCwgc3RlcElkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cmlldmUodGhyZWFkSWQsIHJ1bklkLCBzdGVwSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3RlcHMvJHtzdGVwSWR9YCwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpc3QodGhyZWFkSWQsIHJ1bklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh0aHJlYWRJZCwgcnVuSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9L3N0ZXBzYCwgUnVuU3RlcHNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuU3RlcHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG4oZnVuY3Rpb24gKFN0ZXBzKSB7XG4gICAgU3RlcHMuUnVuU3RlcHNQYWdlID0gU3RlcHNBUEkuUnVuU3RlcHNQYWdlO1xufSkoU3RlcHMgfHwgKFN0ZXBzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZXBzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiU3RlcHNBUEkiLCJDdXJzb3JQYWdlIiwiU3RlcHMiLCJyZXRyaWV2ZSIsInRocmVhZElkIiwicnVuSWQiLCJzdGVwSWQiLCJxdWVyeSIsIm9wdGlvbnMiLCJfY2xpZW50IiwiZ2V0IiwiaGVhZGVycyIsImxpc3QiLCJnZXRBUElMaXN0IiwiUnVuU3RlcHNQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/threads/runs/steps.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/threads/threads.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/openai/resources/beta/threads/threads.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Threads: () => (/* binding */ Threads)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/AssistantStream.mjs */ \"(rsc)/./node_modules/openai/lib/AssistantStream.mjs\");\n/* harmony import */ var _messages_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/messages.mjs\");\n/* harmony import */ var _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runs/runs.mjs */ \"(rsc)/./node_modules/openai/resources/beta/threads/runs/runs.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Threads extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.runs = new _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs(this._client);\n        this.messages = new _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.Messages(this._client);\n    }\n    create(body = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isRequestOptions)(body)) {\n            return this.create({}, body);\n        }\n        return this._client.post(\"/threads\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a thread.\n     */ retrieve(threadId, options) {\n        return this._client.get(`/threads/${threadId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a thread.\n     */ update(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a thread.\n     */ del(threadId, options) {\n        return this._client.delete(`/threads/${threadId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    createAndRun(body, options) {\n        return this._client.post(\"/threads/runs\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: body.stream ?? false\n        });\n    }\n    /**\n     * A helper to create a thread, start a run and then poll for a terminal state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async createAndRunPoll(body, options) {\n        const run = await this.createAndRun(body, options);\n        return await this.runs.poll(run.thread_id, run.id, options);\n    }\n    /**\n     * Create a thread and stream the run back\n     */ createAndRunStream(body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_4__.AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);\n    }\n}\n(function(Threads) {\n    Threads.Runs = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs;\n    Threads.RunsPage = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.RunsPage;\n    Threads.Messages = _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.Messages;\n    Threads.MessagesPage = _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.MessagesPage;\n})(Threads || (Threads = {})); //# sourceMappingURL=threads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvdGhyZWFkcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0M7QUFDYztBQUNyQjtBQUNIO0FBQ3BDLE1BQU1LLGdCQUFnQkwsc0RBQVdBO0lBQ3BDTSxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlKLGdEQUFZLENBQUMsSUFBSSxDQUFDTSxPQUFPO1FBQ3pDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlSLG1EQUFvQixDQUFDLElBQUksQ0FBQ08sT0FBTztJQUN6RDtJQUNBRyxPQUFPQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDdkIsSUFBSWQsMkRBQWdCQSxDQUFDYSxPQUFPO1lBQ3hCLE9BQU8sSUFBSSxDQUFDRCxNQUFNLENBQUMsQ0FBQyxHQUFHQztRQUMzQjtRQUNBLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNNLElBQUksQ0FBQyxZQUFZO1lBQ2pDRjtZQUNBLEdBQUdDLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RDLFNBQVNDLFFBQVEsRUFBRUosT0FBTyxFQUFFO1FBQ3hCLE9BQU8sSUFBSSxDQUFDTCxPQUFPLENBQUNVLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRUQsU0FBUyxDQUFDLEVBQUU7WUFDNUMsR0FBR0osT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREksT0FBT0YsUUFBUSxFQUFFTCxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQ0wsT0FBTyxDQUFDTSxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUVHLFNBQVMsQ0FBQyxFQUFFO1lBQzdDTDtZQUNBLEdBQUdDLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RLLElBQUlILFFBQVEsRUFBRUosT0FBTyxFQUFFO1FBQ25CLE9BQU8sSUFBSSxDQUFDTCxPQUFPLENBQUNhLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRUosU0FBUyxDQUFDLEVBQUU7WUFDL0MsR0FBR0osT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0FPLGFBQWFWLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ3hCLE9BQU8sSUFBSSxDQUFDTCxPQUFPLENBQUNNLElBQUksQ0FBQyxpQkFBaUI7WUFDdENGO1lBQ0EsR0FBR0MsT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztZQUMvRFEsUUFBUVgsS0FBS1csTUFBTSxJQUFJO1FBQzNCO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTUMsaUJBQWlCWixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQyxNQUFNWSxNQUFNLE1BQU0sSUFBSSxDQUFDSCxZQUFZLENBQUNWLE1BQU1DO1FBQzFDLE9BQU8sTUFBTSxJQUFJLENBQUNQLElBQUksQ0FBQ29CLElBQUksQ0FBQ0QsSUFBSUUsU0FBUyxFQUFFRixJQUFJRyxFQUFFLEVBQUVmO0lBQ3ZEO0lBQ0E7O0tBRUMsR0FDRGdCLG1CQUFtQmpCLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzlCLE9BQU9iLHFFQUFlQSxDQUFDOEIsMkJBQTJCLENBQUNsQixNQUFNLElBQUksQ0FBQ0osT0FBTyxDQUFDdUIsSUFBSSxDQUFDQyxPQUFPLEVBQUVuQjtJQUN4RjtBQUNKO0FBQ0MsVUFBVVYsT0FBTztJQUNkQSxRQUFRSSxJQUFJLEdBQUdMLGdEQUFZO0lBQzNCQyxRQUFROEIsUUFBUSxHQUFHL0Isb0RBQWdCO0lBQ25DQyxRQUFRTyxRQUFRLEdBQUdULG1EQUFvQjtJQUN2Q0UsUUFBUStCLFlBQVksR0FBR2pDLHVEQUF3QjtBQUNuRCxHQUFHRSxXQUFZQSxDQUFBQSxVQUFVLENBQUMsS0FDMUIsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy90aHJlYWRzLm1qcz82NzcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSB9IGZyb20gXCIuLi8uLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtLm1qc1wiO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gXCIuL3J1bnMvcnVucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUaHJlYWRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJ1bnMgPSBuZXcgUnVuc0FQSS5SdW5zKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKGJvZHkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhib2R5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHt9LCBib2R5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy90aHJlYWRzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdGhyZWFkLlxuICAgICAqL1xuICAgIHJldHJpZXZlKHRocmVhZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYSB0aHJlYWQuXG4gICAgICovXG4gICAgdXBkYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB0aHJlYWQuXG4gICAgICovXG4gICAgZGVsKHRocmVhZElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvdGhyZWFkcy8ke3RocmVhZElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlQW5kUnVuKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcy9ydW5zJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHRocmVhZCwgc3RhcnQgYSBydW4gYW5kIHRoZW4gcG9sbCBmb3IgYSB0ZXJtaW5hbCBzdGF0ZS5cbiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFJ1blBvbGwoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZUFuZFJ1bihib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucnVucy5wb2xsKHJ1bi50aHJlYWRfaWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRocmVhZCBhbmQgc3RyZWFtIHRoZSBydW4gYmFja1xuICAgICAqL1xuICAgIGNyZWF0ZUFuZFJ1blN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKGJvZHksIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMsIG9wdGlvbnMpO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoVGhyZWFkcykge1xuICAgIFRocmVhZHMuUnVucyA9IFJ1bnNBUEkuUnVucztcbiAgICBUaHJlYWRzLlJ1bnNQYWdlID0gUnVuc0FQSS5SdW5zUGFnZTtcbiAgICBUaHJlYWRzLk1lc3NhZ2VzID0gTWVzc2FnZXNBUEkuTWVzc2FnZXM7XG4gICAgVGhyZWFkcy5NZXNzYWdlc1BhZ2UgPSBNZXNzYWdlc0FQSS5NZXNzYWdlc1BhZ2U7XG59KShUaHJlYWRzIHx8IChUaHJlYWRzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocmVhZHMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJBc3Npc3RhbnRTdHJlYW0iLCJNZXNzYWdlc0FQSSIsIlJ1bnNBUEkiLCJUaHJlYWRzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJydW5zIiwiUnVucyIsIl9jbGllbnQiLCJtZXNzYWdlcyIsIk1lc3NhZ2VzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwidGhyZWFkSWQiLCJnZXQiLCJ1cGRhdGUiLCJkZWwiLCJkZWxldGUiLCJjcmVhdGVBbmRSdW4iLCJzdHJlYW0iLCJjcmVhdGVBbmRSdW5Qb2xsIiwicnVuIiwicG9sbCIsInRocmVhZF9pZCIsImlkIiwiY3JlYXRlQW5kUnVuU3RyZWFtIiwiY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtIiwiYmV0YSIsInRocmVhZHMiLCJSdW5zUGFnZSIsIk1lc3NhZ2VzUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/threads/threads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/vector-stores/file-batches.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/openai/resources/beta/vector-stores/file-batches.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileBatches: () => (/* binding */ FileBatches),\n/* harmony export */   VectorStoreFilesPage: () => (/* reexport safe */ _files_mjs__WEBPACK_IMPORTED_MODULE_2__.VectorStoreFilesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_Util_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/Util.mjs */ \"(rsc)/./node_modules/openai/lib/Util.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/files.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass FileBatches extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a vector store file batch.\n     */ create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store file batch.\n     */ retrieve(vectorStoreId, batchId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Cancel a vector store file batch. This attempts to cancel the processing of\n     * files in this batch as soon as possible.\n     */ cancel(vectorStoreId, batchId, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Create a vector store batch and poll until all files have been processed.\n     */ async createAndPoll(vectorStoreId, body, options) {\n        const batch = await this.create(vectorStoreId, body);\n        return await this.poll(vectorStoreId, batch.id, options);\n    }\n    listFiles(vectorStoreId, batchId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.listFiles(vectorStoreId, batchId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, _files_mjs__WEBPACK_IMPORTED_MODULE_2__.VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Wait for the given file batch to be processed.\n     *\n     * Note: this will return even if one of the files failed to process, you need to\n     * check batch.file_counts.failed_count to handle this case.\n     */ async poll(vectorStoreId, batchId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {\n                ...options,\n                headers\n            }).withResponse();\n            switch(batch.status){\n                case \"in_progress\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.sleep)(sleepInterval);\n                    break;\n                case \"failed\":\n                case \"cancelled\":\n                case \"completed\":\n                    return batch;\n            }\n        }\n    }\n    /**\n     * Uploads the given files concurrently and then creates a vector store file batch.\n     *\n     * The concurrency limit is configurable using the `maxConcurrency` parameter.\n     */ async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {\n        if (files == null || files.length == 0) {\n            throw new Error(`No \\`files\\` provided to process. If you've already uploaded files you should use \\`.createAndPoll()\\` instead`);\n        }\n        const configuredConcurrency = options?.maxConcurrency ?? 5;\n        // We cap the number of workers at the number of files (so we don't start any unnecessary workers)\n        const concurrencyLimit = Math.min(configuredConcurrency, files.length);\n        const client = this._client;\n        const fileIterator = files.values();\n        const allFileIds = [\n            ...fileIds\n        ];\n        // This code is based on this design. The libraries don't accommodate our environment limits.\n        // https://stackoverflow.com/questions/40639432/what-is-the-best-way-to-limit-concurrency-when-using-es6s-promise-all\n        async function processFiles(iterator) {\n            for (let item of iterator){\n                const fileObj = await client.files.create({\n                    file: item,\n                    purpose: \"assistants\"\n                }, options);\n                allFileIds.push(fileObj.id);\n            }\n        }\n        // Start workers to process results\n        const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);\n        // Wait for all processing to complete.\n        await (0,_lib_Util_mjs__WEBPACK_IMPORTED_MODULE_3__.allSettledWithThrow)(workers);\n        return await this.createAndPoll(vectorStoreId, {\n            file_ids: allFileIds\n        });\n    }\n}\n(function(FileBatches) {})(FileBatches || (FileBatches = {}));\n //# sourceMappingURL=file-batches.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3ZlY3Rvci1zdG9yZXMvZmlsZS1iYXRjaGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNYO0FBQ2tCO0FBQ1Q7QUFDNUMsTUFBTUssb0JBQW9CTCxzREFBV0E7SUFDeEM7O0tBRUMsR0FDRE0sT0FBT0MsYUFBYSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNqQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsYUFBYSxDQUFDLEVBQUU7WUFDckVDO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU04sYUFBYSxFQUFFTyxPQUFPLEVBQUVMLE9BQU8sRUFBRTtRQUN0QyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVSLGNBQWMsY0FBYyxFQUFFTyxRQUFRLENBQUMsRUFBRTtZQUMvRSxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7O0tBR0MsR0FDREksT0FBT1QsYUFBYSxFQUFFTyxPQUFPLEVBQUVMLE9BQU8sRUFBRTtRQUNwQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsY0FBYyxFQUFFTyxRQUFRLE9BQU8sQ0FBQyxFQUFFO1lBQ3ZGLEdBQUdMLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0QsTUFBTUssY0FBY1YsYUFBYSxFQUFFQyxJQUFJ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QUNBLG1DQUFtQztRQUNuQyxNQUFNb0MsVUFBVUMsTUFBTWYsa0JBQWtCZ0IsSUFBSSxDQUFDWixjQUFjYSxHQUFHLENBQUNWO1FBQy9ELHVDQUF1QztRQUN2QyxNQUFNOUMsa0VBQW1CQSxDQUFDcUQ7UUFDMUIsT0FBTyxNQUFNLElBQUksQ0FBQ3ZDLGFBQWEsQ0FBQ1YsZUFBZTtZQUMzQ3FELFVBQVVaO1FBQ2Q7SUFDSjtBQUNKO0FBQ0MsVUFBVTNDLFdBQVcsR0FDdEIsR0FBR0EsZUFBZ0JBLENBQUFBLGNBQWMsQ0FBQztBQUNGLENBQ2hDLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3ZlY3Rvci1zdG9yZXMvZmlsZS1iYXRjaGVzLm1qcz9mYjdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBhbGxTZXR0bGVkV2l0aFRocm93IH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9VdGlsLm1qc1wiO1xuaW1wb3J0IHsgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgfSBmcm9tIFwiLi9maWxlcy5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaWxlQmF0Y2hlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKi9cbiAgICBjcmVhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guXG4gICAgICovXG4gICAgcmV0cmlldmUodmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXMvJHtiYXRjaElkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guIFRoaXMgYXR0ZW1wdHMgdG8gY2FuY2VsIHRoZSBwcm9jZXNzaW5nIG9mXG4gICAgICogZmlsZXMgaW4gdGhpcyBiYXRjaCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgICAqL1xuICAgIGNhbmNlbCh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXMvJHtiYXRjaElkfS9jYW5jZWxgLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBiYXRjaCBhbmQgcG9sbCB1bnRpbCBhbGwgZmlsZXMgaGF2ZSBiZWVuIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRQb2xsKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBhd2FpdCB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh2ZWN0b3JTdG9yZUlkLCBiYXRjaC5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3RGaWxlcyh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdEZpbGVzKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9L2ZpbGVzYCwgVmVjdG9yU3RvcmVGaWxlc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHRoZSBnaXZlbiBmaWxlIGJhdGNoIHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoaXMgd2lsbCByZXR1cm4gZXZlbiBpZiBvbmUgb2YgdGhlIGZpbGVzIGZhaWxlZCB0byBwcm9jZXNzLCB5b3UgbmVlZCB0b1xuICAgICAqIGNoZWNrIGJhdGNoLmZpbGVfY291bnRzLmZhaWxlZF9jb3VudCB0byBoYW5kbGUgdGhpcyBjYXNlLlxuICAgICAqL1xuICAgIGFzeW5jIHBvbGwodmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScgfTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCddID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGJhdGNoLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGJhdGNoLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnb3BlbmFpLXBvbGwtYWZ0ZXItbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgZ2l2ZW4gZmlsZXMgY29uY3VycmVudGx5IGFuZCB0aGVuIGNyZWF0ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKlxuICAgICAqIFRoZSBjb25jdXJyZW5jeSBsaW1pdCBpcyBjb25maWd1cmFibGUgdXNpbmcgdGhlIGBtYXhDb25jdXJyZW5jeWAgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZEFuZFBvbGwodmVjdG9yU3RvcmVJZCwgeyBmaWxlcywgZmlsZUlkcyA9IFtdIH0sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGZpbGVzID09IG51bGwgfHwgZmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gXFxgZmlsZXNcXGAgcHJvdmlkZWQgdG8gcHJvY2Vzcy4gSWYgeW91J3ZlIGFscmVhZHkgdXBsb2FkZWQgZmlsZXMgeW91IHNob3VsZCB1c2UgXFxgLmNyZWF0ZUFuZFBvbGwoKVxcYCBpbnN0ZWFkYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlndXJlZENvbmN1cnJlbmN5ID0gb3B0aW9ucz8ubWF4Q29uY3VycmVuY3kgPz8gNTtcbiAgICAgICAgLy8gV2UgY2FwIHRoZSBudW1iZXIgb2Ygd29ya2VycyBhdCB0aGUgbnVtYmVyIG9mIGZpbGVzIChzbyB3ZSBkb24ndCBzdGFydCBhbnkgdW5uZWNlc3Nhcnkgd29ya2VycylcbiAgICAgICAgY29uc3QgY29uY3VycmVuY3lMaW1pdCA9IE1hdGgubWluKGNvbmZpZ3VyZWRDb25jdXJyZW5jeSwgZmlsZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5fY2xpZW50O1xuICAgICAgICBjb25zdCBmaWxlSXRlcmF0b3IgPSBmaWxlcy52YWx1ZXMoKTtcbiAgICAgICAgY29uc3QgYWxsRmlsZUlkcyA9IFsuLi5maWxlSWRzXTtcbiAgICAgICAgLy8gVGhpcyBjb2RlIGlzIGJhc2VkIG9uIHRoaXMgZGVzaWduLiBUaGUgbGlicmFyaWVzIGRvbid0IGFjY29tbW9kYXRlIG91ciBlbnZpcm9ubWVudCBsaW1pdHMuXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQwNjM5NDMyL3doYXQtaXMtdGhlLWJlc3Qtd2F5LXRvLWxpbWl0LWNvbmN1cnJlbmN5LXdoZW4tdXNpbmctZXM2cy1wcm9taXNlLWFsbFxuICAgICAgICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlT2JqID0gYXdhaXQgY2xpZW50LmZpbGVzLmNyZWF0ZSh7IGZpbGU6IGl0ZW0sIHB1cnBvc2U6ICdhc3Npc3RhbnRzJyB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBhbGxGaWxlSWRzLnB1c2goZmlsZU9iai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgd29ya2VycyB0byBwcm9jZXNzIHJlc3VsdHNcbiAgICAgICAgY29uc3Qgd29ya2VycyA9IEFycmF5KGNvbmN1cnJlbmN5TGltaXQpLmZpbGwoZmlsZUl0ZXJhdG9yKS5tYXAocHJvY2Vzc0ZpbGVzKTtcbiAgICAgICAgLy8gV2FpdCBmb3IgYWxsIHByb2Nlc3NpbmcgdG8gY29tcGxldGUuXG4gICAgICAgIGF3YWl0IGFsbFNldHRsZWRXaXRoVGhyb3cod29ya2Vycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwge1xuICAgICAgICAgICAgZmlsZV9pZHM6IGFsbEZpbGVJZHMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoRmlsZUJhdGNoZXMpIHtcbn0pKEZpbGVCYXRjaGVzIHx8IChGaWxlQmF0Y2hlcyA9IHt9KSk7XG5leHBvcnQgeyBWZWN0b3JTdG9yZUZpbGVzUGFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsZS1iYXRjaGVzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwic2xlZXAiLCJhbGxTZXR0bGVkV2l0aFRocm93IiwiVmVjdG9yU3RvcmVGaWxlc1BhZ2UiLCJGaWxlQmF0Y2hlcyIsImNyZWF0ZSIsInZlY3RvclN0b3JlSWQiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwiYmF0Y2hJZCIsImdldCIsImNhbmNlbCIsImNyZWF0ZUFuZFBvbGwiLCJiYXRjaCIsInBvbGwiLCJpZCIsImxpc3RGaWxlcyIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsInBvbGxJbnRlcnZhbE1zIiwidG9TdHJpbmciLCJkYXRhIiwicmVzcG9uc2UiLCJ3aXRoUmVzcG9uc2UiLCJzdGF0dXMiLCJzbGVlcEludGVydmFsIiwiaGVhZGVySW50ZXJ2YWwiLCJoZWFkZXJJbnRlcnZhbE1zIiwicGFyc2VJbnQiLCJpc05hTiIsInVwbG9hZEFuZFBvbGwiLCJmaWxlcyIsImZpbGVJZHMiLCJsZW5ndGgiLCJFcnJvciIsImNvbmZpZ3VyZWRDb25jdXJyZW5jeSIsIm1heENvbmN1cnJlbmN5IiwiY29uY3VycmVuY3lMaW1pdCIsIk1hdGgiLCJtaW4iLCJjbGllbnQiLCJmaWxlSXRlcmF0b3IiLCJ2YWx1ZXMiLCJhbGxGaWxlSWRzIiwicHJvY2Vzc0ZpbGVzIiwiaXRlcmF0b3IiLCJpdGVtIiwiZmlsZU9iaiIsImZpbGUiLCJwdXJwb3NlIiwicHVzaCIsIndvcmtlcnMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJmaWxlX2lkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/vector-stores/file-batches.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/vector-stores/files.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/openai/resources/beta/vector-stores/files.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Files: () => (/* binding */ Files),\n/* harmony export */   VectorStoreFilesPage: () => (/* binding */ VectorStoreFilesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/files.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Files extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a vector store file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to a\n     * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).\n     */ create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/files`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store file.\n     */ retrieve(vectorStoreId, fileId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(vectorStoreId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(vectorStoreId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a vector store file. This will remove the file from the vector store but\n     * the file itself will not be deleted. To delete the file, use the\n     * [delete file](https://platform.openai.com/docs/api-reference/files/delete)\n     * endpoint.\n     */ del(vectorStoreId, fileId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Attach a file to the given vector store and wait for it to be processed.\n     */ async createAndPoll(vectorStoreId, body, options) {\n        const file = await this.create(vectorStoreId, body, options);\n        return await this.poll(vectorStoreId, file.id, options);\n    }\n    /**\n     * Wait for the vector store file to finish processing.\n     *\n     * Note: this will return even if the file failed to process, you need to check\n     * file.last_error and file.status to handle these cases\n     */ async poll(vectorStoreId, fileId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const fileResponse = await this.retrieve(vectorStoreId, fileId, {\n                ...options,\n                headers\n            }).withResponse();\n            const file = fileResponse.data;\n            switch(file.status){\n                case \"in_progress\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = fileResponse.response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.sleep)(sleepInterval);\n                    break;\n                case \"failed\":\n                case \"completed\":\n                    return file;\n            }\n        }\n    }\n    /**\n     * Upload a file to the `files` API and then attach it to the given vector store.\n     *\n     * Note the file will be asynchronously processed (you can use the alternative\n     * polling helper method to wait for processing to complete).\n     */ async upload(vectorStoreId, file, options) {\n        const fileInfo = await this._client.files.create({\n            file: file,\n            purpose: \"assistants\"\n        }, options);\n        return this.create(vectorStoreId, {\n            file_id: fileInfo.id\n        }, options);\n    }\n    /**\n     * Add a file to a vector store and poll until processing is complete.\n     */ async uploadAndPoll(vectorStoreId, file, options) {\n        const fileInfo = await this.upload(vectorStoreId, file, options);\n        return await this.poll(vectorStoreId, fileInfo.id, options);\n    }\n}\nclass VectorStoreFilesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Files) {\n    Files.VectorStoreFilesPage = _files_mjs__WEBPACK_IMPORTED_MODULE_3__.VectorStoreFilesPage;\n})(Files || (Files = {})); //# sourceMappingURL=files.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3ZlY3Rvci1zdG9yZXMvZmlsZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUNRO0FBQ3BCO0FBQ2E7QUFDOUMsTUFBTUssY0FBY0wsc0RBQVdBO0lBQ2xDOzs7O0tBSUMsR0FDRE0sT0FBT0MsYUFBYSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNqQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsTUFBTSxDQUFDLEVBQUU7WUFDOURDO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU04sYUFBYSxFQUFFTyxNQUFNLEVBQUVMLE9BQU8sRUFBRTtRQUNyQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVSLGNBQWMsT0FBTyxFQUFFTyxPQUFPLENBQUMsRUFBRTtZQUN2RSxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQUksS0FBS1QsYUFBYSxFQUFFVSxRQUFRLENBQUMsQ0FBQyxFQUFFUixPQUFPLEVBQUU7UUFDckMsSUFBSVAsMkRBQWdCQSxDQUFDZSxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRCxJQUFJLENBQUNULGVBQWUsQ0FBQyxHQUFHVTtRQUN4QztRQUNBLE9BQU8sSUFBSSxDQUFDUCxPQUFPLENBQUNRLFVBQVUsQ0FBQyxDQUFDLGVBQWUsRUFBRVgsY0FBYyxNQUFNLENBQUMsRUFBRVksc0JBQXNCO1lBQzFGRjtZQUNBLEdBQUdSLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxT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ZXNvdXJjZXMvYmV0YS92ZWN0b3Itc3RvcmVzL2ZpbGVzLm1qcz81NTZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IHNsZWVwLCBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBGaWxlc0FQSSBmcm9tIFwiLi9maWxlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgZmlsZSBieSBhdHRhY2hpbmcgYVxuICAgICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzKSB0byBhXG4gICAgICogW3ZlY3RvciBzdG9yZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS92ZWN0b3Itc3RvcmVzL29iamVjdCkuXG4gICAgICovXG4gICAgY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAgICovXG4gICAgcmV0cmlldmUodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdCh2ZWN0b3JTdG9yZUlkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdCh2ZWN0b3JTdG9yZUlkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlc2AsIFZlY3RvclN0b3JlRmlsZXNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgdmVjdG9yIHN0b3JlIGZpbGUuIFRoaXMgd2lsbCByZW1vdmUgdGhlIGZpbGUgZnJvbSB0aGUgdmVjdG9yIHN0b3JlIGJ1dFxuICAgICAqIHRoZSBmaWxlIGl0c2VsZiB3aWxsIG5vdCBiZSBkZWxldGVkLiBUbyBkZWxldGUgdGhlIGZpbGUsIHVzZSB0aGVcbiAgICAgKiBbZGVsZXRlIGZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvZGVsZXRlKVxuICAgICAqIGVuZHBvaW50LlxuICAgICAqL1xuICAgIGRlbCh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXMvJHtmaWxlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggYSBmaWxlIHRvIHRoZSBnaXZlbiB2ZWN0b3Igc3RvcmUgYW5kIHdhaXQgZm9yIGl0IHRvIGJlIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRQb2xsKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGZpbGUuaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWl0IGZvciB0aGUgdmVjdG9yIHN0b3JlIGZpbGUgdG8gZmluaXNoIHByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIHdpbGwgcmV0dXJuIGV2ZW4gaWYgdGhlIGZpbGUgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvIGNoZWNrXG4gICAgICogZmlsZS5sYXN0X2Vycm9yIGFuZCBmaWxlLnN0YXR1cyB0byBoYW5kbGUgdGhlc2UgY2FzZXNcbiAgICAgKi9cbiAgICBhc3luYyBwb2xsKHZlY3RvclN0b3JlSWQsIGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScgfTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCddID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJldHJpZXZlKHZlY3RvclN0b3JlSWQsIGZpbGVJZCwge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIH0pLndpdGhSZXNwb25zZSgpO1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVSZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgc3dpdGNoIChmaWxlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSBmaWxlUmVzcG9uc2UucmVzcG9uc2UuaGVhZGVycy5nZXQoJ29wZW5haS1wb2xsLWFmdGVyLW1zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVySW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbE1zID0gcGFyc2VJbnQoaGVhZGVySW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaGVhZGVySW50ZXJ2YWxNcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IGhlYWRlckludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNsZWVwKHNsZWVwSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhIGZpbGUgdG8gdGhlIGBmaWxlc2AgQVBJIGFuZCB0aGVuIGF0dGFjaCBpdCB0byB0aGUgZ2l2ZW4gdmVjdG9yIHN0b3JlLlxuICAgICAqXG4gICAgICogTm90ZSB0aGUgZmlsZSB3aWxsIGJlIGFzeW5jaHJvbm91c2x5IHByb2Nlc3NlZCAoeW91IGNhbiB1c2UgdGhlIGFsdGVybmF0aXZlXG4gICAgICogcG9sbGluZyBoZWxwZXIgbWV0aG9kIHRvIHdhaXQgZm9yIHByb2Nlc3NpbmcgdG8gY29tcGxldGUpLlxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZCh2ZWN0b3JTdG9yZUlkLCBmaWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZpbGVJbmZvID0gYXdhaXQgdGhpcy5fY2xpZW50LmZpbGVzLmNyZWF0ZSh7IGZpbGU6IGZpbGUsIHB1cnBvc2U6ICdhc3Npc3RhbnRzJyB9LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIHsgZmlsZV9pZDogZmlsZUluZm8uaWQgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGZpbGUgdG8gYSB2ZWN0b3Igc3RvcmUgYW5kIHBvbGwgdW50aWwgcHJvY2Vzc2luZyBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBhc3luYyB1cGxvYWRBbmRQb2xsKHZlY3RvclN0b3JlSWQsIGZpbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZmlsZUluZm8gPSBhd2FpdCB0aGlzLnVwbG9hZCh2ZWN0b3JTdG9yZUlkLCBmaWxlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh2ZWN0b3JTdG9yZUlkLCBmaWxlSW5mby5pZCwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlRmlsZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG4oZnVuY3Rpb24gKEZpbGVzKSB7XG4gICAgRmlsZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBGaWxlc0FQSS5WZWN0b3JTdG9yZUZpbGVzUGFnZTtcbn0pKEZpbGVzIHx8IChGaWxlcyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWxlcy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwic2xlZXAiLCJpc1JlcXVlc3RPcHRpb25zIiwiRmlsZXNBUEkiLCJDdXJzb3JQYWdlIiwiRmlsZXMiLCJjcmVhdGUiLCJ2ZWN0b3JTdG9yZUlkIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsImhlYWRlcnMiLCJyZXRyaWV2ZSIsImZpbGVJZCIsImdldCIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJWZWN0b3JTdG9yZUZpbGVzUGFnZSIsImRlbCIsImRlbGV0ZSIsImNyZWF0ZUFuZFBvbGwiLCJmaWxlIiwicG9sbCIsImlkIiwicG9sbEludGVydmFsTXMiLCJ0b1N0cmluZyIsImZpbGVSZXNwb25zZSIsIndpdGhSZXNwb25zZSIsImRhdGEiLCJzdGF0dXMiLCJzbGVlcEludGVydmFsIiwiaGVhZGVySW50ZXJ2YWwiLCJyZXNwb25zZSIsImhlYWRlckludGVydmFsTXMiLCJwYXJzZUludCIsImlzTmFOIiwidXBsb2FkIiwiZmlsZUluZm8iLCJmaWxlcyIsInB1cnBvc2UiLCJmaWxlX2lkIiwidXBsb2FkQW5kUG9sbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/vector-stores/files.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/beta/vector-stores/vector-stores.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/openai/resources/beta/vector-stores/vector-stores.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorStores: () => (/* binding */ VectorStores),\n/* harmony export */   VectorStoresPage: () => (/* binding */ VectorStoresPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _vector_stores_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vector-stores.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/vector-stores.mjs\");\n/* harmony import */ var _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./file-batches.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/file-batches.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/openai/resources/beta/vector-stores/files.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\nclass VectorStores extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.files = new _files_mjs__WEBPACK_IMPORTED_MODULE_1__.Files(this._client);\n        this.fileBatches = new _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__.FileBatches(this._client);\n    }\n    /**\n     * Create a vector store.\n     */ create(body, options) {\n        return this._client.post(\"/vector_stores\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store.\n     */ retrieve(vectorStoreId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a vector store.\n     */ update(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/vector_stores\", VectorStoresPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a vector store.\n     */ del(vectorStoreId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass VectorStoresPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.CursorPage {\n}\n(function(VectorStores) {\n    VectorStores.VectorStoresPage = _vector_stores_mjs__WEBPACK_IMPORTED_MODULE_5__.VectorStoresPage;\n    VectorStores.Files = _files_mjs__WEBPACK_IMPORTED_MODULE_1__.Files;\n    VectorStores.VectorStoreFilesPage = _files_mjs__WEBPACK_IMPORTED_MODULE_1__.VectorStoreFilesPage;\n    VectorStores.FileBatches = _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__.FileBatches;\n})(VectorStores || (VectorStores = {})); //# sourceMappingURL=vector-stores.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3ZlY3Rvci1zdG9yZXMvdmVjdG9yLXN0b3Jlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNFO0FBQ0Y7QUFDYjtBQUNhO0FBQzlDLE1BQU1NLHFCQUFxQk4sc0RBQVdBO0lBQ3pDTyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUlMLDZDQUFjLENBQUMsSUFBSSxDQUFDTyxPQUFPO1FBQzVDLElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlULDBEQUEwQixDQUFDLElBQUksQ0FBQ1EsT0FBTztJQUNsRTtJQUNBOztLQUVDLEdBQ0RHLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDTCxPQUFPLENBQUNNLElBQUksQ0FBQyxrQkFBa0I7WUFDdkNGO1lBQ0EsR0FBR0MsT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU0MsYUFBYSxFQUFFSixPQUFPLEVBQUU7UUFDN0IsT0FBTyxJQUFJLENBQUNMLE9BQU8sQ0FBQ1UsR0FBRyxDQUFDLENBQUMsZUFBZSxFQUFFRCxjQUFjLENBQUMsRUFBRTtZQUN2RCxHQUFHSixPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0YsU0FBU0UsT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESSxPQUFPRixhQUFhLEVBQUVMLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2pDLE9BQU8sSUFBSSxDQUFDTCxPQUFPLENBQUNNLElBQUksQ0FBQyxDQUFDLGVBQWUsRUFBRUcsY0FBYyxDQUFDLEVBQUU7WUFDeERMO1lBQ0EsR0FBR0MsT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0FLLEtBQUtDLFFBQVEsQ0FBQyxDQUFDLEVBQUVSLE9BQU8sRUFBRTtRQUN0QixJQUFJZiwyREFBZ0JBLENBQUN1QixRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRCxJQUFJLENBQUMsQ0FBQyxHQUFHQztRQUN6QjtRQUNBLE9BQU8sSUFBSSxDQUFDYixPQUFPLENBQUNjLFVBQVUsQ0FBQyxrQkFBa0JDLGtCQUFrQjtZQUMvREY7WUFDQSxHQUFHUixPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0YsU0FBU0UsT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNEUyxJQUFJUCxhQUFhLEVBQUVKLE9BQU8sRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0wsT0FBTyxDQUFDaUIsTUFBTSxDQUFDLENBQUMsZUFBZSxFQUFFUixjQUFjLENBQUMsRUFBRTtZQUMxRCxHQUFHSixPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0YsU0FBU0UsT0FBTztZQUFDO1FBQ25FO0lBQ0o7QUFDSjtBQUNPLE1BQU1RLHlCQUF5QnJCLHVEQUFVQTtBQUNoRDtBQUNDLFVBQVVDLFlBQVk7SUFDbkJBLGFBQWFvQixnQkFBZ0IsR0FBR3hCLGdFQUFnQztJQUNoRUksYUFBYUksS0FBSyxHQUFHTiw2Q0FBYztJQUNuQ0UsYUFBYXVCLG9CQUFvQixHQUFHekIsNERBQTZCO0lBQ2pFRSxhQUFhTyxXQUFXLEdBQUdWLDBEQUEwQjtBQUN6RCxHQUFHRyxnQkFBaUJBLENBQUFBLGVBQWUsQ0FBQyxLQUNwQywwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS92ZWN0b3Itc3RvcmVzL3ZlY3Rvci1zdG9yZXMubWpzPzI0NzUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgVmVjdG9yU3RvcmVzQVBJIGZyb20gXCIuL3ZlY3Rvci1zdG9yZXMubWpzXCI7XG5pbXBvcnQgKiBhcyBGaWxlQmF0Y2hlc0FQSSBmcm9tIFwiLi9maWxlLWJhdGNoZXMubWpzXCI7XG5pbXBvcnQgKiBhcyBGaWxlc0FQSSBmcm9tIFwiLi9maWxlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgRmlsZXNBUEkuRmlsZXModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5maWxlQmF0Y2hlcyA9IG5ldyBGaWxlQmF0Y2hlc0FQSS5GaWxlQmF0Y2hlcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdmVjdG9yX3N0b3JlcycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdmVjdG9yX3N0b3JlcycsIFZlY3RvclN0b3Jlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgZGVsKHZlY3RvclN0b3JlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3Jlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbihmdW5jdGlvbiAoVmVjdG9yU3RvcmVzKSB7XG4gICAgVmVjdG9yU3RvcmVzLlZlY3RvclN0b3Jlc1BhZ2UgPSBWZWN0b3JTdG9yZXNBUEkuVmVjdG9yU3RvcmVzUGFnZTtcbiAgICBWZWN0b3JTdG9yZXMuRmlsZXMgPSBGaWxlc0FQSS5GaWxlcztcbiAgICBWZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBGaWxlc0FQSS5WZWN0b3JTdG9yZUZpbGVzUGFnZTtcbiAgICBWZWN0b3JTdG9yZXMuRmlsZUJhdGNoZXMgPSBGaWxlQmF0Y2hlc0FQSS5GaWxlQmF0Y2hlcztcbn0pKFZlY3RvclN0b3JlcyB8fCAoVmVjdG9yU3RvcmVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci1zdG9yZXMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJWZWN0b3JTdG9yZXNBUEkiLCJGaWxlQmF0Y2hlc0FQSSIsIkZpbGVzQVBJIiwiQ3Vyc29yUGFnZSIsIlZlY3RvclN0b3JlcyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiZmlsZXMiLCJGaWxlcyIsIl9jbGllbnQiLCJmaWxlQmF0Y2hlcyIsIkZpbGVCYXRjaGVzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwidmVjdG9yU3RvcmVJZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJWZWN0b3JTdG9yZXNQYWdlIiwiZGVsIiwiZGVsZXRlIiwiVmVjdG9yU3RvcmVGaWxlc1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/beta/vector-stores/vector-stores.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/chat/chat.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/openai/resources/chat/chat.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _completions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./completions.mjs */ \"(rsc)/./node_modules/openai/resources/chat/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Chat extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.completions = new _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions(this._client);\n    }\n}\n(function(Chat) {\n    Chat.Completions = _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions;\n})(Chat || (Chat = {})); //# sourceMappingURL=chat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNHO0FBQzdDLE1BQU1FLGFBQWFGLHNEQUFXQTtJQUNqQ0csYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJSix5REFBMEIsQ0FBQyxJQUFJLENBQUNNLE9BQU87SUFDbEU7QUFDSjtBQUNDLFVBQVVMLElBQUk7SUFDWEEsS0FBS0ksV0FBVyxHQUFHTCx5REFBMEI7QUFDakQsR0FBR0MsUUFBU0EsQ0FBQUEsT0FBTyxDQUFDLEtBQ3BCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzPzkwYzEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29tcGxldGlvbnNBUEkgZnJvbSBcIi4vY29tcGxldGlvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hhdCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoQ2hhdCkge1xuICAgIENoYXQuQ29tcGxldGlvbnMgPSBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucztcbn0pKENoYXQgfHwgKENoYXQgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29tcGxldGlvbnNBUEkiLCJDaGF0IiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJjb21wbGV0aW9ucyIsIkNvbXBsZXRpb25zIiwiX2NsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/chat/chat.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/chat/completions.mjs":
/*!************************************************************!*\
  !*** ./node_modules/openai/resources/chat/completions.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Completions: () => (/* binding */ Completions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/chat/completions\", {\n            body,\n            ...options,\n            stream: body.stream ?? false\n        });\n    }\n}\n(function(Completions) {})(Completions || (Completions = {})); //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUMxQyxNQUFNQyxvQkFBb0JELHNEQUFXQTtJQUN4Q0UsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLHFCQUFxQjtZQUFFSDtZQUFNLEdBQUdDLE9BQU87WUFBRUcsUUFBUUosS0FBS0ksTUFBTSxJQUFJO1FBQU07SUFDbkc7QUFDSjtBQUNDLFVBQVVOLFdBQVcsR0FDdEIsR0FBR0EsZUFBZ0JBLENBQUFBLGNBQWMsQ0FBQyxLQUNsQyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy5tanM/ZGYzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKENvbXBsZXRpb25zKSB7XG59KShDb21wbGV0aW9ucyB8fCAoQ29tcGxldGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvbXBsZXRpb25zIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsInN0cmVhbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/chat/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/completions.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/openai/resources/completions.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Completions: () => (/* binding */ Completions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/completions\", {\n            body,\n            ...options,\n            stream: body.stream ?? false\n        });\n    }\n}\n(function(Completions) {})(Completions || (Completions = {})); //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jb21wbGV0aW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzRkFBc0Y7QUFDeEM7QUFDdkMsTUFBTUMsb0JBQW9CRCxzREFBV0E7SUFDeENFLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxnQkFBZ0I7WUFBRUg7WUFBTSxHQUFHQyxPQUFPO1lBQUVHLFFBQVFKLEtBQUtJLE1BQU0sSUFBSTtRQUFNO0lBQzlGO0FBQ0o7QUFDQyxVQUFVTixXQUFXLEdBQ3RCLEdBQUdBLGVBQWdCQSxDQUFBQSxjQUFjLENBQUMsS0FDbEMsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcz9hNDgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKENvbXBsZXRpb25zKSB7XG59KShDb21wbGV0aW9ucyB8fCAoQ29tcGxldGlvbnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvbXBsZXRpb25zIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsInN0cmVhbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/embeddings.mjs":
/*!******************************************************!*\
  !*** ./node_modules/openai/resources/embeddings.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Embeddings: () => (/* binding */ Embeddings)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Embeddings extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     */ create(body, options) {\n        return this._client.post(\"/embeddings\", {\n            body,\n            ...options\n        });\n    }\n}\n(function(Embeddings) {})(Embeddings || (Embeddings = {})); //# sourceMappingURL=embeddings.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUN2QyxNQUFNQyxtQkFBbUJELHNEQUFXQTtJQUN2Qzs7S0FFQyxHQUNERSxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsZUFBZTtZQUFFSDtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUMvRDtBQUNKO0FBQ0MsVUFBVUgsVUFBVSxHQUNyQixHQUFHQSxjQUFlQSxDQUFBQSxhQUFhLENBQUMsS0FDaEMsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2VtYmVkZGluZ3MubWpzPzg3OTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEVtYmVkZGluZ3MgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbWJlZGRpbmcgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9lbWJlZGRpbmdzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoRW1iZWRkaW5ncykge1xufSkoRW1iZWRkaW5ncyB8fCAoRW1iZWRkaW5ncyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWJlZGRpbmdzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJFbWJlZGRpbmdzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/embeddings.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/files.mjs":
/*!*************************************************!*\
  !*** ./node_modules/openai/resources/files.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileObjectsPage: () => (/* binding */ FileObjectsPage),\n/* harmony export */   Files: () => (/* binding */ Files)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/openai/resources/files.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Files extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Upload a file that can be used across various endpoints. Individual files can be\n     * up to 512 MB, and the size of all files uploaded by one organization can be up\n     * to 100 GB.\n     *\n     * The Assistants API supports files up to 2 million tokens and of specific file\n     * types. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n     * details.\n     *\n     * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n     * required formats for fine-tuning\n     * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n     * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n     * models.\n     *\n     * The Batch API only supports `.jsonl` files up to 100 MB in size. The input also\n     * has a specific required\n     * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */ create(body, options) {\n        return this._client.post(\"/files\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Returns information about a specific file.\n     */ retrieve(fileId, options) {\n        return this._client.get(`/files/${fileId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/files\", FileObjectsPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Delete a file.\n     */ del(fileId, options) {\n        return this._client.delete(`/files/${fileId}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */ content(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, {\n            ...options,\n            __binaryResponse: true\n        });\n    }\n    /**\n     * Returns the contents of the specified file.\n     *\n     * @deprecated The `.content()` method should be used instead\n     */ retrieveContent(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, {\n            ...options,\n            headers: {\n                Accept: \"application/json\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */ async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set([\n            \"processed\",\n            \"error\",\n            \"deleted\"\n        ]);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while(!file.status || !TERMINAL_STATES.has(file.status)){\n            await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.sleep)(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`\n                });\n            }\n        }\n        return file;\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class FileObjectsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.Page {\n}\n(function(Files) {\n    Files.FileObjectsPage = _files_mjs__WEBPACK_IMPORTED_MODULE_5__.FileObjectsPage;\n})(Files || (Files = {})); //# sourceMappingURL=files.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maWxlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDeEM7QUFDQztBQUNYO0FBQ3FCO0FBQ3JCO0FBQ0k7QUFDQztBQUNsQyxNQUFNTyxjQUFjUCxzREFBV0E7SUFDbEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0FzQkMsR0FDRFEsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLFVBQVVSLGtFQUFnQyxDQUFDO1lBQUVLO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQzNGO0lBQ0E7O0tBRUMsR0FDREksU0FBU0MsTUFBTSxFQUFFTCxPQUFPLEVBQUU7UUFDdEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFRCxPQUFPLENBQUMsRUFBRUw7SUFDaEQ7SUFDQU8sS0FBS0MsUUFBUSxDQUFDLENBQUMsRUFBRVIsT0FBTyxFQUFFO1FBQ3RCLElBQUlULDJEQUFnQkEsQ0FBQ2lCLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNQLE9BQU8sQ0FBQ1EsVUFBVSxDQUFDLFVBQVVDLGlCQUFpQjtZQUFFRjtZQUFPLEdBQUdSLE9BQU87UUFBQztJQUNsRjtJQUNBOztLQUVDLEdBQ0RXLElBQUlOLE1BQU0sRUFBRUwsT0FBTyxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNXLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRVAsT0FBTyxDQUFDLEVBQUVMO0lBQ25EO0lBQ0E7O0tBRUMsR0FDRGEsUUFBUVIsTUFBTSxFQUFFTCxPQUFPLEVBQUU7UUFDckIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFRCxPQUFPLFFBQVEsQ0FBQyxFQUFFO1lBQUUsR0FBR0wsT0FBTztZQUFFYyxrQkFBa0I7UUFBSztJQUM3RjtJQUNBOzs7O0tBSUMsR0FDREMsZ0JBQWdCVixNQUFNLEVBQUVMLE9BQU8sRUFBRTtRQUM3QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUVELE9BQU8sUUFBUSxDQUFDLEVBQUU7WUFDaEQsR0FBR0wsT0FBTztZQUNWZ0IsU0FBUztnQkFBRUMsUUFBUTtnQkFBb0IsR0FBR2pCLFNBQVNnQixPQUFPO1lBQUM7UUFDL0Q7SUFDSjtJQUNBOztLQUVDLEdBQ0QsTUFBTUUsa0JBQWtCQyxFQUFFLEVBQUUsRUFBRUMsZUFBZSxJQUFJLEVBQUVDLFVBQVUsS0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFO1FBQ2hGLE1BQU1DLGtCQUFrQixJQUFJQyxJQUFJO1lBQUM7WUFBYTtZQUFTO1NBQVU7UUFDakUsTUFBTUMsUUFBUUMsS0FBS0MsR0FBRztRQUN0QixJQUFJQyxPQUFPLE1BQU0sSUFBSSxDQUFDdkIsUUFBUSxDQUFDZTtRQUMvQixNQUFPLENBQUNRLEtBQUtDLE1BQU0sSUFBSSxDQUFDTixnQkFBZ0JPLEdBQUcsQ0FBQ0YsS0FBS0MsTUFBTSxFQUFHO1lBQ3RELE1BQU1wQyxnREFBS0EsQ0FBQzRCO1lBQ1pPLE9BQU8sTUFBTSxJQUFJLENBQUN2QixRQUFRLENBQUNlO1lBQzNCLElBQUlNLEtBQUtDLEdBQUcsS0FBS0YsUUFBUUgsU0FBUztnQkFDOUIsTUFBTSxJQUFJNUIsaUVBQXlCQSxDQUFDO29CQUNoQ3FDLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRVgsR0FBRyw0QkFBNEIsRUFBRUUsUUFBUSxjQUFjLENBQUM7Z0JBQ3RHO1lBQ0o7UUFDSjtRQUNBLE9BQU9NO0lBQ1g7QUFDSjtBQUNBOztDQUVDLEdBQ00sTUFBTWpCLHdCQUF3QmQsaURBQUlBO0FBQ3pDO0FBQ0MsVUFBVUMsS0FBSztJQUNaQSxNQUFNYSxlQUFlLEdBQUdmLHVEQUF3QjtBQUNwRCxHQUFHRSxTQUFVQSxDQUFBQSxRQUFRLENBQUMsS0FDdEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbGVzLm1qcz8yZTQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gXCIuL2ZpbGVzLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjYW4gYmUgdXNlZCBhY3Jvc3MgdmFyaW91cyBlbmRwb2ludHMuIEluZGl2aWR1YWwgZmlsZXMgY2FuIGJlXG4gICAgICogdXAgdG8gNTEyIE1CLCBhbmQgdGhlIHNpemUgb2YgYWxsIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZSBvcmdhbml6YXRpb24gY2FuIGJlIHVwXG4gICAgICogdG8gMTAwIEdCLlxuICAgICAqXG4gICAgICogVGhlIEFzc2lzdGFudHMgQVBJIHN1cHBvcnRzIGZpbGVzIHVwIHRvIDIgbWlsbGlvbiB0b2tlbnMgYW5kIG9mIHNwZWNpZmljIGZpbGVcbiAgICAgKiB0eXBlcy4gU2VlIHRoZVxuICAgICAqIFtBc3Npc3RhbnRzIFRvb2xzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzKSBmb3JcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIEZpbmUtdHVuaW5nIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzLiBUaGUgaW5wdXQgYWxzbyBoYXMgY2VydGFpblxuICAgICAqIHJlcXVpcmVkIGZvcm1hdHMgZm9yIGZpbmUtdHVuaW5nXG4gICAgICogW2NoYXRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY2hhdC1pbnB1dCkgb3JcbiAgICAgKiBbY29tcGxldGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY29tcGxldGlvbnMtaW5wdXQpXG4gICAgICogbW9kZWxzLlxuICAgICAqXG4gICAgICogVGhlIEJhdGNoIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzIHVwIHRvIDEwMCBNQiBpbiBzaXplLiBUaGUgaW5wdXQgYWxzb1xuICAgICAqIGhhcyBhIHNwZWNpZmljIHJlcXVpcmVkXG4gICAgICogW2Zvcm1hdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9iYXRjaC9yZXF1ZXN0LWlucHV0KS5cbiAgICAgKlxuICAgICAqIFBsZWFzZSBbY29udGFjdCB1c10oaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vKSBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGVzZVxuICAgICAqIHN0b3JhZ2UgbGltaXRzLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbGVzJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAgICovXG4gICAgcmV0cmlldmUoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maWxlcycsIEZpbGVPYmplY3RzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgZmlsZS5cbiAgICAgKi9cbiAgICBkZWwoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAgICAgKi9cbiAgICBjb250ZW50KGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwgeyAuLi5vcHRpb25zLCBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgYC5jb250ZW50KClgIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkXG4gICAgICovXG4gICAgcmV0cmlldmVDb250ZW50KGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXRzIGZvciB0aGUgZ2l2ZW4gZmlsZSB0byBiZSBwcm9jZXNzZWQsIGRlZmF1bHQgdGltZW91dCBpcyAzMCBtaW5zLlxuICAgICAqL1xuICAgIGFzeW5jIHdhaXRGb3JQcm9jZXNzaW5nKGlkLCB7IHBvbGxJbnRlcnZhbCA9IDUwMDAsIG1heFdhaXQgPSAzMCAqIDYwICogMTAwMCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgVEVSTUlOQUxfU1RBVEVTID0gbmV3IFNldChbJ3Byb2Nlc3NlZCcsICdlcnJvcicsICdkZWxldGVkJ10pO1xuICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBmaWxlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShpZCk7XG4gICAgICAgIHdoaWxlICghZmlsZS5zdGF0dXMgfHwgIVRFUk1JTkFMX1NUQVRFUy5oYXMoZmlsZS5zdGF0dXMpKSB7XG4gICAgICAgICAgICBhd2FpdCBzbGVlcChwb2xsSW50ZXJ2YWwpO1xuICAgICAgICAgICAgZmlsZSA9IGF3YWl0IHRoaXMucmV0cmlldmUoaWQpO1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+IG1heFdhaXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBHaXZpbmcgdXAgb24gd2FpdGluZyBmb3IgZmlsZSAke2lkfSB0byBmaW5pc2ggcHJvY2Vzc2luZyBhZnRlciAke21heFdhaXR9IG1pbGxpc2Vjb25kcy5gLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH1cbn1cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgRmlsZU9iamVjdHNQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG4oZnVuY3Rpb24gKEZpbGVzKSB7XG4gICAgRmlsZXMuRmlsZU9iamVjdHNQYWdlID0gRmlsZXNBUEkuRmlsZU9iamVjdHNQYWdlO1xufSkoRmlsZXMgfHwgKEZpbGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwic2xlZXAiLCJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwiQ29yZSIsIkZpbGVzQVBJIiwiUGFnZSIsIkZpbGVzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsInJldHJpZXZlIiwiZmlsZUlkIiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIkZpbGVPYmplY3RzUGFnZSIsImRlbCIsImRlbGV0ZSIsImNvbnRlbnQiLCJfX2JpbmFyeVJlc3BvbnNlIiwicmV0cmlldmVDb250ZW50IiwiaGVhZGVycyIsIkFjY2VwdCIsIndhaXRGb3JQcm9jZXNzaW5nIiwiaWQiLCJwb2xsSW50ZXJ2YWwiLCJtYXhXYWl0IiwiVEVSTUlOQUxfU1RBVEVTIiwiU2V0Iiwic3RhcnQiLCJEYXRlIiwibm93IiwiZmlsZSIsInN0YXR1cyIsImhhcyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/files.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/fine-tuning/fine-tuning.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/openai/resources/fine-tuning/fine-tuning.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FineTuning: () => (/* binding */ FineTuning)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jobs/jobs.mjs */ \"(rsc)/./node_modules/openai/resources/fine-tuning/jobs/jobs.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass FineTuning extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.jobs = new _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.Jobs(this._client);\n    }\n}\n(function(FineTuning) {\n    FineTuning.Jobs = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.Jobs;\n    FineTuning.FineTuningJobsPage = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobsPage;\n    FineTuning.FineTuningJobEventsPage = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobEventsPage;\n})(FineTuning || (FineTuning = {})); //# sourceMappingURL=fine-tuning.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ047QUFDcEMsTUFBTUUsbUJBQW1CRixzREFBV0E7SUFDdkNHLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSUosZ0RBQVksQ0FBQyxJQUFJLENBQUNNLE9BQU87SUFDN0M7QUFDSjtBQUNDLFVBQVVMLFVBQVU7SUFDakJBLFdBQVdJLElBQUksR0FBR0wsZ0RBQVk7SUFDOUJDLFdBQVdNLGtCQUFrQixHQUFHUCw4REFBMEI7SUFDMURDLFdBQVdPLHVCQUF1QixHQUFHUixtRUFBK0I7QUFDeEUsR0FBR0MsY0FBZUEsQ0FBQUEsYUFBYSxDQUFDLEtBQ2hDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZy5tanM/MjY3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBKb2JzQVBJIGZyb20gXCIuL2pvYnMvam9icy5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmpvYnMgPSBuZXcgSm9ic0FQSS5Kb2JzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChGaW5lVHVuaW5nKSB7XG4gICAgRmluZVR1bmluZy5Kb2JzID0gSm9ic0FQSS5Kb2JzO1xuICAgIEZpbmVUdW5pbmcuRmluZVR1bmluZ0pvYnNQYWdlID0gSm9ic0FQSS5GaW5lVHVuaW5nSm9ic1BhZ2U7XG4gICAgRmluZVR1bmluZy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEpvYnNBUEkuRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2U7XG59KShGaW5lVHVuaW5nIHx8IChGaW5lVHVuaW5nID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbmUtdHVuaW5nLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJKb2JzQVBJIiwiRmluZVR1bmluZyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiam9icyIsIkpvYnMiLCJfY2xpZW50IiwiRmluZVR1bmluZ0pvYnNQYWdlIiwiRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/fine-tuning/fine-tuning.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Checkpoints: () => (/* binding */ Checkpoints),\n/* harmony export */   FineTuningJobCheckpointsPage: () => (/* binding */ FineTuningJobCheckpointsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./checkpoints.mjs */ \"(rsc)/./node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Checkpoints extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    list(fineTuningJobId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, {\n            query,\n            ...options\n        });\n    }\n}\nclass FineTuningJobCheckpointsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n(function(Checkpoints) {\n    Checkpoints.FineTuningJobCheckpointsPage = _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_3__.FineTuningJobCheckpointsPage;\n})(Checkpoints || (Checkpoints = {})); //# sourceMappingURL=checkpoints.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9qb2JzL2NoZWNrcG9pbnRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNEO0FBQ0M7QUFDOUMsTUFBTUksb0JBQW9CSixzREFBV0E7SUFDeENLLEtBQUtDLGVBQWUsRUFBRUMsUUFBUSxDQUFDLENBQUMsRUFBRUMsT0FBTyxFQUFFO1FBQ3ZDLElBQUlQLDJEQUFnQkEsQ0FBQ00sUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0YsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQyxHQUFHQztRQUMxQztRQUNBLE9BQU8sSUFBSSxDQUFDRSxPQUFPLENBQUNDLFVBQVUsQ0FBQyxDQUFDLGtCQUFrQixFQUFFSixnQkFBZ0IsWUFBWSxDQUFDLEVBQUVLLDhCQUE4QjtZQUFFSjtZQUFPLEdBQUdDLE9BQU87UUFBQztJQUN6STtBQUNKO0FBQ08sTUFBTUcscUNBQXFDUix1REFBVUE7QUFDNUQ7QUFDQyxVQUFVQyxXQUFXO0lBQ2xCQSxZQUFZTyw0QkFBNEIsR0FBR1QsMEVBQTJDO0FBQzFGLEdBQUdFLGVBQWdCQSxDQUFBQSxjQUFjLENBQUMsS0FDbEMsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvY2hlY2twb2ludHMubWpzPzQ2NGUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ2hlY2twb2ludHNBUEkgZnJvbSBcIi4vY2hlY2twb2ludHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hlY2twb2ludHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgbGlzdChmaW5lVHVuaW5nSm9iSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jaGVja3BvaW50c2AsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbihmdW5jdGlvbiAoQ2hlY2twb2ludHMpIHtcbiAgICBDaGVja3BvaW50cy5GaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlID0gQ2hlY2twb2ludHNBUEkuRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZTtcbn0pKENoZWNrcG9pbnRzIHx8IChDaGVja3BvaW50cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja3BvaW50cy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsIkNoZWNrcG9pbnRzQVBJIiwiQ3Vyc29yUGFnZSIsIkNoZWNrcG9pbnRzIiwibGlzdCIsImZpbmVUdW5pbmdKb2JJZCIsInF1ZXJ5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJnZXRBUElMaXN0IiwiRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/fine-tuning/jobs/jobs.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/openai/resources/fine-tuning/jobs/jobs.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FineTuningJobEventsPage: () => (/* binding */ FineTuningJobEventsPage),\n/* harmony export */   FineTuningJobsPage: () => (/* binding */ FineTuningJobsPage),\n/* harmony export */   Jobs: () => (/* binding */ Jobs)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/openai/core.mjs\");\n/* harmony import */ var _jobs_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./jobs.mjs */ \"(rsc)/./node_modules/openai/resources/fine-tuning/jobs/jobs.mjs\");\n/* harmony import */ var _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkpoints.mjs */ \"(rsc)/./node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Jobs extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.checkpoints = new _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.Checkpoints(this._client);\n    }\n    /**\n     * Creates a fine-tuning job which begins the process of creating a new model from\n     * a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */ create(body, options) {\n        return this._client.post(\"/fine_tuning/jobs\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */ retrieve(fineTuningJobId, options) {\n        return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/fine_tuning/jobs\", FineTuningJobsPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */ cancel(fineTuningJobId, options) {\n        return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);\n    }\n    listEvents(fineTuningJobId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.listEvents(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {\n            query,\n            ...options\n        });\n    }\n}\nclass FineTuningJobsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nclass FineTuningJobEventsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\n(function(Jobs) {\n    Jobs.FineTuningJobsPage = _jobs_mjs__WEBPACK_IMPORTED_MODULE_4__.FineTuningJobsPage;\n    Jobs.FineTuningJobEventsPage = _jobs_mjs__WEBPACK_IMPORTED_MODULE_4__.FineTuningJobEventsPage;\n    Jobs.Checkpoints = _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.Checkpoints;\n    Jobs.FineTuningJobCheckpointsPage = _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobCheckpointsPage;\n})(Jobs || (Jobs = {})); //# sourceMappingURL=jobs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9qb2JzL2pvYnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0M7QUFDZjtBQUNjO0FBQ0M7QUFDOUMsTUFBTUssYUFBYUwsc0RBQVdBO0lBQ2pDTSxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlMLHlEQUEwQixDQUFDLElBQUksQ0FBQ08sT0FBTztJQUNsRTtJQUNBOzs7Ozs7OztLQVFDLEdBQ0RDLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxxQkFBcUI7WUFBRUY7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDckU7SUFDQTs7OztLQUlDLEdBQ0RFLFNBQVNDLGVBQWUsRUFBRUgsT0FBTyxFQUFFO1FBQy9CLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNPLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFRCxnQkFBZ0IsQ0FBQyxFQUFFSDtJQUNwRTtJQUNBSyxLQUFLQyxRQUFRLENBQUMsQ0FBQyxFQUFFTixPQUFPLEVBQUU7UUFDdEIsSUFBSVosMkRBQWdCQSxDQUFDa0IsUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBR0M7UUFDekI7UUFDQSxPQUFPLElBQUksQ0FBQ1QsT0FBTyxDQUFDVSxVQUFVLENBQUMscUJBQXFCQyxvQkFBb0I7WUFBRUY7WUFBTyxHQUFHTixPQUFPO1FBQUM7SUFDaEc7SUFDQTs7S0FFQyxHQUNEUyxPQUFPTixlQUFlLEVBQUVILE9BQU8sRUFBRTtRQUM3QixPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUUsZ0JBQWdCLE9BQU8sQ0FBQyxFQUFFSDtJQUM1RTtJQUNBVSxXQUFXUCxlQUFlLEVBQUVHLFFBQVEsQ0FBQyxDQUFDLEVBQUVOLE9BQU8sRUFBRTtRQUM3QyxJQUFJWiwyREFBZ0JBLENBQUNrQixRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDSSxVQUFVLENBQUNQLGlCQUFpQixDQUFDLEdBQUdHO1FBQ2hEO1FBQ0EsT0FBTyxJQUFJLENBQUNULE9BQU8sQ0FBQ1UsVUFBVSxDQUFDLENBQUMsa0JBQWtCLEVBQUVKLGdCQUFnQixPQUFPLENBQUMsRUFBRVEseUJBQXlCO1lBQ25HTDtZQUNBLEdBQUdOLE9BQU87UUFDZDtJQUNKO0FBQ0o7QUFDTyxNQUFNUSwyQkFBMkJqQix1REFBVUE7QUFDbEQ7QUFDTyxNQUFNb0IsZ0NBQWdDcEIsdURBQVVBO0FBQ3ZEO0FBQ0MsVUFBVUMsSUFBSTtJQUNYQSxLQUFLZ0Isa0JBQWtCLEdBQUduQix5REFBMEI7SUFDcERHLEtBQUttQix1QkFBdUIsR0FBR3RCLDhEQUErQjtJQUM5REcsS0FBS0ksV0FBVyxHQUFHTix5REFBMEI7SUFDN0NFLEtBQUtvQiw0QkFBNEIsR0FBR3RCLDBFQUEyQztBQUNuRixHQUFHRSxRQUFTQSxDQUFBQSxPQUFPLENBQUMsS0FDcEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy5tanM/OTgxNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBKb2JzQVBJIGZyb20gXCIuL2pvYnMubWpzXCI7XG5pbXBvcnQgKiBhcyBDaGVja3BvaW50c0FQSSBmcm9tIFwiLi9jaGVja3BvaW50cy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBKb2JzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNoZWNrcG9pbnRzID0gbmV3IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaW5lLXR1bmluZyBqb2Igd2hpY2ggYmVnaW5zIHRoZSBwcm9jZXNzIG9mIGNyZWF0aW5nIGEgbmV3IG1vZGVsIGZyb21cbiAgICAgKiBhIGdpdmVuIGRhdGFzZXQuXG4gICAgICpcbiAgICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAgICogb2YgdGhlIGZpbmUtdHVuZWQgbW9kZWxzIG9uY2UgY29tcGxldGUuXG4gICAgICpcbiAgICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgICAqXG4gICAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9maW5lLXR1bmluZylcbiAgICAgKi9cbiAgICByZXRyaWV2ZShmaW5lVHVuaW5nSm9iSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvZmluZV90dW5pbmcvam9icycsIEZpbmVUdW5pbmdKb2JzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2FuY2VsIGEgZmluZS10dW5lIGpvYi5cbiAgICAgKi9cbiAgICBjYW5jZWwoZmluZVR1bmluZ0pvYklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9L2V2ZW50c2AsIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9ic1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuKGZ1bmN0aW9uIChKb2JzKSB7XG4gICAgSm9icy5GaW5lVHVuaW5nSm9ic1BhZ2UgPSBKb2JzQVBJLkZpbmVUdW5pbmdKb2JzUGFnZTtcbiAgICBKb2JzLkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlID0gSm9ic0FQSS5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZTtcbiAgICBKb2JzLkNoZWNrcG9pbnRzID0gQ2hlY2twb2ludHNBUEkuQ2hlY2twb2ludHM7XG4gICAgSm9icy5GaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlID0gQ2hlY2twb2ludHNBUEkuRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZTtcbn0pKEpvYnMgfHwgKEpvYnMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9am9icy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsIkpvYnNBUEkiLCJDaGVja3BvaW50c0FQSSIsIkN1cnNvclBhZ2UiLCJKb2JzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJjaGVja3BvaW50cyIsIkNoZWNrcG9pbnRzIiwiX2NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwicG9zdCIsInJldHJpZXZlIiwiZmluZVR1bmluZ0pvYklkIiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIkZpbmVUdW5pbmdKb2JzUGFnZSIsImNhbmNlbCIsImxpc3RFdmVudHMiLCJGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSIsIkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/fine-tuning/jobs/jobs.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/images.mjs":
/*!**************************************************!*\
  !*** ./node_modules/openai/resources/images.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Images: () => (/* binding */ Images)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Images extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates a variation of a given image.\n     */ createVariation(body, options) {\n        return this._client.post(\"/images/variations\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Creates an edited or extended image given an original image and a prompt.\n     */ edit(body, options) {\n        return this._client.post(\"/images/edits\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Creates an image given a prompt.\n     */ generate(body, options) {\n        return this._client.post(\"/images/generations\", {\n            body,\n            ...options\n        });\n    }\n}\n(function(Images) {})(Images || (Images = {})); //# sourceMappingURL=images.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUNWO0FBQzdCLE1BQU1FLGVBQWVGLHNEQUFXQTtJQUNuQzs7S0FFQyxHQUNERyxnQkFBZ0JDLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzNCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxzQkFBc0JOLGtFQUFnQyxDQUFDO1lBQUVHO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQ3ZHO0lBQ0E7O0tBRUMsR0FDREksS0FBS0wsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQk4sa0VBQWdDLENBQUM7WUFBRUc7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDbEc7SUFDQTs7S0FFQyxHQUNESyxTQUFTTixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNwQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsdUJBQXVCO1lBQUVIO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQ3ZFO0FBQ0o7QUFDQyxVQUFVSCxNQUFNLEdBQ2pCLEdBQUdBLFVBQVdBLENBQUFBLFNBQVMsQ0FBQyxLQUN4QixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvaW1hZ2VzLm1qcz82ZjdlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgSW1hZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS5cbiAgICAgKi9cbiAgICBjcmVhdGVWYXJpYXRpb24oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvdmFyaWF0aW9ucycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIGFuIG9yaWdpbmFsIGltYWdlIGFuZCBhIHByb21wdC5cbiAgICAgKi9cbiAgICBlZGl0KGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL2VkaXRzJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbWFnZSBnaXZlbiBhIHByb21wdC5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9nZW5lcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKEltYWdlcykge1xufSkoSW1hZ2VzIHx8IChJbWFnZXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2VzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJDb3JlIiwiSW1hZ2VzIiwiY3JlYXRlVmFyaWF0aW9uIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsImVkaXQiLCJnZW5lcmF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/images.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/models.mjs":
/*!**************************************************!*\
  !*** ./node_modules/openai/resources/models.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Models: () => (/* binding */ Models),\n/* harmony export */   ModelsPage: () => (/* binding */ ModelsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _models_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./models.mjs */ \"(rsc)/./node_modules/openai/resources/models.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Models extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */ retrieve(model, options) {\n        return this._client.get(`/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */ list(options) {\n        return this._client.getAPIList(\"/models\", ModelsPage, options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */ del(model, options) {\n        return this._client.delete(`/models/${model}`, options);\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class ModelsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_1__.Page {\n}\n(function(Models) {\n    Models.ModelsPage = _models_mjs__WEBPACK_IMPORTED_MODULE_2__.ModelsPage;\n})(Models || (Models = {})); //# sourceMappingURL=models.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3hDO0FBQ0o7QUFDRDtBQUNsQyxNQUFNRyxlQUFlSCxzREFBV0E7SUFDbkM7OztLQUdDLEdBQ0RJLFNBQVNDLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQ3JCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRUgsTUFBTSxDQUFDLEVBQUVDO0lBQ2hEO0lBQ0E7OztLQUdDLEdBQ0RHLEtBQUtILE9BQU8sRUFBRTtRQUNWLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNHLFVBQVUsQ0FBQyxXQUFXQyxZQUFZTDtJQUMxRDtJQUNBOzs7S0FHQyxHQUNETSxJQUFJUCxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUNoQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxRQUFRLEVBQUVSLE1BQU0sQ0FBQyxFQUFFQztJQUNuRDtBQUNKO0FBQ0E7O0NBRUMsR0FDTSxNQUFNSyxtQkFBbUJULGlEQUFJQTtBQUNwQztBQUNDLFVBQVVDLE1BQU07SUFDYkEsT0FBT1EsVUFBVSxHQUFHVixtREFBb0I7QUFDNUMsR0FBR0UsVUFBV0EsQ0FBQUEsU0FBUyxDQUFDLEtBQ3hCLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy0xMy1yZXBsaXQvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlbHMubWpzP2Y3YTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgTW9kZWxzQVBJIGZyb20gXCIuL21vZGVscy5tanNcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBNb2RlbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgbW9kZWwgaW5zdGFuY2UsIHByb3ZpZGluZyBiYXNpYyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbW9kZWwgc3VjaCBhc1xuICAgICAqIHRoZSBvd25lciBhbmQgcGVybWlzc2lvbmluZy5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShtb2RlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL21vZGVscy8ke21vZGVsfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0cyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSBtb2RlbHMsIGFuZCBwcm92aWRlcyBiYXNpYyBpbmZvcm1hdGlvbiBhYm91dCBlYWNoXG4gICAgICogb25lIHN1Y2ggYXMgdGhlIG93bmVyIGFuZCBhdmFpbGFiaWxpdHkuXG4gICAgICovXG4gICAgbGlzdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL21vZGVscycsIE1vZGVsc1BhZ2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBmaW5lLXR1bmVkIG1vZGVsLiBZb3UgbXVzdCBoYXZlIHRoZSBPd25lciByb2xlIGluIHlvdXIgb3JnYW5pemF0aW9uIHRvXG4gICAgICogZGVsZXRlIGEgbW9kZWwuXG4gICAgICovXG4gICAgZGVsKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbHNQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG4oZnVuY3Rpb24gKE1vZGVscykge1xuICAgIE1vZGVscy5Nb2RlbHNQYWdlID0gTW9kZWxzQVBJLk1vZGVsc1BhZ2U7XG59KShNb2RlbHMgfHwgKE1vZGVscyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbHMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIk1vZGVsc0FQSSIsIlBhZ2UiLCJNb2RlbHMiLCJyZXRyaWV2ZSIsIm1vZGVsIiwib3B0aW9ucyIsIl9jbGllbnQiLCJnZXQiLCJsaXN0IiwiZ2V0QVBJTGlzdCIsIk1vZGVsc1BhZ2UiLCJkZWwiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/models.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/moderations.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/openai/resources/moderations.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Moderations: () => (/* binding */ Moderations)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Moderations extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Classifies if text and/or image inputs are potentially harmful. Learn more in\n     * the [moderation guide](https://platform.openai.com/docs/guides/moderation).\n     */ create(body, options) {\n        return this._client.post(\"/moderations\", {\n            body,\n            ...options\n        });\n    }\n}\n(function(Moderations) {})(Moderations || (Moderations = {})); //# sourceMappingURL=moderations.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlcmF0aW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzRkFBc0Y7QUFDeEM7QUFDdkMsTUFBTUMsb0JBQW9CRCxzREFBV0E7SUFDeEM7OztLQUdDLEdBQ0RFLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxnQkFBZ0I7WUFBRUg7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDaEU7QUFDSjtBQUNDLFVBQVVILFdBQVcsR0FDdEIsR0FBR0EsZUFBZ0JBLENBQUFBLGNBQWMsQ0FBQyxLQUNsQyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzP2FmZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENsYXNzaWZpZXMgaWYgdGV4dCBhbmQvb3IgaW1hZ2UgaW5wdXRzIGFyZSBwb3RlbnRpYWxseSBoYXJtZnVsLiBMZWFybiBtb3JlIGluXG4gICAgICogdGhlIFttb2RlcmF0aW9uIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvbW9kZXJhdGlvbikuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChNb2RlcmF0aW9ucykge1xufSkoTW9kZXJhdGlvbnMgfHwgKE1vZGVyYXRpb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVyYXRpb25zLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJNb2RlcmF0aW9ucyIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/moderations.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/uploads/parts.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/openai/resources/uploads/parts.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Parts: () => (/* binding */ Parts)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Parts extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Adds a\n     * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.\n     * A Part represents a chunk of bytes from the file you are trying to upload.\n     *\n     * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload\n     * maximum of 8 GB.\n     *\n     * It is possible to add multiple Parts in parallel. You can decide the intended\n     * order of the Parts when you\n     * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).\n     */ create(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/parts`, _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n}\n(function(Parts) {})(Parts || (Parts = {})); //# sourceMappingURL=parts.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy91cGxvYWRzL3BhcnRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDVjtBQUNoQyxNQUFNRSxjQUFjRixzREFBV0E7SUFDbEM7Ozs7Ozs7Ozs7OztLQVlDLEdBQ0RHLE9BQU9DLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFSixTQUFTLE1BQU0sQ0FBQyxFQUFFSCxrRUFBZ0MsQ0FBQztZQUFFSTtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUMvRztBQUNKO0FBQ0MsVUFBVUosS0FBSyxHQUNoQixHQUFHQSxTQUFVQSxDQUFBQSxRQUFRLENBQUMsS0FDdEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3VwbG9hZHMvcGFydHMubWpzP2JkNzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBQYXJ0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBBZGRzIGFcbiAgICAgKiBbUGFydF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0byBhblxuICAgICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpIG9iamVjdC5cbiAgICAgKiBBIFBhcnQgcmVwcmVzZW50cyBhIGNodW5rIG9mIGJ5dGVzIGZyb20gdGhlIGZpbGUgeW91IGFyZSB0cnlpbmcgdG8gdXBsb2FkLlxuICAgICAqXG4gICAgICogRWFjaCBQYXJ0IGNhbiBiZSBhdCBtb3N0IDY0IE1CLCBhbmQgeW91IGNhbiBhZGQgUGFydHMgdW50aWwgeW91IGhpdCB0aGUgVXBsb2FkXG4gICAgICogbWF4aW11bSBvZiA4IEdCLlxuICAgICAqXG4gICAgICogSXQgaXMgcG9zc2libGUgdG8gYWRkIG11bHRpcGxlIFBhcnRzIGluIHBhcmFsbGVsLiBZb3UgY2FuIGRlY2lkZSB0aGUgaW50ZW5kZWRcbiAgICAgKiBvcmRlciBvZiB0aGUgUGFydHMgd2hlbiB5b3VcbiAgICAgKiBbY29tcGxldGUgdGhlIFVwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL2NvbXBsZXRlKS5cbiAgICAgKi9cbiAgICBjcmVhdGUodXBsb2FkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9wYXJ0c2AsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChQYXJ0cykge1xufSkoUGFydHMgfHwgKFBhcnRzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJDb3JlIiwiUGFydHMiLCJjcmVhdGUiLCJ1cGxvYWRJZCIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/uploads/parts.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/resources/uploads/uploads.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/openai/resources/uploads/uploads.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Uploads: () => (/* binding */ Uploads)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/openai/resource.mjs\");\n/* harmony import */ var _parts_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parts.mjs */ \"(rsc)/./node_modules/openai/resources/uploads/parts.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Uploads extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.parts = new _parts_mjs__WEBPACK_IMPORTED_MODULE_1__.Parts(this._client);\n    }\n    /**\n     * Creates an intermediate\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object\n     * that you can add\n     * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.\n     * Currently, an Upload can accept at most 8 GB in total and expires after an hour\n     * after you create it.\n     *\n     * Once you complete the Upload, we will create a\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * contains all the parts you uploaded. This File is usable in the rest of our\n     * platform as a regular File object.\n     *\n     * For certain `purpose`s, the correct `mime_type` must be specified. Please refer\n     * to documentation for the supported MIME types for your use case:\n     *\n     * - [Assistants](https://platform.openai.com/docs/assistants/tools/file-search/supported-files)\n     *\n     * For guidance on the proper filename extensions for each purpose, please follow\n     * the documentation on\n     * [creating a File](https://platform.openai.com/docs/api-reference/files/create).\n     */ create(body, options) {\n        return this._client.post(\"/uploads\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Cancels the Upload. No Parts may be added after an Upload is cancelled.\n     */ cancel(uploadId, options) {\n        return this._client.post(`/uploads/${uploadId}/cancel`, options);\n    }\n    /**\n     * Completes the\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).\n     *\n     * Within the returned Upload object, there is a nested\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * is ready to use in the rest of the platform.\n     *\n     * You can specify the order of the Parts by passing in an ordered list of the Part\n     * IDs.\n     *\n     * The number of bytes uploaded upon completion must match the number of bytes\n     * initially specified when creating the Upload object. No Parts may be added after\n     * an Upload is completed.\n     */ complete(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/complete`, {\n            body,\n            ...options\n        });\n    }\n}\n(function(Uploads) {\n    Uploads.Parts = _parts_mjs__WEBPACK_IMPORTED_MODULE_1__.Parts;\n})(Uploads || (Uploads = {})); //# sourceMappingURL=uploads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy91cGxvYWRzL3VwbG9hZHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNUO0FBQ2pDLE1BQU1FLGdCQUFnQkYsc0RBQVdBO0lBQ3BDRyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUlKLDZDQUFjLENBQUMsSUFBSSxDQUFDTSxPQUFPO0lBQ2hEO0lBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQXFCQyxHQUNEQyxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsWUFBWTtZQUFFRjtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUM1RDtJQUNBOztLQUVDLEdBQ0RFLE9BQU9DLFFBQVEsRUFBRUgsT0FBTyxFQUFFO1FBQ3RCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUUsU0FBUyxPQUFPLENBQUMsRUFBRUg7SUFDNUQ7SUFDQTs7Ozs7Ozs7Ozs7Ozs7S0FjQyxHQUNESSxTQUFTRCxRQUFRLEVBQUVKLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzlCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUUsU0FBUyxTQUFTLENBQUMsRUFBRTtZQUFFSjtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUNqRjtBQUNKO0FBQ0MsVUFBVVIsT0FBTztJQUNkQSxRQUFRSSxLQUFLLEdBQUdMLDZDQUFjO0FBQ2xDLEdBQUdDLFdBQVlBLENBQUFBLFVBQVUsQ0FBQyxLQUMxQixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtMTMtcmVwbGl0Ly4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLm1qcz9jMjFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFBhcnRzQVBJIGZyb20gXCIuL3BhcnRzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFVwbG9hZHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucGFydHMgPSBuZXcgUGFydHNBUEkuUGFydHModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnRlcm1lZGlhdGVcbiAgICAgKiBbVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvb2JqZWN0KSBvYmplY3RcbiAgICAgKiB0aGF0IHlvdSBjYW4gYWRkXG4gICAgICogW1BhcnRzXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvcGFydC1vYmplY3QpIHRvLlxuICAgICAqIEN1cnJlbnRseSwgYW4gVXBsb2FkIGNhbiBhY2NlcHQgYXQgbW9zdCA4IEdCIGluIHRvdGFsIGFuZCBleHBpcmVzIGFmdGVyIGFuIGhvdXJcbiAgICAgKiBhZnRlciB5b3UgY3JlYXRlIGl0LlxuICAgICAqXG4gICAgICogT25jZSB5b3UgY29tcGxldGUgdGhlIFVwbG9hZCwgd2Ugd2lsbCBjcmVhdGUgYVxuICAgICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL29iamVjdCkgb2JqZWN0IHRoYXRcbiAgICAgKiBjb250YWlucyBhbGwgdGhlIHBhcnRzIHlvdSB1cGxvYWRlZC4gVGhpcyBGaWxlIGlzIHVzYWJsZSBpbiB0aGUgcmVzdCBvZiBvdXJcbiAgICAgKiBwbGF0Zm9ybSBhcyBhIHJlZ3VsYXIgRmlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBGb3IgY2VydGFpbiBgcHVycG9zZWBzLCB0aGUgY29ycmVjdCBgbWltZV90eXBlYCBtdXN0IGJlIHNwZWNpZmllZC4gUGxlYXNlIHJlZmVyXG4gICAgICogdG8gZG9jdW1lbnRhdGlvbiBmb3IgdGhlIHN1cHBvcnRlZCBNSU1FIHR5cGVzIGZvciB5b3VyIHVzZSBjYXNlOlxuICAgICAqXG4gICAgICogLSBbQXNzaXN0YW50c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaC9zdXBwb3J0ZWQtZmlsZXMpXG4gICAgICpcbiAgICAgKiBGb3IgZ3VpZGFuY2Ugb24gdGhlIHByb3BlciBmaWxlbmFtZSBleHRlbnNpb25zIGZvciBlYWNoIHB1cnBvc2UsIHBsZWFzZSBmb2xsb3dcbiAgICAgKiB0aGUgZG9jdW1lbnRhdGlvbiBvblxuICAgICAqIFtjcmVhdGluZyBhIEZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvY3JlYXRlKS5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy91cGxvYWRzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIHRoZSBVcGxvYWQuIE5vIFBhcnRzIG1heSBiZSBhZGRlZCBhZnRlciBhbiBVcGxvYWQgaXMgY2FuY2VsbGVkLlxuICAgICAqL1xuICAgIGNhbmNlbCh1cGxvYWRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC91cGxvYWRzLyR7dXBsb2FkSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZXMgdGhlXG4gICAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkuXG4gICAgICpcbiAgICAgKiBXaXRoaW4gdGhlIHJldHVybmVkIFVwbG9hZCBvYmplY3QsIHRoZXJlIGlzIGEgbmVzdGVkXG4gICAgICogW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvb2JqZWN0KSBvYmplY3QgdGhhdFxuICAgICAqIGlzIHJlYWR5IHRvIHVzZSBpbiB0aGUgcmVzdCBvZiB0aGUgcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgdGhlIG9yZGVyIG9mIHRoZSBQYXJ0cyBieSBwYXNzaW5nIGluIGFuIG9yZGVyZWQgbGlzdCBvZiB0aGUgUGFydFxuICAgICAqIElEcy5cbiAgICAgKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYnl0ZXMgdXBsb2FkZWQgdXBvbiBjb21wbGV0aW9uIG11c3QgbWF0Y2ggdGhlIG51bWJlciBvZiBieXRlc1xuICAgICAqIGluaXRpYWxseSBzcGVjaWZpZWQgd2hlbiBjcmVhdGluZyB0aGUgVXBsb2FkIG9iamVjdC4gTm8gUGFydHMgbWF5IGJlIGFkZGVkIGFmdGVyXG4gICAgICogYW4gVXBsb2FkIGlzIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBjb21wbGV0ZSh1cGxvYWRJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC91cGxvYWRzLyR7dXBsb2FkSWR9L2NvbXBsZXRlYCwgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbihmdW5jdGlvbiAoVXBsb2Fkcykge1xuICAgIFVwbG9hZHMuUGFydHMgPSBQYXJ0c0FQSS5QYXJ0cztcbn0pKFVwbG9hZHMgfHwgKFVwbG9hZHMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiUGFydHNBUEkiLCJVcGxvYWRzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJwYXJ0cyIsIlBhcnRzIiwiX2NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwicG9zdCIsImNhbmNlbCIsInVwbG9hZElkIiwiY29tcGxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/resources/uploads/uploads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/streaming.mjs":
/*!*******************************************!*\
  !*** ./node_modules/openai/streaming.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Stream: () => (/* binding */ Stream),\n/* harmony export */   _decodeChunks: () => (/* binding */ _decodeChunks),\n/* harmony export */   _iterSSEMessages: () => (/* binding */ _iterSSEMessages),\n/* harmony export */   readableStreamAsyncIterable: () => (/* binding */ readableStreamAsyncIterable)\n/* harmony export */ });\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var openai_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/error */ \"(rsc)/./node_modules/openai/error.mjs\");\n/* harmony import */ var _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/decoders/line.mjs */ \"(rsc)/./node_modules/openai/internal/decoders/line.mjs\");\n\n\n\n\nclass Stream {\n    constructor(iterator, controller){\n        this.iterator = iterator;\n        this.controller = controller;\n    }\n    static fromSSEResponse(response, controller) {\n        let consumed = false;\n        async function* iterator() {\n            if (consumed) {\n                throw new Error(\"Cannot iterate over a consumed stream, use `.tee()` to split the stream.\");\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of _iterSSEMessages(response, controller)){\n                    if (done) continue;\n                    if (sse.data.startsWith(\"[DONE]\")) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        } catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.APIError(undefined, data.error, undefined, undefined);\n                        }\n                        yield data;\n                    } else {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        } catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        // TODO: Is this where the error should be thrown?\n                        if (sse.event == \"error\") {\n                            throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.APIError(undefined, data.error, data.message, undefined);\n                        }\n                        yield {\n                            event: sse.event,\n                            data: data\n                        };\n                    }\n                }\n                done = true;\n            } catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === \"AbortError\") return;\n                throw e;\n            } finally{\n                // If the user `break`s, abort the ongoing request.\n                if (!done) controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */ static fromReadableStream(readableStream, controller) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_2__.LineDecoder();\n            const iter = readableStreamAsyncIterable(readableStream);\n            for await (const chunk of iter){\n                for (const line of lineDecoder.decode(chunk)){\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()){\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error(\"Cannot iterate over a consumed stream, use `.tee()` to split the stream.\");\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()){\n                    if (done) continue;\n                    if (line) yield JSON.parse(line);\n                }\n                done = true;\n            } catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === \"AbortError\") return;\n                throw e;\n            } finally{\n                // If the user `break`s, abort the ongoing request.\n                if (!done) controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */ tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue)=>{\n            return {\n                next: ()=>{\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                }\n            };\n        };\n        return [\n            new Stream(()=>teeIterator(left), this.controller),\n            new Stream(()=>teeIterator(right), this.controller)\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */ toReadableStream() {\n        const self = this;\n        let iter;\n        const encoder = new TextEncoder();\n        return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.ReadableStream({\n            async start () {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull (ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done) return ctrl.close();\n                    const bytes = encoder.encode(JSON.stringify(value) + \"\\n\");\n                    ctrl.enqueue(bytes);\n                } catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel () {\n                await iter.return?.();\n            }\n        });\n    }\n}\nasync function* _iterSSEMessages(response, controller) {\n    if (!response.body) {\n        controller.abort();\n        throw new openai_error__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`Attempted to iterate over a response with no body`);\n    }\n    const sseDecoder = new SSEDecoder();\n    const lineDecoder = new _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_2__.LineDecoder();\n    const iter = readableStreamAsyncIterable(response.body);\n    for await (const sseChunk of iterSSEChunks(iter)){\n        for (const line of lineDecoder.decode(sseChunk)){\n            const sse = sseDecoder.decode(line);\n            if (sse) yield sse;\n        }\n    }\n    for (const line of lineDecoder.flush()){\n        const sse = sseDecoder.decode(line);\n        if (sse) yield sse;\n    }\n}\n/**\n * Given an async iterable iterator, iterates over it and yields full\n * SSE chunks, i.e. yields when a double new-line is encountered.\n */ async function* iterSSEChunks(iterator) {\n    let data = new Uint8Array();\n    for await (const chunk of iterator){\n        if (chunk == null) {\n            continue;\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === \"string\" ? new TextEncoder().encode(chunk) : chunk;\n        let newData = new Uint8Array(data.length + binaryChunk.length);\n        newData.set(data);\n        newData.set(binaryChunk, data.length);\n        data = newData;\n        let patternIndex;\n        while((patternIndex = findDoubleNewlineIndex(data)) !== -1){\n            yield data.slice(0, patternIndex);\n            data = data.slice(patternIndex);\n        }\n    }\n    if (data.length > 0) {\n        yield data;\n    }\n}\nfunction findDoubleNewlineIndex(buffer) {\n    // This function searches the buffer for the end patterns (\\r\\r, \\n\\n, \\r\\n\\r\\n)\n    // and returns the index right after the first occurrence of any pattern,\n    // or -1 if none of the patterns are found.\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for(let i = 0; i < buffer.length - 2; i++){\n        if (buffer[i] === newline && buffer[i + 1] === newline) {\n            // \\n\\n\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === carriage) {\n            // \\r\\r\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === newline && i + 3 < buffer.length && buffer[i + 2] === carriage && buffer[i + 3] === newline) {\n            // \\r\\n\\r\\n\n            return i + 4;\n        }\n    }\n    return -1;\n}\nclass SSEDecoder {\n    constructor(){\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith(\"\\r\")) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length) return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join(\"\\n\"),\n                raw: this.chunks\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(\":\")) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, \":\");\n        if (value.startsWith(\" \")) {\n            value = value.substring(1);\n        }\n        if (fieldname === \"event\") {\n            this.event = value;\n        } else if (fieldname === \"data\") {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\n/** This is an internal helper function that's just used for testing */ function _decodeChunks(chunks) {\n    const decoder = new _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_2__.LineDecoder();\n    const lines = [];\n    for (const chunk of chunks){\n        lines.push(...decoder.decode(chunk));\n    }\n    return lines;\n}\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [\n            str.substring(0, index),\n            delimiter,\n            str.substring(index + delimiter.length)\n        ];\n    }\n    return [\n        str,\n        \"\",\n        \"\"\n    ];\n}\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */ function readableStreamAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator]) return stream;\n    const reader = stream.getReader();\n    return {\n        async next () {\n            try {\n                const result = await reader.read();\n                if (result?.done) reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            } catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return () {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return {\n                done: true,\n                value: undefined\n            };\n        },\n        [Symbol.asyncIterator] () {\n            return this;\n        }\n    };\n} //# sourceMappingURL=streaming.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM5QyxJQUFJQSxNQUFNLENBQUMzRCxPQUFPQyxhQUFhLENBQUMsRUFDNUIsT0FBTzBEO0lBQ1gsTUFBTUMsU0FBU0QsT0FBT0UsU0FBUztJQUMvQixPQUFPO1FBQ0gsTUFBTXREO1lBQ0YsSUFBSTtnQkFDQSxNQUFNRSxTQUFTLE1BQU1tRCxPQUFPRSxJQUFJO2dCQUNoQyxJQUFJckQsUUFBUW5DLE1BQ1JzRixPQUFPRyxXQUFXLElBQUksMENBQTBDO2dCQUNwRSxPQUFPdEQ7WUFDWCxFQUNBLE9BQU8zQixHQUFHO2dCQUNOOEUsT0FBT0csV0FBVyxJQUFJLDJDQUEyQztnQkFDakUsTUFBTWpGO1lBQ1Y7UUFDSjtRQUNBLE1BQU02QztZQUNGLE1BQU1xQyxnQkFBZ0JKLE9BQU9sQyxNQUFNO1lBQ25Da0MsT0FBT0csV0FBVztZQUNsQixNQUFNQztZQUNOLE9BQU87Z0JBQUUxRixNQUFNO2dCQUFNNkMsT0FBT2pDO1lBQVU7UUFDMUM7UUFDQSxDQUFDYyxPQUFPQyxhQUFhLENBQUM7WUFDbEIsT0FBTyxJQUFJO1FBQ2Y7SUFDSjtBQUNKLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvc3RyZWFtaW5nLm1qcz9hNzc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4vX3NoaW1zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IExpbmVEZWNvZGVyIH0gZnJvbSBcIi4vaW50ZXJuYWwvZGVjb2RlcnMvbGluZS5tanNcIjtcbmltcG9ydCB7IEFQSUVycm9yIH0gZnJvbSAnb3BlbmFpL2Vycm9yJztcbmV4cG9ydCBjbGFzcyBTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhdG9yLCBjb250cm9sbGVyKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgICAgICBsZXQgY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJhdG9yKCkge1xuICAgICAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaXRlcmF0ZSBvdmVyIGEgY29uc3VtZWQgc3RyZWFtLCB1c2UgYC50ZWUoKWAgdG8gc3BsaXQgdGhlIHN0cmVhbS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlIG9mIF9pdGVyU1NFTWVzc2FnZXMocmVzcG9uc2UsIGNvbnRyb2xsZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzc2UuZGF0YS5zdGFydHNXaXRoKCdbRE9ORV0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3NlLmV2ZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2Uoc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZyb20gY2h1bms6YCwgc3NlLnJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJRXJyb3IodW5kZWZpbmVkLCBkYXRhLmVycm9yLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIHdoZXJlIHRoZSBlcnJvciBzaG91bGQgYmUgdGhyb3duP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5ldmVudCA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgZGF0YS5tZXNzYWdlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgeyBldmVudDogc3NlLmV2ZW50LCBkYXRhOiBkYXRhIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgU3RyZWFtIGZyb20gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbVxuICAgICAqIHdoZXJlIGVhY2ggaXRlbSBpcyBhIEpTT04gdmFsdWUuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShyZWFkYWJsZVN0cmVhbSwgY29udHJvbGxlcikge1xuICAgICAgICBsZXQgY29uc3VtZWQgPSBmYWxzZTtcbiAgICAgICAgYXN5bmMgZnVuY3Rpb24qIGl0ZXJMaW5lcygpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgICAgICAgICBjb25zdCBpdGVyID0gcmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtKTtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGxpbmUgb2YgaXRlckxpbmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgdGhlIHN0cmVhbSBpbnRvIHR3byBzdHJlYW1zIHdoaWNoIGNhbiBiZVxuICAgICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAgICovXG4gICAgdGVlKCkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gW107XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBjb25zdCB0ZWVJdGVyYXRvciA9IChxdWV1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgICAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IocmlnaHQpLCB0aGlzLmNvbnRyb2xsZXIpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIHN0cmVhbSB0byBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtIG9mXG4gICAgICogSlNPTiBzdHJpbmdpZmllZCB2YWx1ZXMgaW4gdGhlIHN0cmVhbVxuICAgICAqIHdoaWNoIGNhbiBiZSB0dXJuZWQgYmFjayBpbnRvIGEgU3RyZWFtIHdpdGggYFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oKWAuXG4gICAgICovXG4gICAgdG9SZWFkYWJsZVN0cmVhbSgpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBpdGVyO1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgICAgICAgICAgaXRlciA9IHNlbGZbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgcHVsbChjdHJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSBlbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZW5xdWV1ZShieXRlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaXRlci5yZXR1cm4/LigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBBdHRlbXB0ZWQgdG8gaXRlcmF0ZSBvdmVyIGEgcmVzcG9uc2Ugd2l0aCBubyBib2R5YCk7XG4gICAgfVxuICAgIGNvbnN0IHNzZURlY29kZXIgPSBuZXcgU1NFRGVjb2RlcigpO1xuICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgY29uc3QgaXRlciA9IHJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYWJsZShyZXNwb25zZS5ib2R5KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZUNodW5rIG9mIGl0ZXJTU0VDaHVua3MoaXRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmRlY29kZShzc2VDaHVuaykpIHtcbiAgICAgICAgICAgIGNvbnN0IHNzZSA9IHNzZURlY29kZXIuZGVjb2RlKGxpbmUpO1xuICAgICAgICAgICAgaWYgKHNzZSlcbiAgICAgICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgIGlmIChzc2UpXG4gICAgICAgICAgICB5aWVsZCBzc2U7XG4gICAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbiBhc3luYyBpdGVyYWJsZSBpdGVyYXRvciwgaXRlcmF0ZXMgb3ZlciBpdCBhbmQgeWllbGRzIGZ1bGxcbiAqIFNTRSBjaHVua3MsIGkuZS4geWllbGRzIHdoZW4gYSBkb3VibGUgbmV3LWxpbmUgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uKiBpdGVyU1NFQ2h1bmtzKGl0ZXJhdG9yKSB7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheSgpO1xuICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgaWYgKGNodW5rID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJpbmFyeUNodW5rID0gY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGNodW5rKVxuICAgICAgICAgICAgICAgIDogY2h1bms7XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldChkYXRhKTtcbiAgICAgICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZERvdWJsZU5ld2xpbmVJbmRleChkYXRhKSkgIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhLnNsaWNlKDAsIHBhdHRlcm5JbmRleCk7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZShwYXR0ZXJuSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeWllbGQgZGF0YTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRG91YmxlTmV3bGluZUluZGV4KGJ1ZmZlcikge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucyAoXFxyXFxyLCBcXG5cXG4sIFxcclxcblxcclxcbilcbiAgICAvLyBhbmQgcmV0dXJucyB0aGUgaW5kZXggcmlnaHQgYWZ0ZXIgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW55IHBhdHRlcm4sXG4gICAgLy8gb3IgLTEgaWYgbm9uZSBvZiB0aGUgcGF0dGVybnMgYXJlIGZvdW5kLlxuICAgIGNvbnN0IG5ld2xpbmUgPSAweDBhOyAvLyBcXG5cbiAgICBjb25zdCBjYXJyaWFnZSA9IDB4MGQ7IC8vIFxcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lICYmIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIC8vIFxcblxcblxuICAgICAgICAgICAgcmV0dXJuIGkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IGNhcnJpYWdlICYmIGJ1ZmZlcltpICsgMV0gPT09IGNhcnJpYWdlKSB7XG4gICAgICAgICAgICAvLyBcXHJcXHJcbiAgICAgICAgICAgIHJldHVybiBpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAxXSA9PT0gbmV3bGluZSAmJlxuICAgICAgICAgICAgaSArIDMgPCBidWZmZXIubGVuZ3RoICYmXG4gICAgICAgICAgICBidWZmZXJbaSArIDJdID09PSBjYXJyaWFnZSAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAzXSA9PT0gbmV3bGluZSkge1xuICAgICAgICAgICAgLy8gXFxyXFxuXFxyXFxuXG4gICAgICAgICAgICByZXR1cm4gaSArIDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuY2xhc3MgU1NFRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICB9XG4gICAgZGVjb2RlKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUuZW5kc1dpdGgoJ1xccicpKSB7XG4gICAgICAgICAgICBsaW5lID0gbGluZS5zdWJzdHJpbmcoMCwgbGluZS5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IGxpbmUgYW5kIHdlIGRpZG4ndCBwcmV2aW91c2x5IGVuY291bnRlciBhbnkgbWVzc2FnZXNcbiAgICAgICAgICAgIGlmICghdGhpcy5ldmVudCAmJiAhdGhpcy5kYXRhLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHNzZSA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgcmF3OiB0aGlzLmNodW5rcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBzc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVua3MucHVzaChsaW5lKTtcbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgW2ZpZWxkbmFtZSwgXywgdmFsdWVdID0gcGFydGl0aW9uKGxpbmUsICc6Jyk7XG4gICAgICAgIGlmICh2YWx1ZS5zdGFydHNXaXRoKCcgJykpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZG5hbWUgPT09ICdldmVudCcpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZG5hbWUgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8qKiBUaGlzIGlzIGFuIGludGVybmFsIGhlbHBlciBmdW5jdGlvbiB0aGF0J3MganVzdCB1c2VkIGZvciB0ZXN0aW5nICovXG5leHBvcnQgZnVuY3Rpb24gX2RlY29kZUNodW5rcyhjaHVua3MpIHtcbiAgICBjb25zdCBkZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICBsaW5lcy5wdXNoKC4uLmRlY29kZXIuZGVjb2RlKGNodW5rKSk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lcztcbn1cbmZ1bmN0aW9uIHBhcnRpdGlvbihzdHIsIGRlbGltaXRlcikge1xuICAgIGNvbnN0IGluZGV4ID0gc3RyLmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBbc3RyLnN1YnN0cmluZygwLCBpbmRleCksIGRlbGltaXRlciwgc3RyLnN1YnN0cmluZyhpbmRleCArIGRlbGltaXRlci5sZW5ndGgpXTtcbiAgICB9XG4gICAgcmV0dXJuIFtzdHIsICcnLCAnJ107XG59XG4vKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmFibGUoc3RyZWFtKSB7XG4gICAgaWYgKHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pXG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdD8uZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBlcnJvcmVkXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTtcbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW1pbmcubWpzLm1hcCJdLCJuYW1lcyI6WyJSZWFkYWJsZVN0cmVhbSIsIk9wZW5BSUVycm9yIiwiTGluZURlY29kZXIiLCJBUElFcnJvciIsIlN0cmVhbSIsImNvbnN0cnVjdG9yIiwiaXRlcmF0b3IiLCJjb250cm9sbGVyIiwiZnJvbVNTRVJlc3BvbnNlIiwicmVzcG9uc2UiLCJjb25zdW1lZCIsIkVycm9yIiwiZG9uZSIsInNzZSIsIl9pdGVyU1NFTWVzc2FnZXMiLCJkYXRhIiwic3RhcnRzV2l0aCIsImV2ZW50IiwiSlNPTiIsInBhcnNlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsInJhdyIsInVuZGVmaW5lZCIsIm1lc3NhZ2UiLCJuYW1lIiwiYWJvcnQiLCJmcm9tUmVhZGFibGVTdHJlYW0iLCJyZWFkYWJsZVN0cmVhbSIsIml0ZXJMaW5lcyIsImxpbmVEZWNvZGVyIiwiaXRlciIsInJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYWJsZSIsImNodW5rIiwibGluZSIsImRlY29kZSIsImZsdXNoIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRlZSIsImxlZnQiLCJyaWdodCIsInRlZUl0ZXJhdG9yIiwicXVldWUiLCJuZXh0IiwibGVuZ3RoIiwicmVzdWx0IiwicHVzaCIsInNoaWZ0IiwidG9SZWFkYWJsZVN0cmVhbSIsInNlbGYiLCJlbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJzdGFydCIsInB1bGwiLCJjdHJsIiwidmFsdWUiLCJjbG9zZSIsImJ5dGVzIiwiZW5jb2RlIiwic3RyaW5naWZ5IiwiZW5xdWV1ZSIsImVyciIsImNhbmNlbCIsInJldHVybiIsImJvZHkiLCJzc2VEZWNvZGVyIiwiU1NFRGVjb2RlciIsInNzZUNodW5rIiwiaXRlclNTRUNodW5rcyIsIlVpbnQ4QXJyYXkiLCJiaW5hcnlDaHVuayIsIkFycmF5QnVmZmVyIiwibmV3RGF0YSIsInNldCIsInBhdHRlcm5JbmRleCIsImZpbmREb3VibGVOZXdsaW5lSW5kZXgiLCJzbGljZSIsImJ1ZmZlciIsIm5ld2xpbmUiLCJjYXJyaWFnZSIsImkiLCJjaHVua3MiLCJlbmRzV2l0aCIsInN1YnN0cmluZyIsImpvaW4iLCJmaWVsZG5hbWUiLCJfIiwicGFydGl0aW9uIiwiX2RlY29kZUNodW5rcyIsImRlY29kZXIiLCJsaW5lcyIsInN0ciIsImRlbGltaXRlciIsImluZGV4IiwiaW5kZXhPZiIsInN0cmVhbSIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImNhbmNlbFByb21pc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/streaming.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/uploads.mjs":
/*!*****************************************!*\
  !*** ./node_modules/openai/uploads.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createForm: () => (/* binding */ createForm),\n/* harmony export */   fileFromPath: () => (/* reexport safe */ _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.fileFromPath),\n/* harmony export */   isBlobLike: () => (/* binding */ isBlobLike),\n/* harmony export */   isFileLike: () => (/* binding */ isFileLike),\n/* harmony export */   isMultipartBody: () => (/* binding */ isMultipartBody),\n/* harmony export */   isResponseLike: () => (/* binding */ isResponseLike),\n/* harmony export */   isUploadable: () => (/* binding */ isUploadable),\n/* harmony export */   maybeMultipartFormRequestOptions: () => (/* binding */ maybeMultipartFormRequestOptions),\n/* harmony export */   multipartFormRequestOptions: () => (/* binding */ multipartFormRequestOptions),\n/* harmony export */   toFile: () => (/* binding */ toFile)\n/* harmony export */ });\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/openai/_shims/index.mjs\");\n\n\nconst isResponseLike = (value)=>value != null && typeof value === \"object\" && typeof value.url === \"string\" && typeof value.blob === \"function\";\nconst isFileLike = (value)=>value != null && typeof value === \"object\" && typeof value.name === \"string\" && typeof value.lastModified === \"number\" && isBlobLike(value);\n/**\n * The BlobLike type omits arrayBuffer() because @types/node-fetch@^2.6.4 lacks it; but this check\n * adds the arrayBuffer() method type because it is available and used at runtime\n */ const isBlobLike = (value)=>value != null && typeof value === \"object\" && typeof value.size === \"number\" && typeof value.type === \"string\" && typeof value.text === \"function\" && typeof value.slice === \"function\" && typeof value.arrayBuffer === \"function\";\nconst isUploadable = (value)=>{\n    return isFileLike(value) || isResponseLike(value) || (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.isFsReadStream)(value);\n};\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file.  Can be an {@link Uploadable}, {@link BlobLikePart}, or {@link AsyncIterable} of {@link BlobLikePart}s\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */ async function toFile(value, name, options) {\n    // If it's a promise, resolve it.\n    value = await value;\n    // If we've been given a `File` we don't need to do anything\n    if (isFileLike(value)) {\n        return value;\n    }\n    if (isResponseLike(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop() ?? \"unknown_file\");\n        // we need to convert the `Blob` into an array buffer because the `Blob` class\n        // that `node-fetch` defines is incompatible with the web standard which results\n        // in `new File` interpreting it as a string instead of binary data.\n        const data = isBlobLike(blob) ? [\n            await blob.arrayBuffer()\n        ] : [\n            blob\n        ];\n        return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.File(data, name, options);\n    }\n    const bits = await getBytes(value);\n    name || (name = getName(value) ?? \"unknown_file\");\n    if (!options?.type) {\n        const type = bits[0]?.type;\n        if (typeof type === \"string\") {\n            options = {\n                ...options,\n                type\n            };\n        }\n    }\n    return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.File(bits, name, options);\n}\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === \"string\" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n    value instanceof ArrayBuffer) {\n        parts.push(value);\n    } else if (isBlobLike(value)) {\n        parts.push(await value.arrayBuffer());\n    } else if (isAsyncIterableIterator(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value){\n            parts.push(chunk); // TODO, consider validating?\n        }\n    } else {\n        throw new Error(`Unexpected data type: ${typeof value}; constructor: ${value?.constructor?.name}; props: ${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    const props = Object.getOwnPropertyNames(value);\n    return `[${props.map((p)=>`\"${p}\"`).join(\", \")}]`;\n}\nfunction getName(value) {\n    return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream\n    getStringFromMaybeBuffer(value.path)?.split(/[\\\\/]/).pop();\n}\nconst getStringFromMaybeBuffer = (x)=>{\n    if (typeof x === \"string\") return x;\n    if (typeof Buffer !== \"undefined\" && x instanceof Buffer) return String(x);\n    return undefined;\n};\nconst isAsyncIterableIterator = (value)=>value != null && typeof value === \"object\" && typeof value[Symbol.asyncIterator] === \"function\";\nconst isMultipartBody = (body)=>body && typeof body === \"object\" && body.body && body[Symbol.toStringTag] === \"MultipartBody\";\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */ const maybeMultipartFormRequestOptions = async (opts)=>{\n    if (!hasUploadableValue(opts.body)) return opts;\n    const form = await createForm(opts.body);\n    return (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions)(form, opts);\n};\nconst multipartFormRequestOptions = async (opts)=>{\n    const form = await createForm(opts.body);\n    return (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions)(form, opts);\n};\nconst createForm = async (body)=>{\n    const form = new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value])=>addFormValue(form, key, value)));\n    return form;\n};\nconst hasUploadableValue = (value)=>{\n    if (isUploadable(value)) return true;\n    if (Array.isArray(value)) return value.some(hasUploadableValue);\n    if (value && typeof value === \"object\") {\n        for(const k in value){\n            if (hasUploadableValue(value[k])) return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value)=>{\n    if (value === undefined) return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n        form.append(key, String(value));\n    } else if (isUploadable(value)) {\n        const file = await toFile(value);\n        form.append(key, file);\n    } else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry)=>addFormValue(form, key + \"[]\", entry)));\n    } else if (typeof value === \"object\") {\n        await Promise.all(Object.entries(value).map(([name, prop])=>addFormValue(form, `${key}[${name}]`, prop)));\n    } else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n}; //# sourceMappingURL=uploads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3VwbG9hZHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQWlHO0FBQy9DO0FBQzNDLE1BQU1LLGlCQUFpQixDQUFDQyxRQUFVQSxTQUFTLFFBQzlDLE9BQU9BLFVBQVUsWUFDakIsT0FBT0EsTUFBTUMsR0FBRyxLQUFLLFlBQ3JCLE9BQU9ELE1BQU1FLElBQUksS0FBSyxXQUFXO0FBQzlCLE1BQU1DLGFBQWEsQ0FBQ0gsUUFBVUEsU0FBUyxRQUMxQyxPQUFPQSxVQUFVLFlBQ2pCLE9BQU9BLE1BQU1JLElBQUksS0FBSyxZQUN0QixPQUFPSixNQUFNSyxZQUFZLEtBQUssWUFDOUJDLFdBQVdOLE9BQU87QUFDdEI7OztDQUdDLEdBQ00sTUFBTU0sYUFBYSxDQUFDTixRQUFVQSxTQUFTLFFBQzFDLE9BQU9BLFVBQVUsWUFDakIsT0FBT0EsTUFBTU8sSUFBSSxLQUFLLFlBQ3RCLE9BQU9QLE1BQU1RLElBQUksS0FBSyxZQUN0QixPQUFPUixNQUFNUyxJQUFJLEtBQUssY0FDdEIsT0FBT1QsTUFBTVUsS0FBSyxLQUFLLGNBQ3ZCLE9BQU9WLE1BQU1XLFdBQVcsS0FBSyxXQUFXO0FBQ3JDLE1BQU1DLGVBQWUsQ0FBQ1o7SUFDekIsT0FBT0csV0FBV0gsVUFBVUQsZUFBZUMsVUFBVUgsZ0VBQWNBLENBQUNHO0FBQ3hFLEVBQUU7QUFDRjs7Ozs7Ozs7Q0FRQyxHQUNNLGVBQWVhLE9BQU9iLEtBQUssRUFBRUksSUFBSSxFQUFFVSxPQUFPO0lBQzdDLGlDQUFpQztJQUNqQ2QsUUFBUSxNQUFNQTtJQUNkLDREQUE0RDtJQUM1RCxJQUFJRyxXQUFXSCxRQUFRO1FBQ25CLE9BQU9BO0lBQ1g7SUFDQSxJQUFJRCxlQUFlQyxRQUFRO1FBQ3ZCLE1BQU1FLE9BQU8sTUFBTUYsTUFBTUUsSUFBSTtRQUM3QkUsUUFBU0EsQ0FBQUEsT0FBTyxJQUFJVyxJQUFJZixNQUFNQyxHQUFHLEVBQUVlLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVNDLEdBQUcsTUFBTSxjQUFhO1FBQ2pGLDhFQUE4RTtRQUM5RSxnRkFBZ0Y7UUFDaEYsb0VBQW9FO1FBQ3BFLE1BQU1DLE9BQU9iLFdBQVdKLFFBQVE7WUFBRSxNQUFNQSxLQUFLUyxXQUFXO1NBQUksR0FBRztZQUFDVDtTQUFLO1FBQ3JFLE9BQU8sSUFBSVAsa0RBQUlBLENBQUN3QixNQUFNZixNQUFNVTtJQUNoQztJQUNBLE1BQU1NLE9BQU8sTUFBTUMsU0FBU3JCO0lBQzVCSSxRQUFTQSxDQUFBQSxPQUFPa0IsUUFBUXRCLFVBQVUsY0FBYTtJQUMvQyxJQUFJLENBQUNjLFNBQVNOLE1BQU07UUFDaEIsTUFBTUEsT0FBT1ksSUFBSSxDQUFDLEVBQUUsRUFBRVo7UUFDdEIsSUFBSSxPQUFPQSxTQUFTLFVBQVU7WUFDMUJNLFVBQVU7Z0JBQUUsR0FBR0EsT0FBTztnQkFBRU47WUFBSztRQUNqQztJQUNKO0lBQ0EsT0FBTyxJQUFJYixrREFBSUEsQ0FBQ3lCLE1BQU1oQixNQUFNVTtBQUNoQztBQUNBLGVBQWVPLFNBQVNyQixLQUFLO0lBQ3pCLElBQUl1QixRQUFRLEVBQUU7SUFDZCxJQUFJLE9BQU92QixVQUFVLFlBQ2pCd0IsWUFBWUMsTUFBTSxDQUFDekIsVUFBVSxvQ0FBb0M7SUFDakVBLGlCQUFpQndCLGFBQWE7UUFDOUJELE1BQU1HLElBQUksQ0FBQzFCO0lBQ2YsT0FDSyxJQUFJTSxXQUFXTixRQUFRO1FBQ3hCdUIsTUFBTUcsSUFBSSxDQUFDLE1BQU0xQixNQUFNVyxXQUFXO0lBQ3RDLE9BQ0ssSUFBSWdCLHdCQUF3QjNCLE9BQU8sMENBQTBDO01BQ2hGO1FBQ0UsV0FBVyxNQUFNNEIsU0FBUzVCLE1BQU87WUFDN0J1QixNQUFNRyxJQUFJLENBQUNFLFFBQVEsNkJBQTZCO1FBQ3BEO0lBQ0osT0FDSztRQUNELE1BQU0sSUFBSUMsTUFBTSxDQUFDLHNCQUFzQixFQUFFLE9BQU83QixNQUFNLGVBQWUsRUFBRUEsT0FBTzhCLGFBQ3hFMUIsS0FBSyxTQUFTLEVBQUUyQixjQUFjL0IsT0FBTyxDQUFDO0lBQ2hEO0lBQ0EsT0FBT3VCO0FBQ1g7QUFDQSxTQUFTUSxjQUFjL0IsS0FBSztJQUN4QixNQUFNZ0MsUUFBUUMsT0FBT0MsbUJBQW1CLENBQUNsQztJQUN6QyxPQUFPLENBQUMsQ0FBQyxFQUFFZ0MsTUFBTUcsR0FBRyxDQUFDLENBQUNDLElBQU0sQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxDQUFDLEVBQUVDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN2RDtBQUNBLFNBQVNmLFFBQVF0QixLQUFLO0lBQ2xCLE9BQVFzQyx5QkFBeUJ0QyxNQUFNSSxJQUFJLEtBQ3ZDa0MseUJBQXlCdEMsTUFBTXVDLFFBQVEsS0FDdkMsb0JBQW9CO0lBQ3BCRCx5QkFBeUJ0QyxNQUFNd0MsSUFBSSxHQUFHdkIsTUFBTSxTQUFTQztBQUM3RDtBQUNBLE1BQU1vQiwyQkFBMkIsQ0FBQ0c7SUFDOUIsSUFBSSxPQUFPQSxNQUFNLFVBQ2IsT0FBT0E7SUFDWCxJQUFJLE9BQU9DLFdBQVcsZUFBZUQsYUFBYUMsUUFDOUMsT0FBT0MsT0FBT0Y7SUFDbEIsT0FBT0c7QUFDWDtBQUNBLE1BQU1qQiwwQkFBMEIsQ0FBQzNCLFFBQVVBLFNBQVMsUUFBUSxPQUFPQSxVQUFVLFlBQVksT0FBT0EsS0FBSyxDQUFDNkMsT0FBT0MsYUFBYSxDQUFDLEtBQUs7QUFDekgsTUFBTUMsa0JBQWtCLENBQUNDLE9BQVNBLFFBQVEsT0FBT0EsU0FBUyxZQUFZQSxLQUFLQSxJQUFJLElBQUlBLElBQUksQ0FBQ0gsT0FBT0ksV0FBVyxDQUFDLEtBQUssZ0JBQWdCO0FBQ3ZJOzs7Q0FHQyxHQUNNLE1BQU1DLG1DQUFtQyxPQUFPQztJQUNuRCxJQUFJLENBQUNDLG1CQUFtQkQsS0FBS0gsSUFBSSxHQUM3QixPQUFPRztJQUNYLE1BQU1FLE9BQU8sTUFBTUMsV0FBV0gsS0FBS0gsSUFBSTtJQUN2QyxPQUFPcEQsNEVBQTBCQSxDQUFDeUQsTUFBTUY7QUFDNUMsRUFBRTtBQUNLLE1BQU1JLDhCQUE4QixPQUFPSjtJQUM5QyxNQUFNRSxPQUFPLE1BQU1DLFdBQVdILEtBQUtILElBQUk7SUFDdkMsT0FBT3BELDRFQUEwQkEsQ0FBQ3lELE1BQU1GO0FBQzVDLEVBQUU7QUFDSyxNQUFNRyxhQUFhLE9BQU9OO0lBQzdCLE1BQU1LLE9BQU8sSUFBSTNELHNEQUFRQTtJQUN6QixNQUFNOEQsUUFBUUMsR0FBRyxDQUFDeEIsT0FBT3lCLE9BQU8sQ0FBQ1YsUUFBUSxDQUFDLEdBQUdiLEdBQUcsQ0FBQyxDQUFDLENBQUN3QixLQUFLM0QsTUFBTSxHQUFLNEQsYUFBYVAsTUFBTU0sS0FBSzNEO0lBQzNGLE9BQU9xRDtBQUNYLEVBQUU7QUFDRixNQUFNRCxxQkFBcUIsQ0FBQ3BEO0lBQ3hCLElBQUlZLGFBQWFaLFFBQ2IsT0FBTztJQUNYLElBQUk2RCxNQUFNQyxPQUFPLENBQUM5RCxRQUNkLE9BQU9BLE1BQU0rRCxJQUFJLENBQUNYO0lBQ3RCLElBQUlwRCxTQUFTLE9BQU9BLFVBQVUsVUFBVTtRQUNwQyxJQUFLLE1BQU1nRSxLQUFLaEUsTUFBTztZQUNuQixJQUFJb0QsbUJBQW1CcEQsS0FBSyxDQUFDZ0UsRUFBRSxHQUMzQixPQUFPO1FBQ2Y7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUNBLE1BQU1KLGVBQWUsT0FBT1AsTUFBTU0sS0FBSzNEO0lBQ25DLElBQUlBLFVBQVU0QyxXQUNWO0lBQ0osSUFBSTVDLFNBQVMsTUFBTTtRQUNmLE1BQU0sSUFBSWlFLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRU4sSUFBSSwyREFBMkQsQ0FBQztJQUM5RztJQUNBLHlDQUF5QztJQUN6QyxJQUFJLE9BQU8zRCxVQUFVLFlBQVksT0FBT0EsVUFBVSxZQUFZLE9BQU9BLFVBQVUsV0FBVztRQUN0RnFELEtBQUthLE1BQU0sQ0FBQ1AsS0FBS2hCLE9BQU8zQztJQUM1QixPQUNLLElBQUlZLGFBQWFaLFFBQVE7UUFDMUIsTUFBTW1FLE9BQU8sTUFBTXRELE9BQU9iO1FBQzFCcUQsS0FBS2EsTUFBTSxDQUFDUCxLQUFLUTtJQUNyQixPQUNLLElBQUlOLE1BQU1DLE9BQU8sQ0FBQzlELFFBQVE7UUFDM0IsTUFBTXdELFFBQVFDLEdBQUcsQ0FBQ3pELE1BQU1tQyxHQUFHLENBQUMsQ0FBQ2lDLFFBQVVSLGFBQWFQLE1BQU1NLE1BQU0sTUFBTVM7SUFDMUUsT0FDSyxJQUFJLE9BQU9wRSxVQUFVLFVBQVU7UUFDaEMsTUFBTXdELFFBQVFDLEdBQUcsQ0FBQ3hCLE9BQU95QixPQUFPLENBQUMxRCxPQUFPbUMsR0FBRyxDQUFDLENBQUMsQ0FBQy9CLE1BQU1pRSxLQUFLLEdBQUtULGFBQWFQLE1BQU0sQ0FBQyxFQUFFTSxJQUFJLENBQUMsRUFBRXZELEtBQUssQ0FBQyxDQUFDLEVBQUVpRTtJQUN4RyxPQUNLO1FBQ0QsTUFBTSxJQUFJSixVQUFVLENBQUMscUdBQXFHLEVBQUVqRSxNQUFNLFFBQVEsQ0FBQztJQUMvSTtBQUNKLEdBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanM/MTYwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtRGF0YSwgRmlsZSwgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMsIGlzRnNSZWFkU3RyZWFtLCB9IGZyb20gXCIuL19zaGltcy9pbmRleC5tanNcIjtcbmV4cG9ydCB7IGZpbGVGcm9tUGF0aCB9IGZyb20gXCIuL19zaGltcy9pbmRleC5tanNcIjtcbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5ibG9iID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzRmlsZUxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHZhbHVlLmxhc3RNb2RpZmllZCA9PT0gJ251bWJlcicgJiZcbiAgICBpc0Jsb2JMaWtlKHZhbHVlKTtcbi8qKlxuICogVGhlIEJsb2JMaWtlIHR5cGUgb21pdHMgYXJyYXlCdWZmZXIoKSBiZWNhdXNlIEB0eXBlcy9ub2RlLWZldGNoQF4yLjYuNCBsYWNrcyBpdDsgYnV0IHRoaXMgY2hlY2tcbiAqIGFkZHMgdGhlIGFycmF5QnVmZmVyKCkgbWV0aG9kIHR5cGUgYmVjYXVzZSBpdCBpcyBhdmFpbGFibGUgYW5kIHVzZWQgYXQgcnVudGltZVxuICovXG5leHBvcnQgY29uc3QgaXNCbG9iTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc1VwbG9hZGFibGUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUodmFsdWUsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAvLyBJZiBpdCdzIGEgcHJvbWlzZSwgcmVzb2x2ZSBpdC5cbiAgICB2YWx1ZSA9IGF3YWl0IHZhbHVlO1xuICAgIC8vIElmIHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBgRmlsZWAgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHZhbHVlLmJsb2IoKTtcbiAgICAgICAgbmFtZSB8fCAobmFtZSA9IG5ldyBVUkwodmFsdWUudXJsKS5wYXRobmFtZS5zcGxpdCgvW1xcXFwvXS8pLnBvcCgpID8/ICd1bmtub3duX2ZpbGUnKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byBjb252ZXJ0IHRoZSBgQmxvYmAgaW50byBhbiBhcnJheSBidWZmZXIgYmVjYXVzZSB0aGUgYEJsb2JgIGNsYXNzXG4gICAgICAgIC8vIHRoYXQgYG5vZGUtZmV0Y2hgIGRlZmluZXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIHdlYiBzdGFuZGFyZCB3aGljaCByZXN1bHRzXG4gICAgICAgIC8vIGluIGBuZXcgRmlsZWAgaW50ZXJwcmV0aW5nIGl0IGFzIGEgc3RyaW5nIGluc3RlYWQgb2YgYmluYXJ5IGRhdGEuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBpc0Jsb2JMaWtlKGJsb2IpID8gWyhhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpXSA6IFtibG9iXTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGRhdGEsIG5hbWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCBiaXRzID0gYXdhaXQgZ2V0Qnl0ZXModmFsdWUpO1xuICAgIG5hbWUgfHwgKG5hbWUgPSBnZXROYW1lKHZhbHVlKSA/PyAndW5rbm93bl9maWxlJyk7XG4gICAgaWYgKCFvcHRpb25zPy50eXBlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBiaXRzWzBdPy50eXBlO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGaWxlKGJpdHMsIG5hbWUsIG9wdGlvbnMpO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0Qnl0ZXModmFsdWUpIHtcbiAgICBsZXQgcGFydHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpIHx8IC8vIGluY2x1ZGVzIFVpbnQ4QXJyYXksIEJ1ZmZlciwgZXRjLlxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Jsb2JMaWtlKHZhbHVlKSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGF3YWl0IHZhbHVlLmFycmF5QnVmZmVyKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICAgKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goY2h1bmspOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZGF0YSB0eXBlOiAke3R5cGVvZiB2YWx1ZX07IGNvbnN0cnVjdG9yOiAke3ZhbHVlPy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgPy5uYW1lfTsgcHJvcHM6ICR7cHJvcHNGb3JFcnJvcih2YWx1ZSl9YCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWUpIHtcbiAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgICByZXR1cm4gYFske3Byb3BzLm1hcCgocCkgPT4gYFwiJHtwfVwiYCkuam9pbignLCAnKX1dYDtcbn1cbmZ1bmN0aW9uIGdldE5hbWUodmFsdWUpIHtcbiAgICByZXR1cm4gKGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5uYW1lKSB8fFxuICAgICAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUuZmlsZW5hbWUpIHx8XG4gICAgICAgIC8vIEZvciBmcy5SZWFkU3RyZWFtXG4gICAgICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKT8uc3BsaXQoL1tcXFxcL10vKS5wb3AoKSk7XG59XG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeCkgPT4ge1xuICAgIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB4O1xuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB4IGluc3RhbmNlb2YgQnVmZmVyKVxuICAgICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzTXVsdGlwYXJ0Qm9keSA9IChib2R5KSA9PiBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gICAgaWYgKCFoYXNVcGxvYWRhYmxlVmFsdWUob3B0cy5ib2R5KSlcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyAoYm9keSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyhib2R5IHx8IHt9KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGtleSwgdmFsdWUpKSk7XG4gICAgcmV0dXJuIGZvcm07XG59O1xuY29uc3QgaGFzVXBsb2FkYWJsZVZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNvbWUoaGFzVXBsb2FkYWJsZVZhbHVlKTtcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChoYXNVcGxvYWRhYmxlVmFsdWUodmFsdWVba10pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgKTtcbiAgICB9XG4gICAgLy8gVE9ETzogbWFrZSBuZXN0ZWQgZm9ybWF0cyBjb25maWd1cmFibGVcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGZvcm0uYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRvRmlsZSh2YWx1ZSk7XG4gICAgICAgIGZvcm0uYXBwZW5kKGtleSwgZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHZhbHVlLm1hcCgoZW50cnkpID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXkgKyAnW10nLCBlbnRyeSkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyh2YWx1ZSkubWFwKChbbmFtZSwgcHJvcF0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBgJHtrZXl9WyR7bmFtZX1dYCwgcHJvcCkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgdmFsdWUgZ2l2ZW4gdG8gZm9ybSwgZXhwZWN0ZWQgYSBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb2JqZWN0LCBBcnJheSwgRmlsZSBvciBCbG9iIGJ1dCBnb3QgJHt2YWx1ZX0gaW5zdGVhZGApO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGxvYWRzLm1qcy5tYXAiXSwibmFtZXMiOlsiRm9ybURhdGEiLCJGaWxlIiwiZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMiLCJpc0ZzUmVhZFN0cmVhbSIsImZpbGVGcm9tUGF0aCIsImlzUmVzcG9uc2VMaWtlIiwidmFsdWUiLCJ1cmwiLCJibG9iIiwiaXNGaWxlTGlrZSIsIm5hbWUiLCJsYXN0TW9kaWZpZWQiLCJpc0Jsb2JMaWtlIiwic2l6ZSIsInR5cGUiLCJ0ZXh0Iiwic2xpY2UiLCJhcnJheUJ1ZmZlciIsImlzVXBsb2FkYWJsZSIsInRvRmlsZSIsIm9wdGlvbnMiLCJVUkwiLCJwYXRobmFtZSIsInNwbGl0IiwicG9wIiwiZGF0YSIsImJpdHMiLCJnZXRCeXRlcyIsImdldE5hbWUiLCJwYXJ0cyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicHVzaCIsImlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yIiwiY2h1bmsiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicHJvcHNGb3JFcnJvciIsInByb3BzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm1hcCIsInAiLCJqb2luIiwiZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyIiwiZmlsZW5hbWUiLCJwYXRoIiwieCIsIkJ1ZmZlciIsIlN0cmluZyIsInVuZGVmaW5lZCIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJpc011bHRpcGFydEJvZHkiLCJib2R5IiwidG9TdHJpbmdUYWciLCJtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsIm9wdHMiLCJoYXNVcGxvYWRhYmxlVmFsdWUiLCJmb3JtIiwiY3JlYXRlRm9ybSIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJlbnRyaWVzIiwia2V5IiwiYWRkRm9ybVZhbHVlIiwiQXJyYXkiLCJpc0FycmF5Iiwic29tZSIsImsiLCJUeXBlRXJyb3IiLCJhcHBlbmQiLCJmaWxlIiwiZW50cnkiLCJwcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/uploads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/openai/version.mjs":
/*!*****************************************!*\
  !*** ./node_modules/openai/version.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERSION: () => (/* binding */ VERSION)\n/* harmony export */ });\nconst VERSION = \"4.69.0\"; // x-release-please-version\n //# sourceMappingURL=version.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvb3BlbmFpL3ZlcnNpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSxVQUFVLFNBQVMsQ0FBQywyQkFBMkI7Q0FDNUQsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLTEzLXJlcGxpdC8uL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanM/ZGMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjY5LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcCJdLCJuYW1lcyI6WyJWRVJTSU9OIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/openai/version.mjs\n");

/***/ })

};
;